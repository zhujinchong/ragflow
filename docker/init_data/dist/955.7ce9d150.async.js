!(function(){"use strict";var Uu=Object.defineProperty,Ku=Object.defineProperties;var Gu=Object.getOwnPropertyDescriptors;var qn=Object.getOwnPropertySymbols;var Us=Object.prototype.hasOwnProperty,Ks=Object.prototype.propertyIsEnumerable;var Fr=Math.pow,Ws=(de,q,A)=>q in de?Uu(de,q,{enumerable:!0,configurable:!0,writable:!0,value:A}):de[q]=A,U=(de,q)=>{for(var A in q||(q={}))Us.call(q,A)&&Ws(de,A,q[A]);if(qn)for(var A of qn(q))Ks.call(q,A)&&Ws(de,A,q[A]);return de},Te=(de,q)=>Ku(de,Gu(q));var Ft=(de,q)=>{var A={};for(var f in de)Us.call(de,f)&&q.indexOf(f)<0&&(A[f]=de[f]);if(de!=null&&qn)for(var f of qn(de))q.indexOf(f)<0&&Ks.call(de,f)&&(A[f]=de[f]);return A};(self.webpackChunk=self.webpackChunk||[]).push([[955],{6171:function(de,q,A){A.d(q,{Z:function(){return Ee}});var f=A(87462),X=A(62435),ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},ce=ue,ge=A(84089),le=function(pe,xe){return X.createElement(ge.Z,(0,f.Z)({},pe,{ref:xe,icon:ce}))},Ee=X.forwardRef(le)},82099:function(de,q,A){A.d(q,{Z:function(){return Ee}});var f=A(87462),X=A(62435),ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482.2 508.4L331.3 389c-3-2.4-7.3-.2-7.3 3.6V478H184V184h204v128c0 2.2 1.8 4 4 4h60c2.2 0 4-1.8 4-4V144c0-15.5-12.5-28-28-28H144c-15.5 0-28 12.5-28 28v736c0 15.5 12.5 28 28 28h284c15.5 0 28-12.5 28-28V712c0-2.2-1.8-4-4-4h-60c-2.2 0-4 1.8-4 4v128H184V546h140v85.4c0 3.8 4.4 6 7.3 3.6l150.9-119.4a4.5 4.5 0 000-7.2zM880 116H596c-15.5 0-28 12.5-28 28v168c0 2.2 1.8 4 4 4h60c2.2 0 4-1.8 4-4V184h204v294H700v-85.4c0-3.8-4.3-6-7.3-3.6l-151 119.4a4.52 4.52 0 000 7.1l151 119.5c2.9 2.3 7.3.2 7.3-3.6V546h140v294H636V712c0-2.2-1.8-4-4-4h-60c-2.2 0-4 1.8-4 4v168c0 15.5 12.5 28 28 28h284c15.5 0 28-12.5 28-28V144c0-15.5-12.5-28-28-28z"}}]},name:"merge-cells",theme:"outlined"},ce=ue,ge=A(84089),le=function(pe,xe){return X.createElement(ge.Z,(0,f.Z)({},pe,{ref:xe,icon:ce}))},Ee=X.forwardRef(le)},90814:function(de,q,A){A.d(q,{Z:function(){return Ee}});var f=A(87462),X=A(62435),ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},ce=ue,ge=A(84089),le=function(pe,xe){return X.createElement(ge.Z,(0,f.Z)({},pe,{ref:xe,icon:ce}))},Ee=X.forwardRef(le)},67841:function(de,q,A){A.d(q,{Z:function(){return Ee}});var f=A(87462),X=A(62435),ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 736c0-111.6-65.4-208-160-252.9V317.3c0-15.1-5.3-29.7-15.1-41.2L536.5 95.4C530.1 87.8 521 84 512 84s-18.1 3.8-24.5 11.4L335.1 276.1a63.97 63.97 0 00-15.1 41.2v165.8C225.4 528 160 624.4 160 736h156.5c-2.3 7.2-3.5 15-3.5 23.8 0 22.1 7.6 43.7 21.4 60.8a97.2 97.2 0 0043.1 30.6c23.1 54 75.6 88.8 134.5 88.8 29.1 0 57.3-8.6 81.4-24.8 23.6-15.8 41.9-37.9 53-64a97 97 0 0043.1-30.5 97.52 97.52 0 0021.4-60.8c0-8.4-1.1-16.4-3.1-23.8H864zM762.3 621.4c9.4 14.6 17 30.3 22.5 46.6H700V558.7a211.6 211.6 0 0162.3 62.7zM388 483.1V318.8l124-147 124 147V668H388V483.1zM239.2 668c5.5-16.3 13.1-32 22.5-46.6 16.3-25.2 37.5-46.5 62.3-62.7V668h-84.8zm388.9 116.2c-5.2 3-11.2 4.2-17.1 3.4l-19.5-2.4-2.8 19.4c-5.4 37.9-38.4 66.5-76.7 66.5-38.3 0-71.3-28.6-76.7-66.5l-2.8-19.5-19.5 2.5a27.7 27.7 0 01-17.1-3.5c-8.7-5-14.1-14.3-14.1-24.4 0-10.6 5.9-19.4 14.6-23.8h231.3c8.8 4.5 14.6 13.3 14.6 23.8-.1 10.2-5.5 19.6-14.2 24.5zM464 400a48 48 0 1096 0 48 48 0 10-96 0z"}}]},name:"rocket",theme:"outlined"},ce=ue,ge=A(84089),le=function(pe,xe){return X.createElement(ge.Z,(0,f.Z)({},pe,{ref:xe,icon:ce}))},Ee=X.forwardRef(le)},27496:function(de,q,A){A.d(q,{Z:function(){return Ee}});var f=A(87462),X=A(62435),ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"},ce=ue,ge=A(84089),le=function(pe,xe){return X.createElement(ge.Z,(0,f.Z)({},pe,{ref:xe,icon:ce}))},Ee=X.forwardRef(le)},94326:function(){},57838:function(de,q,A){A.d(q,{Z:function(){return X}});var f=A(62435);function X(){const[,ue]=f.useReducer(ce=>ce+1,0);return ue}},86250:function(de,q,A){A.d(q,{Z:function(){return Ne}});var f=A(62435),X=A(93967),ue=A.n(X),ce=A(98423),ge=A(98065),le=A(53124),Ee=A(91945),Le=A(45503);const pe=["wrap","nowrap","wrap-reverse"],xe=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],Re=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],st=(Z,te)=>{const F={};return pe.forEach(V=>{F[`${Z}-wrap-${V}`]=te.wrap===V}),F},be=(Z,te)=>{const F={};return Re.forEach(V=>{F[`${Z}-align-${V}`]=te.align===V}),F[`${Z}-align-stretch`]=!te.align&&!!te.vertical,F},ie=(Z,te)=>{const F={};return xe.forEach(V=>{F[`${Z}-justify-${V}`]=te.justify===V}),F};function Y(Z,te){return ue()(Object.assign(Object.assign(Object.assign({},st(Z,te)),be(Z,te)),ie(Z,te)))}var oe=Y;const ye=Z=>{const{componentCls:te}=Z;return{[te]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},Ce=Z=>{const{componentCls:te}=Z;return{[te]:{"&-gap-small":{gap:Z.flexGapSM},"&-gap-middle":{gap:Z.flexGap},"&-gap-large":{gap:Z.flexGapLG}}}},_e=Z=>{const{componentCls:te}=Z,F={};return pe.forEach(V=>{F[`${te}-wrap-${V}`]={flexWrap:V}}),F},Ye=Z=>{const{componentCls:te}=Z,F={};return Re.forEach(V=>{F[`${te}-align-${V}`]={alignItems:V}}),F},Ge=Z=>{const{componentCls:te}=Z,F={};return xe.forEach(V=>{F[`${te}-justify-${V}`]={justifyContent:V}}),F},Je=()=>({});var se=(0,Ee.I$)("Flex",Z=>{const{paddingXS:te,padding:F,paddingLG:V}=Z,G=(0,Le.TS)(Z,{flexGapSM:te,flexGap:F,flexGapLG:V});return[ye(G),Ce(G),_e(G),Ye(G),Ge(G)]},Je,{resetStyle:!1}),ze=function(Z,te){var F={};for(var V in Z)Object.prototype.hasOwnProperty.call(Z,V)&&te.indexOf(V)<0&&(F[V]=Z[V]);if(Z!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,V=Object.getOwnPropertySymbols(Z);G<V.length;G++)te.indexOf(V[G])<0&&Object.prototype.propertyIsEnumerable.call(Z,V[G])&&(F[V[G]]=Z[V[G]]);return F},Ne=f.forwardRef((Z,te)=>{const{prefixCls:F,rootClassName:V,className:G,style:ee,flex:ne,gap:we,children:Ve,vertical:De=!1,component:Pe="div"}=Z,Ze=ze(Z,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:Me,direction:je,getPrefixCls:qe}=f.useContext(le.E_),Ie=qe("flex",F),[Qe,We,it]=se(Ie),et=De!=null?De:Me==null?void 0:Me.vertical,gt=ue()(G,V,Me==null?void 0:Me.className,Ie,We,it,oe(Ie,Z),{[`${Ie}-rtl`]:je==="rtl",[`${Ie}-gap-${we}`]:(0,ge.n)(we),[`${Ie}-vertical`]:et}),at=Object.assign(Object.assign({},Me==null?void 0:Me.style),ee);return ne&&(at.flex=ne),we&&!(0,ge.n)(we)&&(at.gap=we),Qe(f.createElement(Pe,Object.assign({ref:te,className:gt,style:at},(0,ce.Z)(Ze,["justify","wrap","align"])),Ve))})},25378:function(de,q,A){var f=A(62435),X=A(8410),ue=A(57838),ce=A(74443);function ge(){let le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const Ee=(0,f.useRef)({}),Le=(0,ue.Z)(),pe=(0,ce.ZP)();return(0,X.Z)(()=>{const xe=pe.subscribe(Re=>{Ee.current=Re,le&&Le()});return()=>pe.unsubscribe(xe)},[]),Ee.current}q.Z=ge},7293:function(de,q,A){A.d(q,{D:function(){return _e},Z:function(){return Je}});var f=A(62435),X=A(87462),ue={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},ce=ue,ge=A(84089),le=function(ze,Xe){return f.createElement(ge.Z,(0,X.Z)({},ze,{ref:Xe,icon:ce}))},Ee=f.forwardRef(le),Le=A(6171),pe=A(90814),xe=A(93967),Re=A.n(xe),st=A(98423),ie=se=>!isNaN(parseFloat(se))&&isFinite(se),Y=A(53124),oe=A(82401),ye=function(se,ze){var Xe={};for(var Ne in se)Object.prototype.hasOwnProperty.call(se,Ne)&&ze.indexOf(Ne)<0&&(Xe[Ne]=se[Ne]);if(se!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Z=0,Ne=Object.getOwnPropertySymbols(se);Z<Ne.length;Z++)ze.indexOf(Ne[Z])<0&&Object.prototype.propertyIsEnumerable.call(se,Ne[Z])&&(Xe[Ne[Z]]=se[Ne[Z]]);return Xe};const Ce={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},_e=f.createContext({}),Ye=(()=>{let se=0;return function(){let ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return se+=1,`${ze}${se}`}})();var Je=f.forwardRef((se,ze)=>{const{prefixCls:Xe,className:Ne,trigger:Z,children:te,defaultCollapsed:F=!1,theme:V="dark",style:G={},collapsible:ee=!1,reverseArrow:ne=!1,width:we=200,collapsedWidth:Ve=80,zeroWidthTriggerStyle:De,breakpoint:Pe,onCollapse:Ze,onBreakpoint:Me}=se,je=ye(se,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:qe}=(0,f.useContext)(oe.V),[Ie,Qe]=(0,f.useState)("collapsed"in se?se.collapsed:F),[We,it]=(0,f.useState)(!1);(0,f.useEffect)(()=>{"collapsed"in se&&Qe(se.collapsed)},[se.collapsed]);const et=(fe,Be)=>{"collapsed"in se||Qe(fe),Ze==null||Ze(fe,Be)},gt=(0,f.useRef)();gt.current=fe=>{it(fe.matches),Me==null||Me(fe.matches),Ie!==fe.matches&&et(fe.matches,"responsive")},(0,f.useEffect)(()=>{function fe(tt){return gt.current(tt)}let Be;if(typeof window!="undefined"){const{matchMedia:tt}=window;if(tt&&Pe&&Pe in Ce){Be=tt(`screen and (max-width: ${Ce[Pe]})`);try{Be.addEventListener("change",fe)}catch(wt){Be.addListener(fe)}fe(Be)}}return()=>{try{Be==null||Be.removeEventListener("change",fe)}catch(tt){Be==null||Be.removeListener(fe)}}},[Pe]),(0,f.useEffect)(()=>{const fe=Ye("ant-sider-");return qe.addSider(fe),()=>qe.removeSider(fe)},[]);const at=()=>{et(!Ie,"clickTrigger")},{getPrefixCls:Nt}=(0,f.useContext)(Y.E_),an=()=>{const fe=Nt("layout-sider",Xe),Be=(0,st.Z)(je,["collapsed"]),tt=Ie?Ve:we,wt=ie(tt)?`${tt}px`:String(tt),ln=parseFloat(String(Ve||0))===0?f.createElement("span",{onClick:at,className:Re()(`${fe}-zero-width-trigger`,`${fe}-zero-width-trigger-${ne?"right":"left"}`),style:De},Z||f.createElement(Ee,null)):null,er={expanded:ne?f.createElement(pe.Z,null):f.createElement(Le.Z,null),collapsed:ne?f.createElement(Le.Z,null):f.createElement(pe.Z,null)}[Ie?"collapsed":"expanded"],tr=Z!==null?ln||f.createElement("div",{className:`${fe}-trigger`,onClick:at,style:{width:wt}},Z||er):null,nr=Object.assign(Object.assign({},G),{flex:`0 0 ${wt}`,maxWidth:wt,minWidth:wt,width:wt}),un=Re()(fe,`${fe}-${V}`,{[`${fe}-collapsed`]:!!Ie,[`${fe}-has-trigger`]:ee&&Z!==null&&!ln,[`${fe}-below`]:!!We,[`${fe}-zero-width`]:parseFloat(wt)===0},Ne);return f.createElement("aside",Object.assign({className:un},Be,{style:nr,ref:ze}),f.createElement("div",{className:`${fe}-children`},te),ee||We&&ln?tr:null)},cn=f.useMemo(()=>({siderCollapsed:Ie}),[Ie]);return f.createElement(_e.Provider,{value:cn},an())})},82401:function(de,q,A){A.d(q,{V:function(){return X}});var f=A(62435);const X=f.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}})},21612:function(de,q,A){A.d(q,{Z:function(){return te}});var f=A(74902),X=A(62435),ue=A(93967),ce=A.n(ue),ge=A(98423),le=A(53124),Ee=A(82401),Le=A(50344),pe=A(7293);function xe(F,V,G){return typeof G=="boolean"?G:F.length?!0:(0,Le.Z)(V).some(ne=>ne.type===pe.Z)}var Re=A(54548),st=A(91945),ie=F=>{const{componentCls:V,bodyBg:G,lightSiderBg:ee,lightTriggerBg:ne,lightTriggerColor:we}=F;return{[`${V}-sider-light`]:{background:ee,[`${V}-sider-trigger`]:{color:we,background:ne},[`${V}-sider-zero-width-trigger`]:{color:we,background:ne,border:`1px solid ${G}`,borderInlineStart:0}}}};const Y=F=>{const{antCls:V,componentCls:G,colorText:ee,triggerColor:ne,footerBg:we,triggerBg:Ve,headerHeight:De,headerPadding:Pe,headerColor:Ze,footerPadding:Me,triggerHeight:je,zeroTriggerHeight:qe,zeroTriggerWidth:Ie,motionDurationMid:Qe,motionDurationSlow:We,fontSize:it,borderRadius:et,bodyBg:gt,headerBg:at,siderBg:Nt}=F;return{[G]:Object.assign(Object.assign({display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:gt,"&, *":{boxSizing:"border-box"},[`&${G}-has-sider`]:{flexDirection:"row",[`> ${G}, > ${G}-content`]:{width:0}},[`${G}-header, &${G}-footer`]:{flex:"0 0 auto"},[`${G}-sider`]:{position:"relative",minWidth:0,background:Nt,transition:`all ${Qe}, background 0s`,"&-children":{height:"100%",marginTop:-.1,paddingTop:.1,[`${V}-menu${V}-menu-inline-collapsed`]:{width:"auto"}},"&-has-trigger":{paddingBottom:je},"&-right":{order:1},"&-trigger":{position:"fixed",bottom:0,zIndex:1,height:je,color:ne,lineHeight:(0,Re.bf)(je),textAlign:"center",background:Ve,cursor:"pointer",transition:`all ${Qe}`},"&-zero-width":{"> *":{overflow:"hidden"},"&-trigger":{position:"absolute",top:De,insetInlineEnd:F.calc(Ie).mul(-1).equal(),zIndex:1,width:Ie,height:qe,color:ne,fontSize:F.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:Nt,borderStartStartRadius:0,borderStartEndRadius:et,borderEndEndRadius:et,borderEndStartRadius:0,cursor:"pointer",transition:`background ${We} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${We}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:F.calc(Ie).mul(-1).equal(),borderStartStartRadius:et,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:et}}}}},ie(F)),{"&-rtl":{direction:"rtl"}}),[`${G}-header`]:{height:De,padding:Pe,color:Ze,lineHeight:(0,Re.bf)(De),background:at,[`${V}-menu`]:{lineHeight:"inherit"}},[`${G}-footer`]:{padding:Me,color:ee,fontSize:it,background:we},[`${G}-content`]:{flex:"auto",minHeight:0}}},oe=F=>{const{colorBgLayout:V,controlHeight:G,controlHeightLG:ee,colorText:ne,controlHeightSM:we,marginXXS:Ve,colorTextLightSolid:De,colorBgContainer:Pe}=F,Ze=ee*1.25;return{colorBgHeader:"#001529",colorBgBody:V,colorBgTrigger:"#002140",bodyBg:V,headerBg:"#001529",headerHeight:G*2,headerPadding:`0 ${Ze}px`,headerColor:ne,footerPadding:`${we}px ${Ze}px`,footerBg:V,siderBg:"#001529",triggerHeight:ee+Ve*2,triggerBg:"#002140",triggerColor:De,zeroTriggerWidth:ee,zeroTriggerHeight:ee,lightSiderBg:Pe,lightTriggerBg:Pe,lightTriggerColor:ne}};var ye=(0,st.I$)("Layout",F=>[Y(F)],oe,{deprecatedTokens:[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]]}),Ce=function(F,V){var G={};for(var ee in F)Object.prototype.hasOwnProperty.call(F,ee)&&V.indexOf(ee)<0&&(G[ee]=F[ee]);if(F!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ne=0,ee=Object.getOwnPropertySymbols(F);ne<ee.length;ne++)V.indexOf(ee[ne])<0&&Object.prototype.propertyIsEnumerable.call(F,ee[ne])&&(G[ee[ne]]=F[ee[ne]]);return G};function _e(F){let{suffixCls:V,tagName:G,displayName:ee}=F;return ne=>X.forwardRef((Ve,De)=>X.createElement(ne,Object.assign({ref:De,suffixCls:V,tagName:G},Ve)))}const Ye=X.forwardRef((F,V)=>{const{prefixCls:G,suffixCls:ee,className:ne,tagName:we}=F,Ve=Ce(F,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:De}=X.useContext(le.E_),Pe=De("layout",G),[Ze,Me,je]=ye(Pe),qe=ee?`${Pe}-${ee}`:Pe;return Ze(X.createElement(we,Object.assign({className:ce()(G||qe,ne,Me,je),ref:V},Ve)))}),Ge=X.forwardRef((F,V)=>{const{direction:G}=X.useContext(le.E_),[ee,ne]=X.useState([]),{prefixCls:we,className:Ve,rootClassName:De,children:Pe,hasSider:Ze,tagName:Me,style:je}=F,qe=Ce(F,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),Ie=(0,ge.Z)(qe,["suffixCls"]),{getPrefixCls:Qe,layout:We}=X.useContext(le.E_),it=Qe("layout",we),et=xe(ee,Pe,Ze),[gt,at,Nt]=ye(it),an=ce()(it,{[`${it}-has-sider`]:et,[`${it}-rtl`]:G==="rtl"},We==null?void 0:We.className,Ve,De,at,Nt),cn=X.useMemo(()=>({siderHook:{addSider:fe=>{ne(Be=>[].concat((0,f.Z)(Be),[fe]))},removeSider:fe=>{ne(Be=>Be.filter(tt=>tt!==fe))}}}),[]);return gt(X.createElement(Ee.V.Provider,{value:cn},X.createElement(Me,Object.assign({ref:V,className:an,style:Object.assign(Object.assign({},We==null?void 0:We.style),je)},Ie),Pe)))}),Je=_e({tagName:"div",displayName:"Layout"})(Ge),se=_e({suffixCls:"header",tagName:"header",displayName:"Header"})(Ye),ze=_e({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(Ye),Xe=_e({suffixCls:"content",tagName:"main",displayName:"Content"})(Ye);var Ne=Je;const Z=Ne;Z.Header=se,Z.Footer=ze,Z.Content=Xe,Z.Sider=pe.Z,Z._InternalSiderContext=pe.D;var te=Z},40009:function(de,q,A){A.d(q,{A:function(){return be}});var f=A(62435),X=A(83840),ue=A(37261);function ce(ie,Y){if(Object.is(ie,Y))return!0;if(typeof ie!="object"||ie===null||typeof Y!="object"||Y===null)return!1;if(ie instanceof Map&&Y instanceof Map){if(ie.size!==Y.size)return!1;for(const[ye,Ce]of ie)if(!Object.is(Ce,Y.get(ye)))return!1;return!0}if(ie instanceof Set&&Y instanceof Set){if(ie.size!==Y.size)return!1;for(const ye of ie)if(!Y.has(ye))return!1;return!0}const oe=Object.keys(ie);if(oe.length!==Object.keys(Y).length)return!1;for(const ye of oe)if(!Object.prototype.hasOwnProperty.call(Y,ye)||!Object.is(ie[ye],Y[ye]))return!1;return!0}var ge=(ie,Y)=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { shallow } from 'zustand/shallow'`."),ce(ie,Y)),le;(function(ie){ie.Lines="lines",ie.Dots="dots",ie.Cross="cross"})(le||(le={}));function Ee({color:ie,dimensions:Y,lineWidth:oe}){return f.createElement("path",{stroke:ie,strokeWidth:oe,d:`M${Y[0]/2} 0 V${Y[1]} M0 ${Y[1]/2} H${Y[0]}`})}function Le({color:ie,radius:Y}){return f.createElement("circle",{cx:Y,cy:Y,r:Y,fill:ie})}const pe={[le.Dots]:"#91919a",[le.Lines]:"#eee",[le.Cross]:"#e2e2e2"},xe={[le.Dots]:1,[le.Lines]:1,[le.Cross]:6},Re=ie=>({transform:ie.transform,patternId:`pattern-${ie.rfId}`});function st({id:ie,variant:Y=le.Dots,gap:oe=20,size:ye,lineWidth:Ce=1,offset:_e=2,color:Ye,style:Ge,className:Je}){const se=(0,f.useRef)(null),{transform:ze,patternId:Xe}=(0,ue.oR)(Re,ce),Ne=Ye||pe[Y],Z=ye||xe[Y],te=Y===le.Dots,F=Y===le.Cross,V=Array.isArray(oe)?oe:[oe,oe],G=[V[0]*ze[2]||1,V[1]*ze[2]||1],ee=Z*ze[2],ne=F?[ee,ee]:G,we=te?[ee/_e,ee/_e]:[ne[0]/_e,ne[1]/_e];return f.createElement("svg",{className:(0,X.Z)(["react-flow__background",Je]),style:Te(U({},Ge),{position:"absolute",width:"100%",height:"100%",top:0,left:0}),ref:se,"data-testid":"rf__background"},f.createElement("pattern",{id:Xe+ie,x:ze[0]%G[0],y:ze[1]%G[1],width:G[0],height:G[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${we[0]},-${we[1]})`},te?f.createElement(Le,{color:Ne,radius:ee/_e}):f.createElement(Ee,{dimensions:ne,color:Ne,lineWidth:Ce})),f.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${Xe+ie})`}))}st.displayName="Background";var be=(0,f.memo)(st)},34334:function(de,q,A){A.d(q,{Z:function(){return ie}});var f=A(62435),X=A(83840);function ue(Y,oe){if(Object.is(Y,oe))return!0;if(typeof Y!="object"||Y===null||typeof oe!="object"||oe===null)return!1;if(Y instanceof Map&&oe instanceof Map){if(Y.size!==oe.size)return!1;for(const[Ce,_e]of Y)if(!Object.is(_e,oe.get(Ce)))return!1;return!0}if(Y instanceof Set&&oe instanceof Set){if(Y.size!==oe.size)return!1;for(const Ce of Y)if(!oe.has(Ce))return!1;return!0}const ye=Object.keys(Y);if(ye.length!==Object.keys(oe).length)return!1;for(const Ce of ye)if(!Object.prototype.hasOwnProperty.call(oe,Ce)||!Object.is(Y[Ce],oe[Ce]))return!1;return!0}var ce=(Y,oe)=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { shallow } from 'zustand/shallow'`."),ue(Y,oe)),ge=A(37261);function le(){return f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},f.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function Ee(){return f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},f.createElement("path",{d:"M0 0h32v4.2H0z"}))}function Le(){return f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},f.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function pe(){return f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},f.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function xe(){return f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},f.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Re=Ce=>{var _e=Ce,{children:Y,className:oe}=_e,ye=Ft(_e,["children","className"]);return f.createElement("button",U({type:"button",className:(0,X.Z)(["react-flow__controls-button",oe])},ye),Y)};Re.displayName="ControlButton";const st=Y=>({isInteractive:Y.nodesDraggable||Y.nodesConnectable||Y.elementsSelectable,minZoomReached:Y.transform[2]<=Y.minZoom,maxZoomReached:Y.transform[2]>=Y.maxZoom}),be=({style:Y,showZoom:oe=!0,showFitView:ye=!0,showInteractive:Ce=!0,fitViewOptions:_e,onZoomIn:Ye,onZoomOut:Ge,onFitView:Je,onInteractiveChange:se,className:ze,children:Xe,position:Ne="bottom-left"})=>{const Z=(0,ge.AC)(),[te,F]=(0,f.useState)(!1),{isInteractive:V,minZoomReached:G,maxZoomReached:ee}=(0,ge.oR)(st,ue),{zoomIn:ne,zoomOut:we,fitView:Ve}=(0,ge._K)();if((0,f.useEffect)(()=>{F(!0)},[]),!te)return null;const De=()=>{ne(),Ye==null||Ye()},Pe=()=>{we(),Ge==null||Ge()},Ze=()=>{Ve(_e),Je==null||Je()},Me=()=>{Z.setState({nodesDraggable:!V,nodesConnectable:!V,elementsSelectable:!V}),se==null||se(!V)};return f.createElement(ge.s_,{className:(0,X.Z)(["react-flow__controls",ze]),position:Ne,style:Y,"data-testid":"rf__controls"},oe&&f.createElement(f.Fragment,null,f.createElement(Re,{onClick:De,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:ee},f.createElement(le,null)),f.createElement(Re,{onClick:Pe,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:G},f.createElement(Ee,null))),ye&&f.createElement(Re,{className:"react-flow__controls-fitview",onClick:Ze,title:"fit view","aria-label":"fit view"},f.createElement(Le,null)),Ce&&f.createElement(Re,{className:"react-flow__controls-interactive",onClick:Me,title:"toggle interactivity","aria-label":"toggle interactivity"},V?f.createElement(xe,null):f.createElement(pe,null)),Xe)};be.displayName="Controls";var ie=(0,f.memo)(be)},37261:function(de,q,A){A.d(q,{HH:function(){return En},s_:function(){return Co},Ly:function(){return Q},x$:function(){return Bs},tV:function(){return Br},Z_:function(){return Fo},yn:function(){return ys},Fb:function(){return Or},AQ:function(){return mu},_K:function(){return Pr},oR:function(){return ve},AC:function(){return ke}});var f=A(62435),X=A(83840),ue=A(52798);const ce=e=>{let t;const n=new Set,r=(u,d)=>{const g=typeof u=="function"?u(t):u;if(!Object.is(g,t)){const m=t;t=(d!=null?d:typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(S=>S(t,m))}},o=()=>t,c={setState:r,getState:o,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},l=t=e(r,o,c);return c},ge=e=>e?ce(e):ce;var le=e=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'."),ge(e));const{useDebugValue:Ee}=f,{useSyncExternalStoreWithSelector:Le}=ue,pe=e=>e;function xe(e,t=pe,n){const r=Le(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Ee(r),r}const Re=(e,t)=>{const n=ge(e),r=(o,i=t)=>xe(n,o,i);return Object.assign(r,n),r},st=(e,t)=>e?Re(e,t):Re;function be(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var ie=(e,t)=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { shallow } from 'zustand/shallow'`."),be(e,t)),Y={value:function(){}};function oe(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ye(n)}function ye(e){this._=e}function Ce(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ye.prototype=oe.prototype={constructor:ye,on:function(t,n){var r=this._,o=Ce(t+"",r),i,s=-1,a=o.length;if(arguments.length<2){for(;++s<a;)if((i=(t=o[s]).type)&&(i=_e(r[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++s<a;)if(i=(t=o[s]).type)r[i]=Ye(r[i],t.name,n);else if(n==null)for(i in r)r[i]=Ye(r[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var r in n)t[r]=n[r].slice();return new ye(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var r=new Array(i),o=0,i,s;o<i;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],o=0,i=s.length;o<i;++o)s[o].value.apply(n,r)},apply:function(t,n,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,s=o.length;i<s;++i)o[i].value.apply(n,r)}};function _e(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function Ye(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Y,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ge=oe;function Je(){}function se(e){return e==null?Je:function(){return this.querySelector(e)}}function ze(e){typeof e!="function"&&(e=se(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,a=r[o]=new Array(s),c,l,u=0;u<s;++u)(c=i[u])&&(l=e.call(c,c.__data__,u,i))&&("__data__"in c&&(l.__data__=c.__data__),a[u]=l);return new nt(r,this._parents)}function Xe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ne(){return[]}function Z(e){return e==null?Ne:function(){return this.querySelectorAll(e)}}function te(e){return function(){return Xe(e.apply(this,arguments))}}function F(e){typeof e=="function"?e=te(e):e=Z(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],a=s.length,c,l=0;l<a;++l)(c=s[l])&&(r.push(e.call(c,c.__data__,l,s)),o.push(c));return new nt(r,o)}function V(e){return function(){return this.matches(e)}}function G(e){return function(t){return t.matches(e)}}var ee=Array.prototype.find;function ne(e){return function(){return ee.call(this.children,e)}}function we(){return this.firstElementChild}function Ve(e){return this.select(e==null?we:ne(typeof e=="function"?e:G(e)))}var De=Array.prototype.filter;function Pe(){return Array.from(this.children)}function Ze(e){return function(){return De.call(this.children,e)}}function Me(e){return this.selectAll(e==null?Pe:Ze(typeof e=="function"?e:G(e)))}function je(e){typeof e!="function"&&(e=V(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,a=r[o]=[],c,l=0;l<s;++l)(c=i[l])&&e.call(c,c.__data__,l,i)&&a.push(c);return new nt(r,this._parents)}function qe(e){return new Array(e.length)}function Ie(){return new nt(this._enter||this._groups.map(qe),this._parents)}function Qe(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Qe.prototype={constructor:Qe,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function We(e){return function(){return e}}function it(e,t,n,r,o,i){for(var s=0,a,c=t.length,l=i.length;s<l;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new Qe(e,i[s]);for(;s<c;++s)(a=t[s])&&(o[s]=a)}function et(e,t,n,r,o,i,s){var a,c,l=new Map,u=t.length,d=i.length,g=new Array(u),m;for(a=0;a<u;++a)(c=t[a])&&(g[a]=m=s.call(c,c.__data__,a,t)+"",l.has(m)?o[a]=c:l.set(m,c));for(a=0;a<d;++a)m=s.call(e,i[a],a,i)+"",(c=l.get(m))?(r[a]=c,c.__data__=i[a],l.delete(m)):n[a]=new Qe(e,i[a]);for(a=0;a<u;++a)(c=t[a])&&l.get(g[a])===c&&(o[a]=c)}function gt(e){return e.__data__}function at(e,t){if(!arguments.length)return Array.from(this,gt);var n=t?et:it,r=this._parents,o=this._groups;typeof e!="function"&&(e=We(e));for(var i=o.length,s=new Array(i),a=new Array(i),c=new Array(i),l=0;l<i;++l){var u=r[l],d=o[l],g=d.length,m=Nt(e.call(u,u&&u.__data__,l,r)),S=m.length,y=a[l]=new Array(S),C=s[l]=new Array(S),p=c[l]=new Array(g);n(u,d,y,C,p,m,t);for(var b=0,_=0,x,T;b<S;++b)if(x=y[b]){for(b>=_&&(_=b+1);!(T=C[_])&&++_<S;);x._next=T||null}}return s=new nt(s,r),s._enter=a,s._exit=c,s}function Nt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function an(){return new nt(this._exit||this._groups.map(qe),this._parents)}function cn(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function fe(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),a=new Array(o),c=0;c<s;++c)for(var l=n[c],u=r[c],d=l.length,g=a[c]=new Array(d),m,S=0;S<d;++S)(m=l[S]||u[S])&&(g[S]=m);for(;c<o;++c)a[c]=n[c];return new nt(a,this._parents)}function Be(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function tt(e){e||(e=wt);function t(d,g){return d&&g?e(d.__data__,g.__data__):!d-!g}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],a=s.length,c=o[i]=new Array(a),l,u=0;u<a;++u)(l=s[u])&&(c[u]=l);c.sort(t)}return new nt(o,this._parents).order()}function wt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ln(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Xr(){return Array.from(this)}function Yr(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function er(){let e=0;for(const t of this)++e;return e}function tr(){return!this.node()}function nr(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,a;i<s;++i)(a=o[i])&&e.call(a,a.__data__,i,o);return this}var un="http://www.w3.org/1999/xhtml",Wr={svg:"http://www.w3.org/2000/svg",xhtml:un,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function zn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Wr.hasOwnProperty(t)?{space:Wr[t],local:e}:e}function Gs(e){return function(){this.removeAttribute(e)}}function Qs(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Js(e,t){return function(){this.setAttribute(e,t)}}function js(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function qs(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function ei(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ti(e,t){var n=zn(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Qs:Gs:typeof t=="function"?n.local?ei:qs:n.local?js:Js)(n,t))}function Ur(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ni(e){return function(){this.style.removeProperty(e)}}function ri(e,t,n){return function(){this.style.setProperty(e,t,n)}}function oi(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function si(e,t,n){return arguments.length>1?this.each((t==null?ni:typeof t=="function"?oi:ri)(e,t,n==null?"":n)):Xt(this.node(),e)}function Xt(e,t){return e.style.getPropertyValue(t)||Ur(e).getComputedStyle(e,null).getPropertyValue(t)}function ii(e){return function(){delete this[e]}}function ai(e,t){return function(){this[e]=t}}function ci(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function li(e,t){return arguments.length>1?this.each((t==null?ii:typeof t=="function"?ci:ai)(e,t)):this.node()[e]}function Kr(e){return e.trim().split(/^|\s+/)}function rr(e){return e.classList||new Gr(e)}function Gr(e){this._node=e,this._names=Kr(e.getAttribute("class")||"")}Gr.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Qr(e,t){for(var n=rr(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Jr(e,t){for(var n=rr(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function ui(e){return function(){Qr(this,e)}}function fi(e){return function(){Jr(this,e)}}function di(e,t){return function(){(t.apply(this,arguments)?Qr:Jr)(this,e)}}function hi(e,t){var n=Kr(e+"");if(arguments.length<2){for(var r=rr(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?di:t?ui:fi)(n,t))}function gi(){this.textContent=""}function mi(e){return function(){this.textContent=e}}function pi(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function yi(e){return arguments.length?this.each(e==null?gi:(typeof e=="function"?pi:mi)(e)):this.node().textContent}function vi(){this.innerHTML=""}function wi(e){return function(){this.innerHTML=e}}function xi(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function Si(e){return arguments.length?this.each(e==null?vi:(typeof e=="function"?xi:wi)(e)):this.node().innerHTML}function Ei(){this.nextSibling&&this.parentNode.appendChild(this)}function bi(){return this.each(Ei)}function Ci(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _i(){return this.each(Ci)}function Ni(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===un&&t.documentElement.namespaceURI===un?t.createElement(e):t.createElementNS(n,e)}}function Mi(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function jr(e){var t=zn(e);return(t.local?Mi:Ni)(t)}function Ai(e){var t=typeof e=="function"?e:jr(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Ti(){return null}function zi(e,t){var n=typeof e=="function"?e:jr(e),r=t==null?Ti:typeof t=="function"?t:se(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Pi(){var e=this.parentNode;e&&e.removeChild(this)}function Ii(){return this.each(Pi)}function Oi(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function $i(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ri(e){return this.select(e?$i:Oi)}function Di(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ki(e){return function(t){e.call(this,t,this.__data__)}}function Hi(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Bi(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function Li(e,t,n){return function(){var r=this.__on,o,i=ki(t);if(r){for(var s=0,a=r.length;s<a;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function Vi(e,t,n){var r=Hi(e+""),o,i=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,l=a.length,u;c<l;++c)for(o=0,u=a[c];o<i;++o)if((s=r[o]).type===u.type&&s.name===u.name)return u.value}return}for(a=t?Li:Bi,o=0;o<i;++o)this.each(a(r[o],t,n));return this}function qr(e,t,n){var r=Ur(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Zi(e,t){return function(){return qr(this,e,t)}}function Fi(e,t){return function(){return qr(this,e,t.apply(this,arguments))}}function Xi(e,t){return this.each((typeof t=="function"?Fi:Zi)(e,t))}function*Yi(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var eo=[null];function nt(e,t){this._groups=e,this._parents=t}function to(){return new nt([[document.documentElement]],eo)}function Wi(){return this}nt.prototype=to.prototype={constructor:nt,select:ze,selectAll:F,selectChild:Ve,selectChildren:Me,filter:je,data:at,enter:Ie,exit:an,join:cn,merge:fe,selection:Wi,order:Be,sort:tt,call:ln,nodes:Xr,node:Yr,size:er,empty:tr,each:nr,attr:ti,style:si,property:li,classed:hi,text:yi,html:Si,raise:bi,lower:_i,append:Ai,insert:zi,remove:Ii,clone:Ri,datum:Di,on:Vi,dispatch:Xi,[Symbol.iterator]:Yi};var fn=to;function ut(e){return typeof e=="string"?new nt([[document.querySelector(e)]],[document.documentElement]):new nt([[e]],eo)}const Ui={passive:!1},dn={capture:!0,passive:!1};function or(e){e.stopImmediatePropagation()}function Yt(e){e.preventDefault(),e.stopImmediatePropagation()}function no(e){var t=e.document.documentElement,n=ut(e).on("dragstart.drag",Yt,dn);"onselectstart"in t?n.on("selectstart.drag",Yt,dn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ro(e,t){var n=e.document.documentElement,r=ut(e).on("dragstart.drag",null);t&&(r.on("click.drag",Yt,dn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Ki=1e-12;function oo(e){return((e=Math.exp(e))+1/e)/2}function Gi(e){return((e=Math.exp(e))-1/e)/2}function Qi(e){return((e=Math.exp(2*e))-1)/(e+1)}var Ji=function e(t,n,r){function o(i,s){var a=i[0],c=i[1],l=i[2],u=s[0],d=s[1],g=s[2],m=u-a,S=d-c,y=m*m+S*S,C,p;if(y<Ki)p=Math.log(g/l)/t,C=function(O){return[a+O*m,c+O*S,l*Math.exp(t*O*p)]};else{var b=Math.sqrt(y),_=(g*g-l*l+r*y)/(2*l*n*b),x=(g*g-l*l-r*y)/(2*g*n*b),T=Math.log(Math.sqrt(_*_+1)-_),$=Math.log(Math.sqrt(x*x+1)-x);p=($-T)/t,C=function(O){var R=O*p,B=oo(T),D=l/(n*b)*(B*Qi(t*R+T)-Gi(T));return[a+D*m,c+D*S,l*B/oo(t*R+T)]}}return C.duration=p*1e3*t/Math.SQRT2,C}return o.rho=function(i){var s=Math.max(.001,+i),a=s*s,c=a*a;return e(s,a,c)},o}(Math.SQRT2,2,4);function ji(e){let t;for(;t=e.sourceEvent;)e=t;return e}function mt(e,t){if(e=ji(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}var Wt=0,hn=0,gn=0,so=1e3,Pn,mn,In=0,Pt=0,On=0,pn=typeof performance=="object"&&performance.now?performance:Date,io=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function sr(){return Pt||(io(qi),Pt=pn.now()+On)}function qi(){Pt=0}function $n(){this._call=this._time=this._next=null}$n.prototype=ao.prototype={constructor:$n,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?sr():+n)+(t==null?0:+t),!this._next&&mn!==this&&(mn?mn._next=this:Pn=this,mn=this),this._call=e,this._time=n,ir()},stop:function(){this._call&&(this._call=null,this._time=1/0,ir())}};function ao(e,t,n){var r=new $n;return r.restart(e,t,n),r}function ea(){sr(),++Wt;for(var e=Pn,t;e;)(t=Pt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Wt}function co(){Pt=(In=pn.now())+On,Wt=hn=0;try{ea()}finally{Wt=0,na(),Pt=0}}function ta(){var e=pn.now(),t=e-In;t>so&&(On-=t,In=e)}function na(){for(var e,t=Pn,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Pn=n);mn=e,ir(r)}function ir(e){if(!Wt){hn&&(hn=clearTimeout(hn));var t=e-Pt;t>24?(e<1/0&&(hn=setTimeout(co,e-pn.now()-On)),gn&&(gn=clearInterval(gn))):(gn||(In=pn.now(),gn=setInterval(ta,so)),Wt=1,io(co))}}function lo(e,t,n){var r=new $n;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var ra=Ge("start","end","cancel","interrupt"),oa=[],uo=0,fo=1,ar=2,Rn=3,ho=4,cr=5,Dn=6;function kn(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;sa(e,n,{name:t,index:r,group:o,on:ra,tween:oa,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:uo})}function lr(e,t){var n=ft(e,t);if(n.state>uo)throw new Error("too late; already scheduled");return n}function pt(e,t){var n=ft(e,t);if(n.state>Rn)throw new Error("too late; already running");return n}function ft(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function sa(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=ao(i,0,n.time);function i(l){n.state=fo,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)}function s(l){var u,d,g,m;if(n.state!==fo)return c();for(u in r)if(m=r[u],m.name===n.name){if(m.state===Rn)return lo(s);m.state===ho?(m.state=Dn,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[u]):+u<t&&(m.state=Dn,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[u])}if(lo(function(){n.state===Rn&&(n.state=ho,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=ar,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ar){for(n.state=Rn,o=new Array(g=n.tween.length),u=0,d=-1;u<g;++u)(m=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(o[++d]=m);o.length=d+1}}function a(l){for(var u=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(c),n.state=cr,1),d=-1,g=o.length;++d<g;)o[d].call(e,u);n.state===cr&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Dn,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function Hn(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>ar&&r.state<cr,r.state=Dn,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function ia(e){return this.each(function(){Hn(this,e)})}var It=A(79848),go=180/Math.PI,ur={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mo(e,t,n,r,o,i){var s,a,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),e*r<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*go,skewX:Math.atan(c)*go,scaleX:s,scaleY:a}}var Bn;function aa(e){var t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ur:mo(t.a,t.b,t.c,t.d,t.e,t.f)}function ca(e){return e==null||(Bn||(Bn=document.createElementNS("http://www.w3.org/2000/svg","g")),Bn.setAttribute("transform",e),!(e=Bn.transform.baseVal.consolidate()))?ur:(e=e.matrix,mo(e.a,e.b,e.c,e.d,e.e,e.f))}function po(e,t,n,r){function o(l){return l.length?l.pop()+" ":""}function i(l,u,d,g,m,S){if(l!==d||u!==g){var y=m.push("translate(",null,t,null,n);S.push({i:y-4,x:(0,It.Z)(l,d)},{i:y-2,x:(0,It.Z)(u,g)})}else(d||g)&&m.push("translate("+d+t+g+n)}function s(l,u,d,g){l!==u?(l-u>180?u+=360:u-l>180&&(l+=360),g.push({i:d.push(o(d)+"rotate(",null,r)-2,x:(0,It.Z)(l,u)})):u&&d.push(o(d)+"rotate("+u+r)}function a(l,u,d,g){l!==u?g.push({i:d.push(o(d)+"skewX(",null,r)-2,x:(0,It.Z)(l,u)}):u&&d.push(o(d)+"skewX("+u+r)}function c(l,u,d,g,m,S){if(l!==d||u!==g){var y=m.push(o(m)+"scale(",null,",",null,")");S.push({i:y-4,x:(0,It.Z)(l,d)},{i:y-2,x:(0,It.Z)(u,g)})}else(d!==1||g!==1)&&m.push(o(m)+"scale("+d+","+g+")")}return function(l,u){var d=[],g=[];return l=e(l),u=e(u),i(l.translateX,l.translateY,u.translateX,u.translateY,d,g),s(l.rotate,u.rotate,d,g),a(l.skewX,u.skewX,d,g),c(l.scaleX,l.scaleY,u.scaleX,u.scaleY,d,g),l=u=null,function(m){for(var S=-1,y=g.length,C;++S<y;)d[(C=g[S]).i]=C.x(m);return d.join("")}}}var la=po(aa,"px, ","px)","deg)"),ua=po(ca,", ",")",")");function fa(e,t){var n,r;return function(){var o=pt(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function da(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=pt(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var a={name:t,value:n},c=0,l=o.length;c<l;++c)if(o[c].name===t){o[c]=a;break}c===l&&o.push(a)}i.tween=o}}function ha(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ft(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?fa:da)(n,e,t))}function fr(e,t,n){var r=e._id;return e.each(function(){var o=pt(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return ft(o,r).value[t]}}var yo=A(93951),vo=A(73782),ga=A(20823);function wo(e,t){var n;return(typeof t=="number"?It.Z:t instanceof yo.ZP?vo.ZP:(n=(0,yo.ZP)(t))?(t=n,vo.ZP):ga.Z)(e,t)}function ma(e){return function(){this.removeAttribute(e)}}function pa(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ya(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function va(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function wa(e,t,n){var r,o,i;return function(){var s,a=n(this),c;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=a+"",s===c?null:s===r&&c===o?i:(o=c,i=t(r=s,a)))}}function xa(e,t,n){var r,o,i;return function(){var s,a=n(this),c;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=a+"",s===c?null:s===r&&c===o?i:(o=c,i=t(r=s,a)))}}function Sa(e,t){var n=zn(e),r=n==="transform"?ua:wo;return this.attrTween(e,typeof t=="function"?(n.local?xa:wa)(n,r,fr(this,"attr."+e,t)):t==null?(n.local?pa:ma)(n):(n.local?va:ya)(n,r,t))}function Ea(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function ba(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Ca(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&ba(e,i)),n}return o._value=t,o}function _a(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Ea(e,i)),n}return o._value=t,o}function Na(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=zn(e);return this.tween(n,(r.local?Ca:_a)(r,t))}function Ma(e,t){return function(){lr(this,e).delay=+t.apply(this,arguments)}}function Aa(e,t){return t=+t,function(){lr(this,e).delay=t}}function Ta(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ma:Aa)(t,e)):ft(this.node(),t).delay}function za(e,t){return function(){pt(this,e).duration=+t.apply(this,arguments)}}function Pa(e,t){return t=+t,function(){pt(this,e).duration=t}}function Ia(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?za:Pa)(t,e)):ft(this.node(),t).duration}function Oa(e,t){if(typeof t!="function")throw new Error;return function(){pt(this,e).ease=t}}function $a(e){var t=this._id;return arguments.length?this.each(Oa(t,e)):ft(this.node(),t).ease}function Ra(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;pt(this,e).ease=n}}function Da(e){if(typeof e!="function")throw new Error;return this.each(Ra(this._id,e))}function ka(e){typeof e!="function"&&(e=V(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,a=r[o]=[],c,l=0;l<s;++l)(c=i[l])&&e.call(c,c.__data__,l,i)&&a.push(c);return new xt(r,this._parents,this._name,this._id)}function Ha(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),a=0;a<i;++a)for(var c=t[a],l=n[a],u=c.length,d=s[a]=new Array(u),g,m=0;m<u;++m)(g=c[m]||l[m])&&(d[m]=g);for(;a<r;++a)s[a]=t[a];return new xt(s,this._parents,this._name,this._id)}function Ba(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function La(e,t,n){var r,o,i=Ba(t)?lr:pt;return function(){var s=i(this,e),a=s.on;a!==r&&(o=(r=a).copy()).on(t,n),s.on=o}}function Va(e,t){var n=this._id;return arguments.length<2?ft(this.node(),n).on.on(e):this.each(La(n,e,t))}function Za(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Fa(){return this.on("end.remove",Za(this._id))}function Xa(e){var t=this._name,n=this._id;typeof e!="function"&&(e=se(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var a=r[s],c=a.length,l=i[s]=new Array(c),u,d,g=0;g<c;++g)(u=a[g])&&(d=e.call(u,u.__data__,g,a))&&("__data__"in u&&(d.__data__=u.__data__),l[g]=d,kn(l[g],t,n,g,l,ft(u,n)));return new xt(i,this._parents,t,n)}function Ya(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Z(e));for(var r=this._groups,o=r.length,i=[],s=[],a=0;a<o;++a)for(var c=r[a],l=c.length,u,d=0;d<l;++d)if(u=c[d]){for(var g=e.call(u,u.__data__,d,c),m,S=ft(u,n),y=0,C=g.length;y<C;++y)(m=g[y])&&kn(m,t,n,y,g,S);i.push(g),s.push(u)}return new xt(i,s,t,n)}var Wa=fn.prototype.constructor;function Ua(){return new Wa(this._groups,this._parents)}function Ka(e,t){var n,r,o;return function(){var i=Xt(this,e),s=(this.style.removeProperty(e),Xt(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function xo(e){return function(){this.style.removeProperty(e)}}function Ga(e,t,n){var r,o=n+"",i;return function(){var s=Xt(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function Qa(e,t,n){var r,o,i;return function(){var s=Xt(this,e),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(e),Xt(this,e))),s===c?null:s===r&&c===o?i:(o=c,i=t(r=s,a))}}function Ja(e,t){var n,r,o,i="style."+t,s="end."+i,a;return function(){var c=pt(this,e),l=c.on,u=c.value[i]==null?a||(a=xo(t)):void 0;(l!==n||o!==u)&&(r=(n=l).copy()).on(s,o=u),c.on=r}}function ja(e,t,n){var r=(e+="")=="transform"?la:wo;return t==null?this.styleTween(e,Ka(e,r)).on("end.style."+e,xo(e)):typeof t=="function"?this.styleTween(e,Qa(e,r,fr(this,"style."+e,t))).each(Ja(this._id,e)):this.styleTween(e,Ga(e,r,t),n).on("end.style."+e,null)}function qa(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function ec(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&qa(e,s,n)),r}return i._value=t,i}function tc(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,ec(e,t,n==null?"":n))}function nc(e){return function(){this.textContent=e}}function rc(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function oc(e){return this.tween("text",typeof e=="function"?rc(fr(this,"text",e)):nc(e==null?"":e+""))}function sc(e){return function(t){this.textContent=e.call(this,t)}}function ic(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&sc(o)),t}return r._value=e,r}function ac(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,ic(e))}function cc(){for(var e=this._name,t=this._id,n=So(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],a=s.length,c,l=0;l<a;++l)if(c=s[l]){var u=ft(c,t);kn(c,e,n,l,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new xt(r,this._parents,e,n)}function lc(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var a={value:s},c={value:function(){--o===0&&i()}};n.each(function(){var l=pt(this,r),u=l.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),l.on=t}),o===0&&i()})}var uc=0;function xt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function fc(e){return fn().transition(e)}function So(){return++uc}var St=fn.prototype;xt.prototype=fc.prototype={constructor:xt,select:Xa,selectAll:Ya,selectChild:St.selectChild,selectChildren:St.selectChildren,filter:ka,merge:Ha,selection:Ua,transition:cc,call:St.call,nodes:St.nodes,node:St.node,size:St.size,empty:St.empty,each:St.each,on:Va,attr:Sa,attrTween:Na,style:ja,styleTween:tc,text:oc,textTween:ac,remove:Fa,tween:ha,delay:Ta,duration:Ia,ease:$a,easeVarying:Da,end:lc,[Symbol.iterator]:St[Symbol.iterator]};function Qu(e){return e*e*e}function Ju(e){return--e*e*e+1}function dc(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var hc={time:null,delay:0,duration:250,ease:dc};function gc(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function mc(e){var t,n;e instanceof xt?(t=e._id,e=e._name):(t=So(),(n=hc).time=sr(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],a=s.length,c,l=0;l<a;++l)(c=s[l])&&kn(c,e,t,l,s,n||gc(c,t));return new xt(r,this._parents,e,t)}fn.prototype.interrupt=ia,fn.prototype.transition=mc;var Ln=e=>()=>e;function pc(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Et(e,t,n){this.k=e,this.x=t,this.y=n}Et.prototype={constructor:Et,scale:function(e){return e===1?this:new Et(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Et(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var bt=new Et(1,0,0);yc.prototype=Et.prototype;function yc(e){for(;!e.__zoom;)if(!(e=e.parentNode))return bt;return e.__zoom}function dr(e){e.stopImmediatePropagation()}function yn(e){e.preventDefault(),e.stopImmediatePropagation()}function vc(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function wc(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Eo(){return this.__zoom||bt}function xc(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Sc(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ec(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function bc(){var e=vc,t=wc,n=Ec,r=xc,o=Sc,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,c=Ji,l=Ge("start","zoom","end"),u,d,g,m=500,S=150,y=0,C=10;function p(h){h.property("__zoom",Eo).on("wheel.zoom",O,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",B).filter(o).on("touchstart.zoom",D).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(h,E,v,N){var P=h.selection?h.selection():h;P.property("__zoom",Eo),h!==P?T(h,E,v,N):P.interrupt().each(function(){$(this,arguments).event(N).start().zoom(null,typeof E=="function"?E.apply(this,arguments):E).end()})},p.scaleBy=function(h,E,v,N){p.scaleTo(h,function(){var P=this.__zoom.k,w=typeof E=="function"?E.apply(this,arguments):E;return P*w},v,N)},p.scaleTo=function(h,E,v,N){p.transform(h,function(){var P=t.apply(this,arguments),w=this.__zoom,z=v==null?x(P):typeof v=="function"?v.apply(this,arguments):v,M=w.invert(z),H=typeof E=="function"?E.apply(this,arguments):E;return n(_(b(w,H),z,M),P,s)},v,N)},p.translateBy=function(h,E,v,N){p.transform(h,function(){return n(this.__zoom.translate(typeof E=="function"?E.apply(this,arguments):E,typeof v=="function"?v.apply(this,arguments):v),t.apply(this,arguments),s)},null,N)},p.translateTo=function(h,E,v,N,P){p.transform(h,function(){var w=t.apply(this,arguments),z=this.__zoom,M=N==null?x(w):typeof N=="function"?N.apply(this,arguments):N;return n(bt.translate(M[0],M[1]).scale(z.k).translate(typeof E=="function"?-E.apply(this,arguments):-E,typeof v=="function"?-v.apply(this,arguments):-v),w,s)},N,P)};function b(h,E){return E=Math.max(i[0],Math.min(i[1],E)),E===h.k?h:new Et(E,h.x,h.y)}function _(h,E,v){var N=E[0]-v[0]*h.k,P=E[1]-v[1]*h.k;return N===h.x&&P===h.y?h:new Et(h.k,N,P)}function x(h){return[(+h[0][0]+ +h[1][0])/2,(+h[0][1]+ +h[1][1])/2]}function T(h,E,v,N){h.on("start.zoom",function(){$(this,arguments).event(N).start()}).on("interrupt.zoom end.zoom",function(){$(this,arguments).event(N).end()}).tween("zoom",function(){var P=this,w=arguments,z=$(P,w).event(N),M=t.apply(P,w),H=v==null?x(M):typeof v=="function"?v.apply(P,w):v,W=Math.max(M[1][0]-M[0][0],M[1][1]-M[0][1]),K=P.__zoom,j=typeof E=="function"?E.apply(P,w):E,ae=c(K.invert(H).concat(W/K.k),j.invert(H).concat(W/j.k));return function(he){if(he===1)he=j;else{var me=ae(he),He=W/me[2];he=new Et(He,H[0]-me[0]*He,H[1]-me[1]*He)}z.zoom(null,he)}})}function $(h,E,v){return!v&&h.__zooming||new k(h,E)}function k(h,E){this.that=h,this.args=E,this.active=0,this.sourceEvent=null,this.extent=t.apply(h,E),this.taps=0}k.prototype={event:function(h){return h&&(this.sourceEvent=h),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(h,E){return this.mouse&&h!=="mouse"&&(this.mouse[1]=E.invert(this.mouse[0])),this.touch0&&h!=="touch"&&(this.touch0[1]=E.invert(this.touch0[0])),this.touch1&&h!=="touch"&&(this.touch1[1]=E.invert(this.touch1[0])),this.that.__zoom=E,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(h){var E=ut(this.that).datum();l.call(h,this.that,new pc(h,{sourceEvent:this.sourceEvent,target:p,type:h,transform:this.that.__zoom,dispatch:l}),E)}};function O(h,...E){if(!e.apply(this,arguments))return;var v=$(this,E).event(h),N=this.__zoom,P=Math.max(i[0],Math.min(i[1],N.k*Math.pow(2,r.apply(this,arguments)))),w=mt(h);if(v.wheel)(v.mouse[0][0]!==w[0]||v.mouse[0][1]!==w[1])&&(v.mouse[1]=N.invert(v.mouse[0]=w)),clearTimeout(v.wheel);else{if(N.k===P)return;v.mouse=[w,N.invert(w)],Hn(this),v.start()}yn(h),v.wheel=setTimeout(z,S),v.zoom("mouse",n(_(b(N,P),v.mouse[0],v.mouse[1]),v.extent,s));function z(){v.wheel=null,v.end()}}function R(h,...E){if(g||!e.apply(this,arguments))return;var v=h.currentTarget,N=$(this,E,!0).event(h),P=ut(h.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",W,!0),w=mt(h,v),z=h.clientX,M=h.clientY;no(h.view),dr(h),N.mouse=[w,this.__zoom.invert(w)],Hn(this),N.start();function H(K){if(yn(K),!N.moved){var j=K.clientX-z,ae=K.clientY-M;N.moved=j*j+ae*ae>y}N.event(K).zoom("mouse",n(_(N.that.__zoom,N.mouse[0]=mt(K,v),N.mouse[1]),N.extent,s))}function W(K){P.on("mousemove.zoom mouseup.zoom",null),ro(K.view,N.moved),yn(K),N.event(K).end()}}function B(h,...E){if(e.apply(this,arguments)){var v=this.__zoom,N=mt(h.changedTouches?h.changedTouches[0]:h,this),P=v.invert(N),w=v.k*(h.shiftKey?.5:2),z=n(_(b(v,w),N,P),t.apply(this,E),s);yn(h),a>0?ut(this).transition().duration(a).call(T,z,N,h):ut(this).call(p.transform,z,N,h)}}function D(h,...E){if(e.apply(this,arguments)){var v=h.touches,N=v.length,P=$(this,E,h.changedTouches.length===N).event(h),w,z,M,H;for(dr(h),z=0;z<N;++z)M=v[z],H=mt(M,this),H=[H,this.__zoom.invert(H),M.identifier],P.touch0?!P.touch1&&P.touch0[2]!==H[2]&&(P.touch1=H,P.taps=0):(P.touch0=H,w=!0,P.taps=1+!!u);u&&(u=clearTimeout(u)),w&&(P.taps<2&&(d=H[0],u=setTimeout(function(){u=null},m)),Hn(this),P.start())}}function L(h,...E){if(this.__zooming){var v=$(this,E).event(h),N=h.changedTouches,P=N.length,w,z,M,H;for(yn(h),w=0;w<P;++w)z=N[w],M=mt(z,this),v.touch0&&v.touch0[2]===z.identifier?v.touch0[0]=M:v.touch1&&v.touch1[2]===z.identifier&&(v.touch1[0]=M);if(z=v.that.__zoom,v.touch1){var W=v.touch0[0],K=v.touch0[1],j=v.touch1[0],ae=v.touch1[1],he=(he=j[0]-W[0])*he+(he=j[1]-W[1])*he,me=(me=ae[0]-K[0])*me+(me=ae[1]-K[1])*me;z=b(z,Math.sqrt(he/me)),M=[(W[0]+j[0])/2,(W[1]+j[1])/2],H=[(K[0]+ae[0])/2,(K[1]+ae[1])/2]}else if(v.touch0)M=v.touch0[0],H=v.touch0[1];else return;v.zoom("touch",n(_(z,M,H),v.extent,s))}}function I(h,...E){if(this.__zooming){var v=$(this,E).event(h),N=h.changedTouches,P=N.length,w,z;for(dr(h),g&&clearTimeout(g),g=setTimeout(function(){g=null},m),w=0;w<P;++w)z=N[w],v.touch0&&v.touch0[2]===z.identifier?delete v.touch0:v.touch1&&v.touch1[2]===z.identifier&&delete v.touch1;if(v.touch1&&!v.touch0&&(v.touch0=v.touch1,delete v.touch1),v.touch0)v.touch0[1]=this.__zoom.invert(v.touch0[0]);else if(v.end(),v.taps===2&&(z=mt(z,this),Math.hypot(d[0]-z[0],d[1]-z[1])<C)){var M=ut(this).on("dblclick.zoom");M&&M.apply(this,arguments)}}}return p.wheelDelta=function(h){return arguments.length?(r=typeof h=="function"?h:Ln(+h),p):r},p.filter=function(h){return arguments.length?(e=typeof h=="function"?h:Ln(!!h),p):e},p.touchable=function(h){return arguments.length?(o=typeof h=="function"?h:Ln(!!h),p):o},p.extent=function(h){return arguments.length?(t=typeof h=="function"?h:Ln([[+h[0][0],+h[0][1]],[+h[1][0],+h[1][1]]]),p):t},p.scaleExtent=function(h){return arguments.length?(i[0]=+h[0],i[1]=+h[1],p):[i[0],i[1]]},p.translateExtent=function(h){return arguments.length?(s[0][0]=+h[0][0],s[1][0]=+h[1][0],s[0][1]=+h[0][1],s[1][1]=+h[1][1],p):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},p.constrain=function(h){return arguments.length?(n=h,p):n},p.duration=function(h){return arguments.length?(a=+h,p):a},p.interpolate=function(h){return arguments.length?(c=h,p):c},p.on=function(){var h=l.on.apply(l,arguments);return h===l?p:h},p.clickDistance=function(h){return arguments.length?(y=(h=+h)*h,p):Math.sqrt(y)},p.tapDistance=function(h){return arguments.length?(C=+h,p):C},p}var Vn=e=>()=>e;function hr(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:s,y:a,dx:c,dy:l,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:u}})}hr.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Cc(e){return!e.ctrlKey&&!e.button}function _c(){return this.parentNode}function Nc(e,t){return t==null?{x:e.x,y:e.y}:t}function Mc(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ac(){var e=Cc,t=_c,n=Nc,r=Mc,o={},i=Ge("start","drag","end"),s=0,a,c,l,u,d=0;function g(x){x.on("mousedown.drag",m).filter(r).on("touchstart.drag",C).on("touchmove.drag",p,Ui).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(x,T){if(!(u||!e.call(this,x,T))){var $=_(this,t.call(this,x,T),x,T,"mouse");$&&(ut(x.view).on("mousemove.drag",S,dn).on("mouseup.drag",y,dn),no(x.view),or(x),l=!1,a=x.clientX,c=x.clientY,$("start",x))}}function S(x){if(Yt(x),!l){var T=x.clientX-a,$=x.clientY-c;l=T*T+$*$>d}o.mouse("drag",x)}function y(x){ut(x.view).on("mousemove.drag mouseup.drag",null),ro(x.view,l),Yt(x),o.mouse("end",x)}function C(x,T){if(e.call(this,x,T)){var $=x.changedTouches,k=t.call(this,x,T),O=$.length,R,B;for(R=0;R<O;++R)(B=_(this,k,x,T,$[R].identifier,$[R]))&&(or(x),B("start",x,$[R]))}}function p(x){var T=x.changedTouches,$=T.length,k,O;for(k=0;k<$;++k)(O=o[T[k].identifier])&&(Yt(x),O("drag",x,T[k]))}function b(x){var T=x.changedTouches,$=T.length,k,O;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),k=0;k<$;++k)(O=o[T[k].identifier])&&(or(x),O("end",x,T[k]))}function _(x,T,$,k,O,R){var B=i.copy(),D=mt(R||$,T),L,I,h;if((h=n.call(x,new hr("beforestart",{sourceEvent:$,target:g,identifier:O,active:s,x:D[0],y:D[1],dx:0,dy:0,dispatch:B}),k))!=null)return L=h.x-D[0]||0,I=h.y-D[1]||0,function E(v,N,P){var w=D,z;switch(v){case"start":o[O]=E,z=s++;break;case"end":delete o[O],--s;case"drag":D=mt(P||N,T),z=s;break}B.call(v,x,new hr(v,{sourceEvent:N,subject:h,target:g,identifier:O,active:z,x:D[0]+L,y:D[1]+I,dx:D[0]-w[0],dy:D[1]-w[1],dispatch:B}),k)}}return g.filter=function(x){return arguments.length?(e=typeof x=="function"?x:Vn(!!x),g):e},g.container=function(x){return arguments.length?(t=typeof x=="function"?x:Vn(x),g):t},g.subject=function(x){return arguments.length?(n=typeof x=="function"?x:Vn(x),g):n},g.touchable=function(x){return arguments.length?(r=typeof x=="function"?x:Vn(!!x),g):r},g.on=function(){var x=i.on.apply(i,arguments);return x===i?g:x},g.clickDistance=function(x){return arguments.length?(d=(x=+x)*x,g):Math.sqrt(d)},g}var ju=A(61254);const Zn=(0,f.createContext)(null),Tc=Zn.Provider,ct={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},bo=ct.error001();function ve(e,t){const n=(0,f.useContext)(Zn);if(n===null)throw new Error(bo);return xe(n,e,t)}const ke=()=>{const e=(0,f.useContext)(Zn);if(e===null)throw new Error(bo);return(0,f.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},zc=e=>e.userSelectionActive?"none":"all";function Co(i){var s=i,{position:e,children:t,className:n,style:r}=s,o=Ft(s,["position","children","className","style"]);const a=ve(zc),c=`${e}`.split("-");return f.createElement("div",U({className:(0,X.Z)(["react-flow__panel",n,...c]),style:Te(U({},r),{pointerEvents:a})},o),t)}function Pc({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:f.createElement(Co,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},f.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const Ic=d=>{var g=d,{x:e,y:t,label:n,labelStyle:r={},labelShowBg:o=!0,labelBgStyle:i={},labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:c,className:l}=g,u=Ft(g,["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"]);const m=(0,f.useRef)(null),[S,y]=(0,f.useState)({x:0,y:0,width:0,height:0}),C=(0,X.Z)(["react-flow__edge-textwrapper",l]);return(0,f.useEffect)(()=>{if(m.current){const p=m.current.getBBox();y({x:p.x,y:p.y,width:p.width,height:p.height})}},[n]),typeof n=="undefined"||!n?null:f.createElement("g",U({transform:`translate(${e-S.width/2} ${t-S.height/2})`,className:C,visibility:S.width?"visible":"hidden"},u),o&&f.createElement("rect",{width:S.width+2*s[0],x:-s[0],y:-s[1],height:S.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:a,ry:a}),f.createElement("text",{className:"react-flow__edge-text",y:S.height/2,dy:"0.3em",ref:m,style:r},n),c)};var Oc=(0,f.memo)(Ic);const gr=e=>({width:e.offsetWidth,height:e.offsetHeight}),Ut=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),mr=(e={x:0,y:0},t)=>({x:Ut(e.x,t[0][0],t[1][0]),y:Ut(e.y,t[0][1],t[1][1])}),_o=(e,t,n)=>e<t?Ut(Math.abs(e-t),1,50)/50:e>n?-Ut(Math.abs(e-n),1,50)/50:0,No=(e,t)=>{const n=_o(e.x,35,t.width-35)*20,r=_o(e.y,35,t.height-35)*20;return[n,r]},Mo=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Ao=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),vn=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),To=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),zo=e=>Te(U({},e.positionAbsolute||{x:0,y:0}),{width:e.width||0,height:e.height||0}),qu=(e,t)=>To(Ao(vn(e),vn(t))),pr=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},$c=e=>lt(e.width)&&lt(e.height)&&lt(e.x)&&lt(e.y),lt=e=>!isNaN(e)&&isFinite(e),Ae=Symbol.for("internals"),Po=["Enter"," ","Escape"],Fn=(e,t)=>{},Rc=e=>"nativeEvent"in e;function yr(e){var o,i;const t=Rc(e)?e.nativeEvent:e,n=((i=(o=t.composedPath)==null?void 0:o.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const Io=e=>"clientX"in e,Mt=(e,t)=>{var i,s,a,c;const n=Io(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((a=t==null?void 0:t.left)!=null?a:0),y:o-((c=t==null?void 0:t.top)!=null?c:0)}},Xn=()=>{var e;return typeof navigator!="undefined"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},wn=({id:e,path:t,labelX:n,labelY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:l,style:u,markerEnd:d,markerStart:g,interactionWidth:m=20})=>f.createElement(f.Fragment,null,f.createElement("path",{id:e,style:u,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:g}),m&&f.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),o&&lt(n)&&lt(r)?f.createElement(Oc,{x:n,y:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:l}):null);wn.displayName="BaseEdge";const ef=(e,t)=>typeof t!="undefined"&&t?`url(#${t})`:typeof e!="undefined"?`url(#react-flow__${e})`:"none";function xn(e,t,n){return n===void 0?n:r=>{const o=t().edges.find(i=>i.id===e);o&&n(r,U({},o))}}function Oo({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[i,a,o,s]}function $o({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:a}){const c=e*.125+o*.375+s*.375+n*.125,l=t*.125+i*.375+a*.375+r*.125,u=Math.abs(c-e),d=Math.abs(l-t);return[c,l,u,d]}var Ot;(function(e){e.Strict="strict",e.Loose="loose"})(Ot||(Ot={}));var $t;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})($t||($t={}));var Sn;(function(e){e.Partial="partial",e.Full="full"})(Sn||(Sn={}));var At;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(At||(At={}));var Yn;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Yn||(Yn={}));var Q;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Q||(Q={}));function Ro({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===Q.Left||e===Q.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function Do({sourceX:e,sourceY:t,sourcePosition:n=Q.Bottom,targetX:r,targetY:o,targetPosition:i=Q.Top}){const[s,a]=Ro({pos:n,x1:e,y1:t,x2:r,y2:o}),[c,l]=Ro({pos:i,x1:r,y1:o,x2:e,y2:t}),[u,d,g,m]=$o({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:a,targetControlX:c,targetControlY:l});return[`M${e},${t} C${s},${a} ${c},${l} ${r},${o}`,u,d,g,m]}const vr=(0,f.memo)(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=Q.Bottom,targetPosition:i=Q.Top,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,style:g,markerEnd:m,markerStart:S,interactionWidth:y})=>{const[C,p,b]=Do({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:i});return f.createElement(wn,{path:C,labelX:p,labelY:b,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,style:g,markerEnd:m,markerStart:S,interactionWidth:y})});vr.displayName="SimpleBezierEdge";const ko={[Q.Left]:{x:-1,y:0},[Q.Right]:{x:1,y:0},[Q.Top]:{x:0,y:-1},[Q.Bottom]:{x:0,y:1}},Dc=({source:e,sourcePosition:t=Q.Bottom,target:n})=>t===Q.Left||t===Q.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Ho=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function kc({source:e,sourcePosition:t=Q.Bottom,target:n,targetPosition:r=Q.Top,center:o,offset:i}){var k,O;const s=ko[t],a=ko[r],c={x:e.x+s.x*i,y:e.y+s.y*i},l={x:n.x+a.x*i,y:n.y+a.y*i},u=Dc({source:c,sourcePosition:t,target:l}),d=u.x!==0?"x":"y",g=u[d];let m=[],S,y;const C={x:0,y:0},p={x:0,y:0},[b,_,x,T]=Oo({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[d]*a[d]===-1){S=(k=o.x)!=null?k:b,y=(O=o.y)!=null?O:_;const R=[{x:S,y:c.y},{x:S,y:l.y}],B=[{x:c.x,y},{x:l.x,y}];s[d]===g?m=d==="x"?R:B:m=d==="x"?B:R}else{const R=[{x:c.x,y:l.y}],B=[{x:l.x,y:c.y}];if(d==="x"?m=s.x===g?B:R:m=s.y===g?R:B,t===r){const E=Math.abs(e[d]-n[d]);if(E<=i){const v=Math.min(i-1,i-E);s[d]===g?C[d]=(c[d]>e[d]?-1:1)*v:p[d]=(l[d]>n[d]?-1:1)*v}}if(t!==r){const E=d==="x"?"y":"x",v=s[d]===a[E],N=c[E]>l[E],P=c[E]<l[E];(s[d]===1&&(!v&&N||v&&P)||s[d]!==1&&(!v&&P||v&&N))&&(m=d==="x"?R:B)}const D={x:c.x+C.x,y:c.y+C.y},L={x:l.x+p.x,y:l.y+p.y},I=Math.max(Math.abs(D.x-m[0].x),Math.abs(L.x-m[0].x)),h=Math.max(Math.abs(D.y-m[0].y),Math.abs(L.y-m[0].y));I>=h?(S=(D.x+L.x)/2,y=m[0].y):(S=m[0].x,y=(D.y+L.y)/2)}return[[e,{x:c.x+C.x,y:c.y+C.y},...m,{x:l.x+p.x,y:l.y+p.y},n],S,y,x,T]}function Hc(e,t,n,r){const o=Math.min(Ho(e,t)/2,Ho(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const l=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${i+o*l},${s}Q ${i},${s} ${i},${s+o*u}`}const a=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${i},${s+o*c}Q ${i},${s} ${i+o*a},${s}`}function wr({sourceX:e,sourceY:t,sourcePosition:n=Q.Bottom,targetX:r,targetY:o,targetPosition:i=Q.Top,borderRadius:s=5,centerX:a,centerY:c,offset:l=20}){const[u,d,g,m,S]=kc({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:a,y:c},offset:l});return[u.reduce((C,p,b)=>{let _="";return b>0&&b<u.length-1?_=Hc(u[b-1],p,u[b+1],s):_=`${b===0?"M":"L"}${p.x} ${p.y}`,C+=_,C},""),d,g,m,S]}const Wn=(0,f.memo)(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:l,style:u,sourcePosition:d=Q.Bottom,targetPosition:g=Q.Top,markerEnd:m,markerStart:S,pathOptions:y,interactionWidth:C})=>{const[p,b,_]=wr({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:r,targetPosition:g,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset});return f.createElement(wn,{path:p,labelX:b,labelY:_,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:l,style:u,markerEnd:m,markerStart:S,interactionWidth:C})});Wn.displayName="SmoothStepEdge";const xr=(0,f.memo)(e=>{var t;return f.createElement(Wn,Te(U({},e),{pathOptions:(0,f.useMemo)(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])}))});xr.displayName="StepEdge";function Bc({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,s,a]=Oo({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,s,a]}const Sr=(0,f.memo)(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:l,style:u,markerEnd:d,markerStart:g,interactionWidth:m})=>{const[S,y,C]=Bc({sourceX:e,sourceY:t,targetX:n,targetY:r});return f.createElement(wn,{path:S,labelX:y,labelY:C,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:l,style:u,markerEnd:d,markerStart:g,interactionWidth:m})});Sr.displayName="StraightEdge";function Un(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Bo({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case Q.Left:return[t-Un(t-r,i),n];case Q.Right:return[t+Un(r-t,i),n];case Q.Top:return[t,n-Un(n-o,i)];case Q.Bottom:return[t,n+Un(o-n,i)]}}function Lo({sourceX:e,sourceY:t,sourcePosition:n=Q.Bottom,targetX:r,targetY:o,targetPosition:i=Q.Top,curvature:s=.25}){const[a,c]=Bo({pos:n,x1:e,y1:t,x2:r,y2:o,c:s}),[l,u]=Bo({pos:i,x1:r,y1:o,x2:e,y2:t,c:s}),[d,g,m,S]=$o({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:a,sourceControlY:c,targetControlX:l,targetControlY:u});return[`M${e},${t} C${a},${c} ${l},${u} ${r},${o}`,d,g,m,S]}const Kn=(0,f.memo)(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=Q.Bottom,targetPosition:i=Q.Top,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,style:g,markerEnd:m,markerStart:S,pathOptions:y,interactionWidth:C})=>{const[p,b,_]=Lo({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:i,curvature:y==null?void 0:y.curvature});return f.createElement(wn,{path:p,labelX:b,labelY:_,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,style:g,markerEnd:m,markerStart:S,interactionWidth:C})});Kn.displayName="BezierEdge";const Er=(0,f.createContext)(null),Lc=Er.Provider;Er.Consumer;const Vc=()=>(0,f.useContext)(Er),Zc=e=>"id"in e&&"source"in e&&"target"in e,Vo=e=>"id"in e&&!("source"in e)&&!("target"in e),tf=(e,t,n)=>{if(!Vo(e))return[];const r=n.filter(o=>o.source===e.id).map(o=>o.target);return t.filter(o=>r.includes(o.id))},nf=(e,t,n)=>{if(!Vo(e))return[];const r=n.filter(o=>o.target===e.id).map(o=>o.source);return t.filter(o=>r.includes(o.id))},Zo=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,br=(e,t)=>typeof e=="undefined"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,Fc=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Fo=(e,t)=>{if(!e.source||!e.target)return Fn("006",ct.error006()),t;let n;return Zc(e)?n=U({},e):n=Te(U({},e),{id:Zo(e)}),Fc(n,t)?t:t.concat(n)},rf=(e,t,n,r={shouldReplaceId:!0})=>{const c=e,{id:o}=c,i=Ft(c,["id"]);if(!t.source||!t.target)return Fn("006",ct.error006()),n;if(!n.find(l=>l.id===o))return Fn("007",ct.error007(o)),n;const a=Te(U({},i),{id:r.shouldReplaceId?Zo(t):o,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle});return n.filter(l=>l.id!==o).concat(a)},Cr=({x:e,y:t},[n,r,o],i,[s,a])=>{const c={x:(e-n)/o,y:(t-r)/o};return i?{x:s*Math.round(c.x/s),y:a*Math.round(c.y/a)}:c},Xo=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r}),Kt=(e,t=[0,0])=>{var i,s;if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=((i=e.width)!=null?i:0)*t[0],r=((s=e.height)!=null?s:0)*t[1],o={x:e.position.x-n,y:e.position.y-r};return Te(U({},o),{positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:o})},Gn=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const{x:i,y:s}=Kt(o,t).positionAbsolute;return Ao(r,vn({x:i,y:s,width:o.width||0,height:o.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return To(n)},of=(e,t=[0,0])=>(console.warn("[DEPRECATED] `getRectOfNodes` is deprecated. Instead use `getNodesBounds` https://reactflow.dev/api-reference/utils/get-nodes-bounds."),Gn(e,t)),Yo=(e,t,[n,r,o]=[0,0,1],i=!1,s=!1,a=[0,0])=>{const c={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},l=[];return e.forEach(u=>{const{width:d,height:g,selectable:m=!0,hidden:S=!1}=u;if(s&&!m||S)return!1;const{positionAbsolute:y}=Kt(u,a),C={x:y.x,y:y.y,width:d||0,height:g||0},p=pr(c,C),b=typeof d=="undefined"||typeof g=="undefined"||d===null||g===null,_=i&&p>0,x=(d||0)*(g||0);(b||_||p>=x||u.dragging)&&l.push(u)}),l},Wo=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},sf=(e,t,n,r,o,i=.1)=>{const{x:s,y:a,zoom:c}=_r(e,t,n,r,o,i);return console.warn("[DEPRECATED] `getTransformForBounds` is deprecated. Instead use `getViewportForBounds`. Beware that the return value is type Viewport (`{ x: number, y: number, zoom: number }`) instead of Transform (`[number, number, number]`). https://reactflow.dev/api-reference/utils/get-viewport-for-bounds"),[s,a,c]},_r=(e,t,n,r,o,i=.1)=>{const s=t/(e.width*(1+i)),a=n/(e.height*(1+i)),c=Math.min(s,a),l=Ut(c,r,o),u=e.x+e.width/2,d=e.y+e.height/2,g=t/2-u*l,m=n/2-d*l;return{x:g,y:m,zoom:l}},Rt=(e,t=0)=>e.transition().duration(t);function Uo(e,t,n,r){return(t[n]||[]).reduce((o,i)=>{var s,a,c,l;return`${e.id}-${i.id}-${n}`!==r&&o.push({id:i.id||null,type:n,nodeId:e.id,x:((a=(s=e.positionAbsolute)==null?void 0:s.x)!=null?a:0)+i.x+i.width/2,y:((l=(c=e.positionAbsolute)==null?void 0:c.y)!=null?l:0)+i.y+i.height/2}),o},[])}function Xc(e,t,n,r,o,i){const{x:s,y:a}=Mt(e),l=t.elementsFromPoint(s,a).find(S=>S.classList.contains("react-flow__handle"));if(l){const S=l.getAttribute("data-nodeid");if(S){const y=Nr(void 0,l),C=l.getAttribute("data-handleid"),p=i({nodeId:S,id:C,type:y});if(p){const b=o.find(_=>_.nodeId===S&&_.type===y&&_.id===C);return{handle:{id:C,type:y,nodeId:S,x:(b==null?void 0:b.x)||n.x,y:(b==null?void 0:b.y)||n.y},validHandleResult:p}}}}let u=[],d=1/0;if(o.forEach(S=>{const y=Math.sqrt(Fr(S.x-n.x,2)+Fr(S.y-n.y,2));if(y<=r){const C=i(S);y<=d&&(y<d?u=[{handle:S,validHandleResult:C}]:y===d&&u.push({handle:S,validHandleResult:C}),d=y)}}),!u.length)return{handle:null,validHandleResult:Ko()};if(u.length===1)return u[0];const g=u.some(({validHandleResult:S})=>S.isValid),m=u.some(({handle:S})=>S.type==="target");return u.find(({handle:S,validHandleResult:y})=>m?S.type==="target":g?y.isValid:!0)||u[0]}const Yc={source:null,target:null,sourceHandle:null,targetHandle:null},Ko=()=>({handleDomNode:null,isValid:!1,connection:Yc,endHandle:null});function Go(e,t,n,r,o,i,s){const a=o==="target",c=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),l=Te(U({},Ko()),{handleDomNode:c});if(c){const u=Nr(void 0,c),d=c.getAttribute("data-nodeid"),g=c.getAttribute("data-handleid"),m=c.classList.contains("connectable"),S=c.classList.contains("connectableend"),y={source:a?d:n,sourceHandle:a?g:r,target:a?n:d,targetHandle:a?r:g};l.connection=y,m&&S&&(t===Ot.Strict?a&&u==="source"||!a&&u==="target":d!==n||g!==r)&&(l.endHandle={nodeId:d,handleId:g,type:u},l.isValid=i(y))}return l}function Wc({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((o,i)=>{if(i[Ae]){const{handleBounds:s}=i[Ae];let a=[],c=[];s&&(a=Uo(i,s,"source",`${t}-${n}-${r}`),c=Uo(i,s,"target",`${t}-${n}-${r}`)),o.push(...a,...c)}return o},[])}function Nr(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Mr(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Uc(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Qo({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:o,getState:i,setState:s,isValidConnection:a,edgeUpdaterType:c,onEdgeUpdateEnd:l}){const u=Mo(e.target),{connectionMode:d,domNode:g,autoPanOnConnect:m,connectionRadius:S,onConnectStart:y,panBy:C,getNodes:p,cancelConnection:b}=i();let _=0,x;const{x:T,y:$}=Mt(e),k=u==null?void 0:u.elementFromPoint(T,$),O=Nr(c,k),R=g==null?void 0:g.getBoundingClientRect();if(!R||!O)return;let B,D=Mt(e,R),L=!1,I=null,h=!1,E=null;const v=Wc({nodes:p(),nodeId:n,handleId:t,handleType:O}),N=()=>{if(!m)return;const[z,M]=No(D,R);C({x:z,y:M}),_=requestAnimationFrame(N)};s({connectionPosition:D,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:O,connectionStartHandle:{nodeId:n,handleId:t,type:O},connectionEndHandle:null}),y==null||y(e,{nodeId:n,handleId:t,handleType:O});function P(z){const{transform:M}=i();D=Mt(z,R);const{handle:H,validHandleResult:W}=Xc(z,u,Cr(D,M,!1,[1,1]),S,v,K=>Go(K,d,n,t,o?"target":"source",a,u));if(x=H,L||(N(),L=!0),E=W.handleDomNode,I=W.connection,h=W.isValid,s({connectionPosition:x&&h?Xo({x:x.x,y:x.y},M):D,connectionStatus:Uc(!!x,h),connectionEndHandle:W.endHandle}),!x&&!h&&!E)return Mr(B);I.source!==I.target&&E&&(Mr(B),B=E,E.classList.add("connecting","react-flow__handle-connecting"),E.classList.toggle("valid",h),E.classList.toggle("react-flow__handle-valid",h))}function w(z){var M,H;(x||E)&&I&&h&&(r==null||r(I)),(H=(M=i()).onConnectEnd)==null||H.call(M,z),c&&(l==null||l(z)),Mr(B),b(),cancelAnimationFrame(_),L=!1,h=!1,I=null,E=null,u.removeEventListener("mousemove",P),u.removeEventListener("mouseup",w),u.removeEventListener("touchmove",P),u.removeEventListener("touchend",w)}u.addEventListener("mousemove",P),u.addEventListener("mouseup",w),u.addEventListener("touchmove",P),u.addEventListener("touchend",w)}const Jo=()=>!0,Kc=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),Gc=(e,t,n)=>r=>{const{connectionStartHandle:o,connectionEndHandle:i,connectionClickStartHandle:s}=r;return{connecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},jo=(0,f.forwardRef)((S,m)=>{var y=S,{type:e="source",position:t=Q.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:s,onConnect:a,children:c,className:l,onMouseDown:u,onTouchStart:d}=y,g=Ft(y,["type","position","isValidConnection","isConnectable","isConnectableStart","isConnectableEnd","id","onConnect","children","className","onMouseDown","onTouchStart"]);var D,L;const C=s||null,p=e==="target",b=ke(),_=Vc(),{connectOnClick:x,noPanClassName:T}=ve(Kc,be),{connecting:$,clickConnecting:k}=ve(Gc(_,C,e),be);_||(L=(D=b.getState()).onError)==null||L.call(D,"010",ct.error010());const O=I=>{const{defaultEdgeOptions:h,onConnect:E,hasDefaultEdges:v}=b.getState(),N=U(U({},h),I);if(v){const{edges:P,setEdges:w}=b.getState();w(Fo(N,P))}E==null||E(N),a==null||a(N)},R=I=>{if(!_)return;const h=Io(I);o&&(h&&I.button===0||!h)&&Qo({event:I,handleId:C,nodeId:_,onConnect:O,isTarget:p,getState:b.getState,setState:b.setState,isValidConnection:n||b.getState().isValidConnection||Jo}),h?u==null||u(I):d==null||d(I)},B=I=>{const{onClickConnectStart:h,onClickConnectEnd:E,connectionClickStartHandle:v,connectionMode:N,isValidConnection:P}=b.getState();if(!_||!v&&!o)return;if(!v){h==null||h(I,{nodeId:_,handleId:C,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:_,type:e,handleId:C}});return}const w=Mo(I.target),z=n||P||Jo,{connection:M,isValid:H}=Go({nodeId:_,id:C,type:e},N,v.nodeId,v.handleId||null,v.type,z,w);H&&O(M),E==null||E(I),b.setState({connectionClickStartHandle:null})};return f.createElement("div",U({"data-handleid":C,"data-nodeid":_,"data-handlepos":t,"data-id":`${_}-${C}-${e}`,className:(0,X.Z)(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",T,l,{source:!p,target:p,connectable:r,connectablestart:o,connectableend:i,connecting:k,connectionindicator:r&&(o&&!$||i&&$)}]),onMouseDown:R,onTouchStart:R,onClick:x?B:void 0,ref:m},g),c)});jo.displayName="Handle";var En=(0,f.memo)(jo);const qo=({data:e,isConnectable:t,targetPosition:n=Q.Top,sourcePosition:r=Q.Bottom})=>f.createElement(f.Fragment,null,f.createElement(En,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,f.createElement(En,{type:"source",position:r,isConnectable:t}));qo.displayName="DefaultNode";var Ar=(0,f.memo)(qo);const es=({data:e,isConnectable:t,sourcePosition:n=Q.Bottom})=>f.createElement(f.Fragment,null,e==null?void 0:e.label,f.createElement(En,{type:"source",position:n,isConnectable:t}));es.displayName="InputNode";var ts=(0,f.memo)(es);const ns=({data:e,isConnectable:t,targetPosition:n=Q.Top})=>f.createElement(f.Fragment,null,f.createElement(En,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);ns.displayName="OutputNode";var rs=(0,f.memo)(ns);const Tr=()=>null;Tr.displayName="GroupNode";const Qc=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>U({},t))}),Qn=e=>e.id;function Jc(e,t){return be(e.selectedNodes.map(Qn),t.selectedNodes.map(Qn))&&be(e.selectedEdges.map(Qn),t.selectedEdges.map(Qn))}const os=(0,f.memo)(({onSelectionChange:e})=>{const t=ke(),{selectedNodes:n,selectedEdges:r}=ve(Qc,Jc);return(0,f.useEffect)(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChange.forEach(i=>i(o))},[n,r,e]),null});os.displayName="SelectionListener";const jc=e=>!!e.onSelectionChange;function qc({onSelectionChange:e}){const t=ve(jc);return e||t?f.createElement(os,{onSelectionChange:e}):null}const el=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Gt(e,t){(0,f.useEffect)(()=>{typeof e!="undefined"&&t(e)},[e])}function re(e,t,n){(0,f.useEffect)(()=>{typeof t!="undefined"&&n({[e]:t})},[t])}const tl=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:o,onConnectStart:i,onConnectEnd:s,onClickConnectStart:a,onClickConnectEnd:c,nodesDraggable:l,nodesConnectable:u,nodesFocusable:d,edgesFocusable:g,edgesUpdatable:m,elevateNodesOnSelect:S,minZoom:y,maxZoom:C,nodeExtent:p,onNodesChange:b,onEdgesChange:_,elementsSelectable:x,connectionMode:T,snapGrid:$,snapToGrid:k,translateExtent:O,connectOnClick:R,defaultEdgeOptions:B,fitView:D,fitViewOptions:L,onNodesDelete:I,onEdgesDelete:h,onNodeDrag:E,onNodeDragStart:v,onNodeDragStop:N,onSelectionDrag:P,onSelectionDragStart:w,onSelectionDragStop:z,noPanClassName:M,nodeOrigin:H,rfId:W,autoPanOnConnect:K,autoPanOnNodeDrag:j,onError:ae,connectionRadius:he,isValidConnection:me,nodeDragThreshold:He})=>{const{setNodes:Fe,setEdges:Ue,setDefaultNodesAndEdges:Oe,setMinZoom:dt,setMaxZoom:rt,setTranslateExtent:$e,setNodeExtent:yt,reset:Se}=ve(el,be),J=ke();return(0,f.useEffect)(()=>{const ot=r==null?void 0:r.map(Dt=>U(U({},Dt),B));return Oe(n,ot),()=>{Se()}},[]),re("defaultEdgeOptions",B,J.setState),re("connectionMode",T,J.setState),re("onConnect",o,J.setState),re("onConnectStart",i,J.setState),re("onConnectEnd",s,J.setState),re("onClickConnectStart",a,J.setState),re("onClickConnectEnd",c,J.setState),re("nodesDraggable",l,J.setState),re("nodesConnectable",u,J.setState),re("nodesFocusable",d,J.setState),re("edgesFocusable",g,J.setState),re("edgesUpdatable",m,J.setState),re("elementsSelectable",x,J.setState),re("elevateNodesOnSelect",S,J.setState),re("snapToGrid",k,J.setState),re("snapGrid",$,J.setState),re("onNodesChange",b,J.setState),re("onEdgesChange",_,J.setState),re("connectOnClick",R,J.setState),re("fitViewOnInit",D,J.setState),re("fitViewOnInitOptions",L,J.setState),re("onNodesDelete",I,J.setState),re("onEdgesDelete",h,J.setState),re("onNodeDrag",E,J.setState),re("onNodeDragStart",v,J.setState),re("onNodeDragStop",N,J.setState),re("onSelectionDrag",P,J.setState),re("onSelectionDragStart",w,J.setState),re("onSelectionDragStop",z,J.setState),re("noPanClassName",M,J.setState),re("nodeOrigin",H,J.setState),re("rfId",W,J.setState),re("autoPanOnConnect",K,J.setState),re("autoPanOnNodeDrag",j,J.setState),re("onError",ae,J.setState),re("connectionRadius",he,J.setState),re("isValidConnection",me,J.setState),re("nodeDragThreshold",He,J.setState),Gt(e,Fe),Gt(t,Ue),Gt(y,dt),Gt(C,rt),Gt(O,$e),Gt(p,yt),null},ss={display:"none"},nl={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},is="react-flow__node-desc",as="react-flow__edge-desc",rl="react-flow__aria-live",ol=e=>e.ariaLiveMessage;function sl({rfId:e}){const t=ve(ol);return f.createElement("div",{id:`${rl}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:nl},t)}function il({rfId:e,disableKeyboardA11y:t}){return f.createElement(f.Fragment,null,f.createElement("div",{id:`${is}-${e}`,style:ss},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),f.createElement("div",{id:`${as}-${e}`,style:ss},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&f.createElement(sl,{rfId:e}))}var bn=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=(0,f.useState)(!1),o=(0,f.useRef)(!1),i=(0,f.useRef)(new Set([])),[s,a]=(0,f.useMemo)(()=>{if(e!==null){const l=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),u=l.reduce((d,g)=>d.concat(...g),[]);return[l,u]}return[[],[]]},[e]);return(0,f.useEffect)(()=>{const c=typeof document!="undefined"?document:null,l=(t==null?void 0:t.target)||c;if(e!==null){const u=m=>{if(o.current=m.ctrlKey||m.metaKey||m.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&yr(m))return!1;const y=ls(m.code,a);i.current.add(m[y]),cs(s,i.current,!1)&&(m.preventDefault(),r(!0))},d=m=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&yr(m))return!1;const y=ls(m.code,a);cs(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(m[y]),m.key==="Meta"&&i.current.clear(),o.current=!1},g=()=>{i.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",u),l==null||l.addEventListener("keyup",d),window.addEventListener("blur",g),()=>{l==null||l.removeEventListener("keydown",u),l==null||l.removeEventListener("keyup",d),window.removeEventListener("blur",g)}}},[e,r]),n};function cs(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function ls(e,t){return t.includes(e)?"code":"key"}function us(e,t,n,r){var a,c,l,u,d,g,m,S;const o=e.parentNode||e.parentId;if(!o)return n;const i=t.get(o),s=Kt(i,r);return us(i,t,{x:((a=n.x)!=null?a:0)+s.x,y:((c=n.y)!=null?c:0)+s.y,z:((u=(l=i[Ae])==null?void 0:l.z)!=null?u:0)>((d=n.z)!=null?d:0)?(m=(g=i[Ae])==null?void 0:g.z)!=null?m:0:(S=n.z)!=null?S:0},r)}function fs(e,t,n){e.forEach(r=>{var i,s;const o=r.parentNode||r.parentId;if(o&&!e.has(o))throw new Error(`Parent node ${o} not found`);if(o||n!=null&&n[r.id]){const{x:a,y:c,z:l}=us(r,e,Te(U({},r.position),{z:(s=(i=r[Ae])==null?void 0:i.z)!=null?s:0}),t);r.positionAbsolute={x:a,y:c},r[Ae].z=l,n!=null&&n[r.id]&&(r[Ae].isParent=!0)}})}function zr(e,t,n,r){const o=new Map,i={},s=r?1e3:0;return e.forEach(a=>{var m;const c=(lt(a.zIndex)?a.zIndex:0)+(a.selected?s:0),l=t.get(a.id),u=Te(U({},a),{positionAbsolute:{x:a.position.x,y:a.position.y}}),d=a.parentNode||a.parentId;d&&(i[d]=!0);const g=(l==null?void 0:l.type)&&(l==null?void 0:l.type)!==a.type;Object.defineProperty(u,Ae,{enumerable:!1,value:{handleBounds:g||(m=l==null?void 0:l[Ae])==null?void 0:m.handleBounds,z:c}}),o.set(a.id,u)}),fs(o,n,i),o}function ds(e,t={}){var S,y,C;const{getNodes:n,width:r,height:o,minZoom:i,maxZoom:s,d3Zoom:a,d3Selection:c,fitViewOnInitDone:l,fitViewOnInit:u,nodeOrigin:d}=e(),g=t.initial&&!l&&u;if(a&&c&&(g||!t.initial)){const p=n().filter(_=>{var T;const x=t.includeHiddenNodes?_.width&&_.height:!_.hidden;return(T=t.nodes)!=null&&T.length?x&&t.nodes.some($=>$.id===_.id):x}),b=p.every(_=>_.width&&_.height);if(p.length>0&&b){const _=Gn(p,d),{x,y:T,zoom:$}=_r(_,r,o,(S=t.minZoom)!=null?S:i,(y=t.maxZoom)!=null?y:s,(C=t.padding)!=null?C:.1),k=bt.translate(x,T).scale($);return typeof t.duration=="number"&&t.duration>0?a.transform(Rt(c,t.duration),k):a.transform(c,k),!0}}return!1}function al(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,Te(U({},r),{[Ae]:r[Ae],selected:n.selected}))}),new Map(t)}function cl(e,t){return t.map(n=>{const r=e.find(o=>o.id===n.id);return r&&(n.selected=r.selected),n})}function Jn({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:o,edges:i,onNodesChange:s,onEdgesChange:a,hasDefaultNodes:c,hasDefaultEdges:l}=n();e!=null&&e.length&&(c&&r({nodeInternals:al(e,o)}),s==null||s(e)),t!=null&&t.length&&(l&&r({edges:cl(t,i)}),a==null||a(t))}const Qt=()=>{},ll={zoomIn:Qt,zoomOut:Qt,zoomTo:Qt,getZoom:()=>1,setViewport:Qt,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Qt,fitBounds:Qt,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},ul=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),fl=()=>{const e=ke(),{d3Zoom:t,d3Selection:n}=ve(ul,be);return(0,f.useMemo)(()=>n&&t?{zoomIn:o=>t.scaleBy(Rt(n,o==null?void 0:o.duration),1.2),zoomOut:o=>t.scaleBy(Rt(n,o==null?void 0:o.duration),1/1.2),zoomTo:(o,i)=>t.scaleTo(Rt(n,i==null?void 0:i.duration),o),getZoom:()=>e.getState().transform[2],setViewport:(o,i)=>{var u,d,g;const[s,a,c]=e.getState().transform,l=bt.translate((u=o.x)!=null?u:s,(d=o.y)!=null?d:a).scale((g=o.zoom)!=null?g:c);t.transform(Rt(n,i==null?void 0:i.duration),l)},getViewport:()=>{const[o,i,s]=e.getState().transform;return{x:o,y:i,zoom:s}},fitView:o=>ds(e.getState,o),setCenter:(o,i,s)=>{const{width:a,height:c,maxZoom:l}=e.getState(),u=typeof(s==null?void 0:s.zoom)!="undefined"?s.zoom:l,d=a/2-o*u,g=c/2-i*u,m=bt.translate(d,g).scale(u);t.transform(Rt(n,s==null?void 0:s.duration),m)},fitBounds:(o,i)=>{var S;const{width:s,height:a,minZoom:c,maxZoom:l}=e.getState(),{x:u,y:d,zoom:g}=_r(o,s,a,c,l,(S=i==null?void 0:i.padding)!=null?S:.1),m=bt.translate(u,d).scale(g);t.transform(Rt(n,i==null?void 0:i.duration),m)},project:o=>{const{transform:i,snapToGrid:s,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Cr(o,i,s,a)},screenToFlowPosition:o=>{const{transform:i,snapToGrid:s,snapGrid:a,domNode:c}=e.getState();if(!c)return o;const{x:l,y:u}=c.getBoundingClientRect(),d={x:o.x-l,y:o.y-u};return Cr(d,i,s,a)},flowToScreenPosition:o=>{const{transform:i,domNode:s}=e.getState();if(!s)return o;const{x:a,y:c}=s.getBoundingClientRect(),l=Xo(o,i);return{x:l.x+a,y:l.y+c}},viewportInitialized:!0}:ll,[t,n])};function Pr(){const e=fl(),t=ke(),n=(0,f.useCallback)(()=>t.getState().getNodes().map(y=>U({},y)),[]),r=(0,f.useCallback)(y=>t.getState().nodeInternals.get(y),[]),o=(0,f.useCallback)(()=>{const{edges:y=[]}=t.getState();return y.map(C=>U({},C))},[]),i=(0,f.useCallback)(y=>{const{edges:C=[]}=t.getState();return C.find(p=>p.id===y)},[]),s=(0,f.useCallback)(y=>{const{getNodes:C,setNodes:p,hasDefaultNodes:b,onNodesChange:_}=t.getState(),x=C(),T=typeof y=="function"?y(x):y;if(b)p(T);else if(_){const $=T.length===0?x.map(k=>({type:"remove",id:k.id})):T.map(k=>({item:k,type:"reset"}));_($)}},[]),a=(0,f.useCallback)(y=>{const{edges:C=[],setEdges:p,hasDefaultEdges:b,onEdgesChange:_}=t.getState(),x=typeof y=="function"?y(C):y;if(b)p(x);else if(_){const T=x.length===0?C.map($=>({type:"remove",id:$.id})):x.map($=>({item:$,type:"reset"}));_(T)}},[]),c=(0,f.useCallback)(y=>{const C=Array.isArray(y)?y:[y],{getNodes:p,setNodes:b,hasDefaultNodes:_,onNodesChange:x}=t.getState();if(_){const $=[...p(),...C];b($)}else if(x){const T=C.map($=>({item:$,type:"add"}));x(T)}},[]),l=(0,f.useCallback)(y=>{const C=Array.isArray(y)?y:[y],{edges:p=[],setEdges:b,hasDefaultEdges:_,onEdgesChange:x}=t.getState();if(_)b([...p,...C]);else if(x){const T=C.map($=>({item:$,type:"add"}));x(T)}},[]),u=(0,f.useCallback)(()=>{const{getNodes:y,edges:C=[],transform:p}=t.getState(),[b,_,x]=p;return{nodes:y().map(T=>U({},T)),edges:C.map(T=>U({},T)),viewport:{x:b,y:_,zoom:x}}},[]),d=(0,f.useCallback)(({nodes:y,edges:C})=>{const{nodeInternals:p,getNodes:b,edges:_,hasDefaultNodes:x,hasDefaultEdges:T,onNodesDelete:$,onEdgesDelete:k,onNodesChange:O,onEdgesChange:R}=t.getState(),B=(y||[]).map(E=>E.id),D=(C||[]).map(E=>E.id),L=b().reduce((E,v)=>{const N=v.parentNode||v.parentId,P=!B.includes(v.id)&&N&&E.find(z=>z.id===N);return(typeof v.deletable=="boolean"?v.deletable:!0)&&(B.includes(v.id)||P)&&E.push(v),E},[]),I=_.filter(E=>typeof E.deletable=="boolean"?E.deletable:!0),h=I.filter(E=>D.includes(E.id));if(L||h){const E=Wo(L,I),v=[...h,...E],N=v.reduce((P,w)=>(P.includes(w.id)||P.push(w.id),P),[]);if((T||x)&&(T&&t.setState({edges:_.filter(P=>!N.includes(P.id))}),x&&(L.forEach(P=>{p.delete(P.id)}),t.setState({nodeInternals:new Map(p)}))),N.length>0&&(k==null||k(v),R&&R(N.map(P=>({id:P,type:"remove"})))),L.length>0&&($==null||$(L),O)){const P=L.map(w=>({id:w.id,type:"remove"}));O(P)}}},[]),g=(0,f.useCallback)(y=>{const C=$c(y),p=C?null:t.getState().nodeInternals.get(y.id);return!C&&!p?[null,null,C]:[C?y:zo(p),p,C]},[]),m=(0,f.useCallback)((y,C=!0,p)=>{const[b,_,x]=g(y);return b?(p||t.getState().getNodes()).filter(T=>{if(!x&&(T.id===_.id||!T.positionAbsolute))return!1;const $=zo(T),k=pr($,b);return C&&k>0||k>=b.width*b.height}):[]},[]),S=(0,f.useCallback)((y,C,p=!0)=>{const[b]=g(y);if(!b)return!1;const _=pr(b,C);return p&&_>0||_>=b.width*b.height},[]);return(0,f.useMemo)(()=>Te(U({},e),{getNodes:n,getNode:r,getEdges:o,getEdge:i,setNodes:s,setEdges:a,addNodes:c,addEdges:l,toObject:u,deleteElements:d,getIntersectingNodes:m,isNodeIntersecting:S}),[e,n,r,o,i,s,a,c,l,u,d,m,S])}const dl={actInsideInputWithModifier:!1};var hl=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=ke(),{deleteElements:r}=Pr(),o=bn(e,dl),i=bn(t);(0,f.useEffect)(()=>{if(o){const{edges:s,getNodes:a}=n.getState(),c=a().filter(u=>u.selected),l=s.filter(u=>u.selected);r({nodes:c,edges:l}),n.setState({nodesSelectionActive:!1})}},[o]),(0,f.useEffect)(()=>{n.setState({multiSelectionActive:i})},[i])};function gl(e){const t=ke();(0,f.useEffect)(()=>{let n;const r=()=>{var i,s;if(!e.current)return;const o=gr(e.current);(o.height===0||o.width===0)&&((s=(i=t.getState()).onError)==null||s.call(i,"004",ct.error004())),t.setState({width:o.width||500,height:o.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const Ir={position:"absolute",width:"100%",height:"100%",top:0,left:0},ml=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,jn=e=>({x:e.x,y:e.y,zoom:e.k}),Jt=(e,t)=>e.target.closest(`.${t}`),hs=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),gs=e=>{const t=e.ctrlKey&&Xn()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},pl=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),yl=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:o=!0,zoomOnPinch:i=!0,panOnScroll:s=!1,panOnScrollSpeed:a=.5,panOnScrollMode:c=$t.Free,zoomOnDoubleClick:l=!0,elementsSelectable:u,panOnDrag:d=!0,defaultViewport:g,translateExtent:m,minZoom:S,maxZoom:y,zoomActivationKeyCode:C,preventScrolling:p=!0,children:b,noWheelClassName:_,noPanClassName:x})=>{const T=(0,f.useRef)(),$=ke(),k=(0,f.useRef)(!1),O=(0,f.useRef)(!1),R=(0,f.useRef)(null),B=(0,f.useRef)({x:0,y:0,zoom:0}),{d3Zoom:D,d3Selection:L,d3ZoomHandler:I,userSelectionActive:h}=ve(pl,be),E=bn(C),v=(0,f.useRef)(0),N=(0,f.useRef)(!1),P=(0,f.useRef)();return gl(R),(0,f.useEffect)(()=>{if(R.current){const w=R.current.getBoundingClientRect(),z=bc().scaleExtent([S,y]).translateExtent(m),M=ut(R.current).call(z),H=bt.translate(g.x,g.y).scale(Ut(g.zoom,S,y)),W=[[0,0],[w.width,w.height]],K=z.constrain()(H,W,m);z.transform(M,K),z.wheelDelta(gs),$.setState({d3Zoom:z,d3Selection:M,d3ZoomHandler:M.on("wheel.zoom"),transform:[K.x,K.y,K.k],domNode:R.current.closest(".react-flow")})}},[]),(0,f.useEffect)(()=>{L&&D&&(s&&!E&&!h?L.on("wheel.zoom",w=>{if(Jt(w,_))return!1;w.preventDefault(),w.stopImmediatePropagation();const z=L.property("__zoom").k||1,M=Xn();if(w.ctrlKey&&i&&M){const He=mt(w),Fe=gs(w),Ue=z*Math.pow(2,Fe);D.scaleTo(L,Ue,He,w);return}const H=w.deltaMode===1?20:1;let W=c===$t.Vertical?0:w.deltaX*H,K=c===$t.Horizontal?0:w.deltaY*H;!M&&w.shiftKey&&c!==$t.Vertical&&(W=w.deltaY*H,K=0),D.translateBy(L,-(W/z)*a,-(K/z)*a,{internal:!0});const j=jn(L.property("__zoom")),{onViewportChangeStart:ae,onViewportChange:he,onViewportChangeEnd:me}=$.getState();clearTimeout(P.current),N.current||(N.current=!0,t==null||t(w,j),ae==null||ae(j)),N.current&&(e==null||e(w,j),he==null||he(j),P.current=setTimeout(()=>{n==null||n(w,j),me==null||me(j),N.current=!1},150))},{passive:!1}):typeof I!="undefined"&&L.on("wheel.zoom",function(w,z){if(!p&&w.type==="wheel"&&!w.ctrlKey||Jt(w,_))return null;w.preventDefault(),I.call(this,w,z)},{passive:!1}))},[h,s,c,L,D,I,E,i,p,_,t,e,n]),(0,f.useEffect)(()=>{D&&D.on("start",w=>{var H,W;if(!w.sourceEvent||w.sourceEvent.internal)return null;v.current=(H=w.sourceEvent)==null?void 0:H.button;const{onViewportChangeStart:z}=$.getState(),M=jn(w.transform);k.current=!0,B.current=M,((W=w.sourceEvent)==null?void 0:W.type)==="mousedown"&&$.setState({paneDragging:!0}),z==null||z(M),t==null||t(w.sourceEvent,M)})},[D,t]),(0,f.useEffect)(()=>{D&&(h&&!k.current?D.on("zoom",null):h||D.on("zoom",w=>{var M,H;const{onViewportChange:z}=$.getState();if($.setState({transform:[w.transform.x,w.transform.y,w.transform.k]}),O.current=!!(r&&hs(d,(M=v.current)!=null?M:0)),(e||z)&&!((H=w.sourceEvent)!=null&&H.internal)){const W=jn(w.transform);z==null||z(W),e==null||e(w.sourceEvent,W)}}))},[h,D,e,d,r]),(0,f.useEffect)(()=>{D&&D.on("end",w=>{var M;if(!w.sourceEvent||w.sourceEvent.internal)return null;const{onViewportChangeEnd:z}=$.getState();if(k.current=!1,$.setState({paneDragging:!1}),r&&hs(d,(M=v.current)!=null?M:0)&&!O.current&&r(w.sourceEvent),O.current=!1,(n||z)&&ml(B.current,w.transform)){const H=jn(w.transform);B.current=H,clearTimeout(T.current),T.current=setTimeout(()=>{z==null||z(H),n==null||n(w.sourceEvent,H)},s?150:0)}})},[D,s,d,n,r]),(0,f.useEffect)(()=>{D&&D.filter(w=>{const z=E||o,M=i&&w.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&w.button===1&&w.type==="mousedown"&&(Jt(w,"react-flow__node")||Jt(w,"react-flow__edge")))return!0;if(!d&&!z&&!s&&!l&&!i||h||!l&&w.type==="dblclick"||Jt(w,_)&&w.type==="wheel"||Jt(w,x)&&(w.type!=="wheel"||s&&w.type==="wheel"&&!E)||!i&&w.ctrlKey&&w.type==="wheel"||!z&&!s&&!M&&w.type==="wheel"||!d&&(w.type==="mousedown"||w.type==="touchstart")||Array.isArray(d)&&!d.includes(w.button)&&(w.type==="mousedown"||w.type==="touchstart"))return!1;const H=Array.isArray(d)&&d.includes(w.button)||!w.button||w.button<=1;return(!w.ctrlKey||w.type==="wheel")&&H})},[h,D,o,i,s,l,d,u,E]),f.createElement("div",{className:"react-flow__renderer",ref:R,style:Ir},b)},vl=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function wl(){const{userSelectionActive:e,userSelectionRect:t}=ve(vl,be);return e&&t?f.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function ms(e,t){var o,i;const n=t.parentNode||t.parentId,r=e.find(s=>s.id===n);if(r){const s=t.position.x+t.width-r.width,a=t.position.y+t.height-r.height;if(s>0||a>0||t.position.x<0||t.position.y<0){if(r.style=U({},r.style)||{},r.style.width=(o=r.style.width)!=null?o:r.width,r.style.height=(i=r.style.height)!=null?i:r.height,s>0&&(r.style.width+=s),a>0&&(r.style.height+=a),t.position.x<0){const c=Math.abs(t.position.x);r.position.x=r.position.x-c,r.style.width+=c,t.position.x=0}if(t.position.y<0){const c=Math.abs(t.position.y);r.position.y=r.position.y-c,r.style.height+=c,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function ps(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,o)=>{const i=e.filter(a=>a.id===o.id);if(i.length===0)return r.push(o),r;const s=U({},o);for(const a of i)if(a)switch(a.type){case"select":{s.selected=a.selected;break}case"position":{typeof a.position!="undefined"&&(s.position=a.position),typeof a.positionAbsolute!="undefined"&&(s.positionAbsolute=a.positionAbsolute),typeof a.dragging!="undefined"&&(s.dragging=a.dragging),s.expandParent&&ms(r,s);break}case"dimensions":{typeof a.dimensions!="undefined"&&(s.width=a.dimensions.width,s.height=a.dimensions.height),typeof a.updateStyle!="undefined"&&(s.style=U(U({},s.style||{}),a.dimensions)),typeof a.resizing=="boolean"&&(s.resizing=a.resizing),s.expandParent&&ms(r,s);break}case"remove":return r}return r.push(s),r},n)}function Or(e,t){return ps(e,t)}function ys(e,t){return ps(e,t)}const Tt=(e,t)=>({id:e,type:"select",selected:t});function jt(e,t){return e.reduce((n,r)=>{const o=t.includes(r.id);return!r.selected&&o?(r.selected=!0,n.push(Tt(r.id,!0))):r.selected&&!o&&(r.selected=!1,n.push(Tt(r.id,!1))),n},[])}const $r=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},xl=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),vs=(0,f.memo)(({isSelecting:e,selectionMode:t=Sn.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:o,onPaneClick:i,onPaneContextMenu:s,onPaneScroll:a,onPaneMouseEnter:c,onPaneMouseMove:l,onPaneMouseLeave:u,children:d})=>{const g=(0,f.useRef)(null),m=ke(),S=(0,f.useRef)(0),y=(0,f.useRef)(0),C=(0,f.useRef)(),{userSelectionActive:p,elementsSelectable:b,dragging:_}=ve(xl,be),x=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),S.current=0,y.current=0},T=I=>{i==null||i(I),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},$=I=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){I.preventDefault();return}s==null||s(I)},k=a?I=>a(I):void 0,O=I=>{const{resetSelectedElements:h,domNode:E}=m.getState();if(C.current=E==null?void 0:E.getBoundingClientRect(),!b||!e||I.button!==0||I.target!==g.current||!C.current)return;const{x:v,y:N}=Mt(I,C.current);h(),m.setState({userSelectionRect:{width:0,height:0,startX:v,startY:N,x:v,y:N}}),r==null||r(I)},R=I=>{var Fe,Ue;const{userSelectionRect:h,nodeInternals:E,edges:v,transform:N,onNodesChange:P,onEdgesChange:w,nodeOrigin:z,getNodes:M}=m.getState();if(!e||!C.current||!h)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const H=Mt(I,C.current),W=(Fe=h.startX)!=null?Fe:0,K=(Ue=h.startY)!=null?Ue:0,j=Te(U({},h),{x:H.x<W?H.x:W,y:H.y<K?H.y:K,width:Math.abs(H.x-W),height:Math.abs(H.y-K)}),ae=M(),he=Yo(E,j,N,t===Sn.Partial,!0,z),me=Wo(he,v).map(Oe=>Oe.id),He=he.map(Oe=>Oe.id);if(S.current!==He.length){S.current=He.length;const Oe=jt(ae,He);Oe.length&&(P==null||P(Oe))}if(y.current!==me.length){y.current=me.length;const Oe=jt(v,me);Oe.length&&(w==null||w(Oe))}m.setState({userSelectionRect:j})},B=I=>{if(I.button!==0)return;const{userSelectionRect:h}=m.getState();!p&&h&&I.target===g.current&&(T==null||T(I)),m.setState({nodesSelectionActive:S.current>0}),x(),o==null||o(I)},D=I=>{p&&(m.setState({nodesSelectionActive:S.current>0}),o==null||o(I)),x()},L=b&&(e||p);return f.createElement("div",{className:(0,X.Z)(["react-flow__pane",{dragging:_,selection:e}]),onClick:L?void 0:$r(T,g),onContextMenu:$r($,g),onWheel:$r(k,g),onMouseEnter:L?void 0:c,onMouseDown:L?O:void 0,onMouseMove:L?R:l,onMouseUp:L?B:void 0,onMouseLeave:L?D:u,ref:g,style:Ir},d,f.createElement(wl,null))});vs.displayName="Pane";function ws(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:ws(r,t):!1}function xs(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function Sl(e,t,n,r){return Array.from(e.values()).filter(o=>(o.selected||o.id===r)&&(!o.parentNode||o.parentId||!ws(o,e))&&(o.draggable||t&&typeof o.draggable=="undefined")).map(o=>{var i,s,a,c;return{id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:n.x-((s=(i=o.positionAbsolute)==null?void 0:i.x)!=null?s:0),y:n.y-((c=(a=o.positionAbsolute)==null?void 0:a.y)!=null?c:0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode||o.parentId,parentId:o.parentNode||o.parentId,width:o.width,height:o.height,expandParent:o.expandParent}})}function El(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Ss(e,t,n,r,o=[0,0],i){const s=El(e,e.extent||r);let a=s;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const d=n.get(c),{x:g,y:m}=Kt(d,o).positionAbsolute;a=d&&lt(g)&&lt(m)&&lt(d.width)&&lt(d.height)?[[g+e.width*o[0],m+e.height*o[1]],[g+d.width-e.width+e.width*o[0],m+d.height-e.height+e.height*o[1]]]:a}else i==null||i("005",ct.error005()),a=s;else if(e.extent&&c&&e.extent!=="parent"){const d=n.get(c),{x:g,y:m}=Kt(d,o).positionAbsolute;a=[[e.extent[0][0]+g,e.extent[0][1]+m],[e.extent[1][0]+g,e.extent[1][1]+m]]}let l={x:0,y:0};if(c){const d=n.get(c);l=Kt(d,o).positionAbsolute}const u=a&&a!=="parent"?mr(t,a):t;return{position:{x:u.x-l.x,y:u.y-l.y},positionAbsolute:u}}function Rr({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(o=>{const i=n.get(o.id);return Te(U({},i),{position:o.position,positionAbsolute:o.positionAbsolute})});return[e?r.find(o=>o.id===e):r[0],r]}const Es=(e,t,n,r)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const i=Array.from(o),s=t.getBoundingClientRect(),a={x:s.width*r[0],y:s.height*r[1]};return i.map(c=>{const l=c.getBoundingClientRect();return U({id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(l.left-s.left-a.x)/n,y:(l.top-s.top-a.y)/n},gr(c))})};function Cn(e,t,n){return n===void 0?n:r=>{const o=t().nodeInternals.get(e);o&&n(r,U({},o))}}function Dr({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:s,nodeInternals:a,onError:c}=t.getState(),l=a.get(e);if(!l){c==null||c("012",ct.error012(e));return}t.setState({nodesSelectionActive:!1}),l.selected?(n||l.selected&&s)&&(i({nodes:[l],edges:[]}),requestAnimationFrame(()=>{var u;return(u=r==null?void 0:r.current)==null?void 0:u.blur()})):o([e])}function bl(){const e=ke();return(0,f.useCallback)(({sourceEvent:n})=>{const{transform:r,snapGrid:o,snapToGrid:i}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,c={x:(s-r[0])/r[2],y:(a-r[1])/r[2]};return U({xSnapped:i?o[0]*Math.round(c.x/o[0]):c.x,ySnapped:i?o[1]*Math.round(c.y/o[1]):c.y},c)},[])}function kr(e){return(t,n,r)=>e==null?void 0:e(t,r)}function bs({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,selectNodesOnDrag:s}){const a=ke(),[c,l]=(0,f.useState)(!1),u=(0,f.useRef)([]),d=(0,f.useRef)({x:null,y:null}),g=(0,f.useRef)(0),m=(0,f.useRef)(null),S=(0,f.useRef)({x:0,y:0}),y=(0,f.useRef)(null),C=(0,f.useRef)(!1),p=(0,f.useRef)(!1),b=bl();return(0,f.useEffect)(()=>{if(e!=null&&e.current){const _=ut(e.current),x=({x:k,y:O})=>{const{nodeInternals:R,onNodeDrag:B,onSelectionDrag:D,updateNodePositions:L,nodeExtent:I,snapGrid:h,snapToGrid:E,nodeOrigin:v,onError:N}=a.getState();d.current={x:k,y:O};let P=!1,w={x:0,y:0,x2:0,y2:0};if(u.current.length>1&&I){const M=Gn(u.current,v);w=vn(M)}if(u.current=u.current.map(M=>{var j,ae;const H={x:k-M.distance.x,y:O-M.distance.y};E&&(H.x=h[0]*Math.round(H.x/h[0]),H.y=h[1]*Math.round(H.y/h[1]));const W=[[I[0][0],I[0][1]],[I[1][0],I[1][1]]];u.current.length>1&&I&&!M.extent&&(W[0][0]=M.positionAbsolute.x-w.x+I[0][0],W[1][0]=M.positionAbsolute.x+((j=M.width)!=null?j:0)-w.x2+I[1][0],W[0][1]=M.positionAbsolute.y-w.y+I[0][1],W[1][1]=M.positionAbsolute.y+((ae=M.height)!=null?ae:0)-w.y2+I[1][1]);const K=Ss(M,H,R,W,v,N);return P=P||M.position.x!==K.position.x||M.position.y!==K.position.y,M.position=K.position,M.positionAbsolute=K.positionAbsolute,M}),!P)return;L(u.current,!0,!0),l(!0);const z=o?B:kr(D);if(z&&y.current){const[M,H]=Rr({nodeId:o,dragItems:u.current,nodeInternals:R});z(y.current,M,H)}},T=()=>{var R,B;if(!m.current)return;const[k,O]=No(S.current,m.current);if(k!==0||O!==0){const{transform:D,panBy:L}=a.getState();d.current.x=((R=d.current.x)!=null?R:0)-k/D[2],d.current.y=((B=d.current.y)!=null?B:0)-O/D[2],L({x:k,y:O})&&x(d.current)}g.current=requestAnimationFrame(T)},$=k=>{var v;const{nodeInternals:O,multiSelectionActive:R,nodesDraggable:B,unselectNodesAndEdges:D,onNodeDragStart:L,onSelectionDragStart:I}=a.getState();p.current=!0;const h=o?L:kr(I);(!s||!i)&&!R&&o&&((v=O.get(o))!=null&&v.selected||D()),o&&i&&s&&Dr({id:o,store:a,nodeRef:e});const E=b(k);if(d.current=E,u.current=Sl(O,B,E,o),h&&u.current){const[N,P]=Rr({nodeId:o,dragItems:u.current,nodeInternals:O});h(k.sourceEvent,N,P)}};if(t)_.on(".drag",null);else{const k=Ac().on("start",O=>{const{domNode:R,nodeDragThreshold:B}=a.getState();B===0&&$(O);const D=b(O);d.current=D,m.current=(R==null?void 0:R.getBoundingClientRect())||null,S.current=Mt(O.sourceEvent,m.current)}).on("drag",O=>{var L,I,h,E;const R=b(O),{autoPanOnNodeDrag:B,nodeDragThreshold:D}=a.getState();if(!C.current&&p.current&&B&&(C.current=!0,T()),!p.current){const v=R.xSnapped-((I=(L=d==null?void 0:d.current)==null?void 0:L.x)!=null?I:0),N=R.ySnapped-((E=(h=d==null?void 0:d.current)==null?void 0:h.y)!=null?E:0);Math.sqrt(v*v+N*N)>D&&$(O)}(d.current.x!==R.xSnapped||d.current.y!==R.ySnapped)&&u.current&&p.current&&(y.current=O.sourceEvent,S.current=Mt(O.sourceEvent,m.current),x(R))}).on("end",O=>{if(p.current&&(l(!1),C.current=!1,p.current=!1,cancelAnimationFrame(g.current),u.current)){const{updateNodePositions:R,nodeInternals:B,onNodeDragStop:D,onSelectionDragStop:L}=a.getState(),I=o?D:kr(L);if(R(u.current,!1,!1),I){const[h,E]=Rr({nodeId:o,dragItems:u.current,nodeInternals:B});I(O.sourceEvent,h,E)}}}).filter(O=>{const R=O.target;return!O.button&&(!n||!xs(R,`.${n}`,e))&&(!r||xs(R,r,e))});return _.call(k),()=>{_.on(".drag",null)}}}},[e,t,n,r,i,a,o,s,b]),c}function Cs(){const e=ke();return(0,f.useCallback)(n=>{const{nodeInternals:r,nodeExtent:o,updateNodePositions:i,getNodes:s,snapToGrid:a,snapGrid:c,onError:l,nodesDraggable:u}=e.getState(),d=s().filter(b=>b.selected&&(b.draggable||u&&typeof b.draggable=="undefined")),g=a?c[0]:5,m=a?c[1]:5,S=n.isShiftPressed?4:1,y=n.x*g*S,C=n.y*m*S,p=d.map(b=>{if(b.positionAbsolute){const _={x:b.positionAbsolute.x+y,y:b.positionAbsolute.y+C};a&&(_.x=c[0]*Math.round(_.x/c[0]),_.y=c[1]*Math.round(_.y/c[1]));const{positionAbsolute:x,position:T}=Ss(b,_,r,o,void 0,l);b.position=T,b.positionAbsolute=x}return b});i(p,!0,!1)},[])}const qt={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var _n=e=>{const t=({id:n,type:r,data:o,xPos:i,yPos:s,xPosOrigin:a,yPosOrigin:c,selected:l,onClick:u,onMouseEnter:d,onMouseMove:g,onMouseLeave:m,onContextMenu:S,onDoubleClick:y,style:C,className:p,isDraggable:b,isSelectable:_,isConnectable:x,isFocusable:T,selectNodesOnDrag:$,sourcePosition:k,targetPosition:O,hidden:R,resizeObserver:B,dragHandle:D,zIndex:L,isParent:I,noDragClassName:h,noPanClassName:E,initialized:v,disableKeyboardA11y:N,ariaLabel:P,rfId:w,hasHandleBounds:z})=>{const M=ke(),H=(0,f.useRef)(null),W=(0,f.useRef)(null),K=(0,f.useRef)(k),j=(0,f.useRef)(O),ae=(0,f.useRef)(r),he=_||b||u||d||g||m,me=Cs(),He=Cn(n,M.getState,d),Fe=Cn(n,M.getState,g),Ue=Cn(n,M.getState,m),Oe=Cn(n,M.getState,S),dt=Cn(n,M.getState,y),rt=Se=>{const{nodeDragThreshold:J}=M.getState();if(_&&(!$||!b||J>0)&&Dr({id:n,store:M,nodeRef:H}),u){const ot=M.getState().nodeInternals.get(n);ot&&u(Se,U({},ot))}},$e=Se=>{if(!yr(Se)&&!N)if(Po.includes(Se.key)&&_){const J=Se.key==="Escape";Dr({id:n,store:M,unselect:J,nodeRef:H})}else b&&l&&Object.prototype.hasOwnProperty.call(qt,Se.key)&&(M.setState({ariaLiveMessage:`Moved selected node ${Se.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~s}`}),me({x:qt[Se.key].x,y:qt[Se.key].y,isShiftPressed:Se.shiftKey}))};(0,f.useEffect)(()=>()=>{W.current&&(B==null||B.unobserve(W.current),W.current=null)},[]),(0,f.useEffect)(()=>{if(H.current&&!R){const Se=H.current;(!v||!z||W.current!==Se)&&(W.current&&(B==null||B.unobserve(W.current)),B==null||B.observe(Se),W.current=Se)}},[R,v,z]),(0,f.useEffect)(()=>{const Se=ae.current!==r,J=K.current!==k,ot=j.current!==O;H.current&&(Se||J||ot)&&(Se&&(ae.current=r),J&&(K.current=k),ot&&(j.current=O),M.getState().updateNodeDimensions([{id:n,nodeElement:H.current,forceUpdate:!0}]))},[n,r,k,O]);const yt=bs({nodeRef:H,disabled:R||!b,noDragClassName:h,handleSelector:D,nodeId:n,isSelectable:_,selectNodesOnDrag:$});return R?null:f.createElement("div",{className:(0,X.Z)(["react-flow__node",`react-flow__node-${r}`,{[E]:b},p,{selected:l,selectable:_,parent:I,dragging:yt}]),ref:H,style:U({zIndex:L,transform:`translate(${a}px,${c}px)`,pointerEvents:he?"all":"none",visibility:v?"visible":"hidden"},C),"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:He,onMouseMove:Fe,onMouseLeave:Ue,onContextMenu:Oe,onClick:rt,onDoubleClick:dt,onKeyDown:T?$e:void 0,tabIndex:T?0:void 0,role:T?"button":void 0,"aria-describedby":N?void 0:`${is}-${w}`,"aria-label":P},f.createElement(Lc,{value:n},f.createElement(e,{id:n,data:o,type:r,xPos:i,yPos:s,selected:l,isConnectable:x,sourcePosition:k,targetPosition:O,dragging:yt,dragHandle:D,zIndex:L})))};return t.displayName="NodeWrapper",(0,f.memo)(t)};const Cl=e=>{const t=e.getNodes().filter(n=>n.selected);return Te(U({},Gn(t,e.nodeOrigin)),{transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive})};function _l({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=ke(),{width:o,height:i,x:s,y:a,transformString:c,userSelectionActive:l}=ve(Cl,be),u=Cs(),d=(0,f.useRef)(null);if((0,f.useEffect)(()=>{var S;n||(S=d.current)==null||S.focus({preventScroll:!0})},[n]),bs({nodeRef:d}),l||!o||!i)return null;const g=e?S=>{const y=r.getState().getNodes().filter(C=>C.selected);e(S,y)}:void 0,m=S=>{Object.prototype.hasOwnProperty.call(qt,S.key)&&u({x:qt[S.key].x,y:qt[S.key].y,isShiftPressed:S.shiftKey})};return f.createElement("div",{className:(0,X.Z)(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},f.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:g,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:o,height:i,top:a,left:s}}))}var Nl=(0,f.memo)(_l);const Ml=e=>e.nodesSelectionActive,_s=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,deleteKeyCode:a,onMove:c,onMoveStart:l,onMoveEnd:u,selectionKeyCode:d,selectionOnDrag:g,selectionMode:m,onSelectionStart:S,onSelectionEnd:y,multiSelectionKeyCode:C,panActivationKeyCode:p,zoomActivationKeyCode:b,elementsSelectable:_,zoomOnScroll:x,zoomOnPinch:T,panOnScroll:$,panOnScrollSpeed:k,panOnScrollMode:O,zoomOnDoubleClick:R,panOnDrag:B,defaultViewport:D,translateExtent:L,minZoom:I,maxZoom:h,preventScrolling:E,onSelectionContextMenu:v,noWheelClassName:N,noPanClassName:P,disableKeyboardA11y:w})=>{const z=ve(Ml),M=bn(d),H=bn(p),W=H||B,K=H||$,j=M||g&&W!==!0;return hl({deleteKeyCode:a,multiSelectionKeyCode:C}),f.createElement(yl,{onMove:c,onMoveStart:l,onMoveEnd:u,onPaneContextMenu:i,elementsSelectable:_,zoomOnScroll:x,zoomOnPinch:T,panOnScroll:K,panOnScrollSpeed:k,panOnScrollMode:O,zoomOnDoubleClick:R,panOnDrag:!M&&W,defaultViewport:D,translateExtent:L,minZoom:I,maxZoom:h,zoomActivationKeyCode:b,preventScrolling:E,noWheelClassName:N,noPanClassName:P},f.createElement(vs,{onSelectionStart:S,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:W,isSelecting:!!j,selectionMode:m},e,z&&f.createElement(Nl,{onSelectionContextMenu:v,noPanClassName:P,disableKeyboardA11y:w})))};_s.displayName="FlowRenderer";var Al=(0,f.memo)(_s);function Tl(e){return ve((0,f.useCallback)(n=>e?Yo(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function zl(e){const t={input:_n(e.input||ts),default:_n(e.default||Ar),output:_n(e.output||rs),group:_n(e.group||Tr)},n={},r=Object.keys(e).filter(o=>!["input","default","output","group"].includes(o)).reduce((o,i)=>(o[i]=_n(e[i]||Ar),o),n);return U(U({},t),r)}const Pl=({x:e,y:t,width:n,height:r,origin:o})=>!n||!r?{x:e,y:t}:o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-r*o[1]},Il=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Ns=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,updateNodeDimensions:i,onError:s}=ve(Il,be),a=Tl(e.onlyRenderVisibleElements),c=(0,f.useRef)(),l=(0,f.useMemo)(()=>{if(typeof ResizeObserver=="undefined")return null;const u=new ResizeObserver(d=>{const g=d.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));i(g)});return c.current=u,u},[]);return(0,f.useEffect)(()=>()=>{var u;(u=c==null?void 0:c.current)==null||u.disconnect()},[]),f.createElement("div",{className:"react-flow__nodes",style:Ir},a.map(u=>{var T,$,k,O,R,B,D,L;let d=u.type||"default";e.nodeTypes[d]||(s==null||s("003",ct.error003(d)),d="default");const g=e.nodeTypes[d]||e.nodeTypes.default,m=!!(u.draggable||t&&typeof u.draggable=="undefined"),S=!!(u.selectable||o&&typeof u.selectable=="undefined"),y=!!(u.connectable||n&&typeof u.connectable=="undefined"),C=!!(u.focusable||r&&typeof u.focusable=="undefined"),p=e.nodeExtent?mr(u.positionAbsolute,e.nodeExtent):u.positionAbsolute,b=(T=p==null?void 0:p.x)!=null?T:0,_=($=p==null?void 0:p.y)!=null?$:0,x=Pl({x:b,y:_,width:(k=u.width)!=null?k:0,height:(O=u.height)!=null?O:0,origin:e.nodeOrigin});return f.createElement(g,{key:u.id,id:u.id,className:u.className,style:u.style,type:d,data:u.data,sourcePosition:u.sourcePosition||Q.Bottom,targetPosition:u.targetPosition||Q.Top,hidden:u.hidden,xPos:b,yPos:_,xPosOrigin:x.x,yPosOrigin:x.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!u.selected,isDraggable:m,isSelectable:S,isConnectable:y,isFocusable:C,resizeObserver:l,dragHandle:u.dragHandle,zIndex:(B=(R=u[Ae])==null?void 0:R.z)!=null?B:0,isParent:!!((D=u[Ae])!=null&&D.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!u.width&&!!u.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:u.ariaLabel,hasHandleBounds:!!((L=u[Ae])!=null&&L.handleBounds)})}))};Ns.displayName="NodeRenderer";var Ol=(0,f.memo)(Ns);const $l=(e,t,n)=>n===Q.Left?e-t:n===Q.Right?e+t:e,Rl=(e,t,n)=>n===Q.Top?e-t:n===Q.Bottom?e+t:e,Ms="react-flow__edgeupdater",As=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:s,type:a})=>f.createElement("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:s,className:(0,X.Z)([Ms,`${Ms}-${a}`]),cx:$l(t,r,e),cy:Rl(n,r,e),r,stroke:"transparent",fill:"transparent"}),Dl=()=>!0;var en=e=>{const t=({id:n,className:r,type:o,data:i,onClick:s,onEdgeDoubleClick:a,selected:c,animated:l,label:u,labelStyle:d,labelShowBg:g,labelBgStyle:m,labelBgPadding:S,labelBgBorderRadius:y,style:C,source:p,target:b,sourceX:_,sourceY:x,targetX:T,targetY:$,sourcePosition:k,targetPosition:O,elementsSelectable:R,hidden:B,sourceHandleId:D,targetHandleId:L,onContextMenu:I,onMouseEnter:h,onMouseMove:E,onMouseLeave:v,edgeUpdaterRadius:N,onEdgeUpdate:P,onEdgeUpdateStart:w,onEdgeUpdateEnd:z,markerEnd:M,markerStart:H,rfId:W,ariaLabel:K,isFocusable:j,isUpdatable:ae,pathOptions:he,interactionWidth:me,disableKeyboardA11y:He})=>{const Fe=(0,f.useRef)(null),[Ue,Oe]=(0,f.useState)(!1),[dt,rt]=(0,f.useState)(!1),$e=ke(),yt=(0,f.useMemo)(()=>`url('#${br(H,W)}')`,[H,W]),Se=(0,f.useMemo)(()=>`url('#${br(M,W)}')`,[M,W]);if(B)return null;const J=Ke=>{var vt;const{edges:ht,addSelectedEdges:Bt,unselectNodesAndEdges:Lt,multiSelectionActive:Vt}=$e.getState(),_t=ht.find(An=>An.id===n);_t&&(R&&($e.setState({nodesSelectionActive:!1}),_t.selected&&Vt?(Lt({nodes:[],edges:[_t]}),(vt=Fe.current)==null||vt.blur()):Bt([n])),s&&s(Ke,_t))},ot=xn(n,$e.getState,a),Dt=xn(n,$e.getState,I),Nn=xn(n,$e.getState,h),tn=xn(n,$e.getState,E),nn=xn(n,$e.getState,v),Ct=(Ke,ht)=>{if(Ke.button!==0)return;const{edges:Bt,isValidConnection:Lt}=$e.getState(),Vt=ht?b:p,_t=(ht?L:D)||null,vt=ht?"target":"source",An=Lt||Dl,Lr=ht,Tn=Bt.find(Zt=>Zt.id===n);rt(!0),w==null||w(Ke,Tn,vt);const Vr=Zt=>{rt(!1),z==null||z(Zt,Tn,vt)};Qo({event:Ke,handleId:_t,nodeId:Vt,onConnect:Zt=>P==null?void 0:P(Tn,Zt),isTarget:Lr,getState:$e.getState,setState:$e.setState,isValidConnection:An,edgeUpdaterType:vt,onEdgeUpdateEnd:Vr})},rn=Ke=>Ct(Ke,!0),kt=Ke=>Ct(Ke,!1),Ht=()=>Oe(!0),on=()=>Oe(!1),sn=!R&&!s,Mn=Ke=>{var ht;if(!He&&Po.includes(Ke.key)&&R){const{unselectNodesAndEdges:Bt,addSelectedEdges:Lt,edges:Vt}=$e.getState();Ke.key==="Escape"?((ht=Fe.current)==null||ht.blur(),Bt({edges:[Vt.find(vt=>vt.id===n)]})):Lt([n])}};return f.createElement("g",{className:(0,X.Z)(["react-flow__edge",`react-flow__edge-${o}`,r,{selected:c,animated:l,inactive:sn,updating:Ue}]),onClick:J,onDoubleClick:ot,onContextMenu:Dt,onMouseEnter:Nn,onMouseMove:tn,onMouseLeave:nn,onKeyDown:j?Mn:void 0,tabIndex:j?0:void 0,role:j?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":K===null?void 0:K||`Edge from ${p} to ${b}`,"aria-describedby":j?`${as}-${W}`:void 0,ref:Fe},!dt&&f.createElement(e,{id:n,source:p,target:b,selected:c,animated:l,label:u,labelStyle:d,labelShowBg:g,labelBgStyle:m,labelBgPadding:S,labelBgBorderRadius:y,data:i,style:C,sourceX:_,sourceY:x,targetX:T,targetY:$,sourcePosition:k,targetPosition:O,sourceHandleId:D,targetHandleId:L,markerStart:yt,markerEnd:Se,pathOptions:he,interactionWidth:me}),ae&&f.createElement(f.Fragment,null,(ae==="source"||ae===!0)&&f.createElement(As,{position:k,centerX:_,centerY:x,radius:N,onMouseDown:rn,onMouseEnter:Ht,onMouseOut:on,type:"source"}),(ae==="target"||ae===!0)&&f.createElement(As,{position:O,centerX:T,centerY:$,radius:N,onMouseDown:kt,onMouseEnter:Ht,onMouseOut:on,type:"target"})))};return t.displayName="EdgeWrapper",(0,f.memo)(t)};function kl(e){const t={default:en(e.default||Kn),straight:en(e.bezier||Sr),step:en(e.step||xr),smoothstep:en(e.step||Wn),simplebezier:en(e.simplebezier||vr)},n={},r=Object.keys(e).filter(o=>!["default","bezier"].includes(o)).reduce((o,i)=>(o[i]=en(e[i]||Kn),o),n);return U(U({},t),r)}function Ts(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,o=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case Q.Top:return{x:r+i/2,y:o};case Q.Right:return{x:r+i,y:o+s/2};case Q.Bottom:return{x:r+i/2,y:o+s};case Q.Left:return{x:r,y:o+s/2}}}function zs(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const Hl=(e,t,n,r,o,i)=>{const s=Ts(n,e,t),a=Ts(i,r,o);return{sourceX:s.x,sourceY:s.y,targetX:a.x,targetY:a.y}};function Bl({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:i,width:s,height:a,transform:c}){const l={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+r,t.y+i)};l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);const u=vn({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:s/c[2],height:a/c[2]}),d=Math.max(0,Math.min(u.x2,l.x2)-Math.max(u.x,l.x)),g=Math.max(0,Math.min(u.y2,l.y2)-Math.max(u.y,l.y));return Math.ceil(d*g)>0}function Ps(e){var r,o,i,s,a;const t=((r=e==null?void 0:e[Ae])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)!="undefined"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)!="undefined";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const Ll=[{level:0,isMaxLevel:!0,edges:[]}];function Vl(e,t,n=!1){let r=-1;const o=e.reduce((s,a)=>{var u,d;const c=lt(a.zIndex);let l=c?a.zIndex:0;if(n){const g=t.get(a.target),m=t.get(a.source),S=a.selected||(g==null?void 0:g.selected)||(m==null?void 0:m.selected),y=Math.max(((u=m==null?void 0:m[Ae])==null?void 0:u.z)||0,((d=g==null?void 0:g[Ae])==null?void 0:d.z)||0,1e3);l=(c?a.zIndex:0)+(S?y:0)}return s[l]?s[l].push(a):s[l]=[a],r=l>r?l:r,s},{}),i=Object.entries(o).map(([s,a])=>{const c=+s;return{edges:a,level:c,isMaxLevel:c===r}});return i.length===0?Ll:i}function Zl(e,t,n){const r=ve((0,f.useCallback)(o=>e?o.edges.filter(i=>{const s=t.get(i.source),a=t.get(i.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&Bl({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:a.width,targetHeight:a.height,width:o.width,height:o.height,transform:o.transform})}):o.edges,[e,t]));return Vl(r,t,n)}const Fl=({color:e="none",strokeWidth:t=1})=>f.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Xl=({color:e="none",strokeWidth:t=1})=>f.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Is={[Yn.Arrow]:Fl,[Yn.ArrowClosed]:Xl};function Yl(e){const t=ke();return(0,f.useMemo)(()=>{var o,i;return Object.prototype.hasOwnProperty.call(Is,e)?Is[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",ct.error009(e)),null)},[e])}const Wl=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const c=Yl(t);return c?f.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:a,refX:"0",refY:"0"},f.createElement(c,{color:n,strokeWidth:s})):null},Ul=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((o,i)=>([i.markerStart,i.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const a=br(s,t);r.includes(a)||(o.push(U({id:a,color:s.color||e},s)),r.push(a))}}),o),[]).sort((o,i)=>o.id.localeCompare(i.id))},Os=({defaultColor:e,rfId:t})=>{const n=ve((0,f.useCallback)(Ul({defaultColor:e,rfId:t}),[e,t]),(r,o)=>!(r.length!==o.length||r.some((i,s)=>i.id!==o[s].id)));return f.createElement("defs",null,n.map(r=>f.createElement(Wl,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};Os.displayName="MarkerDefinitions";var Kl=(0,f.memo)(Os);const Gl=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),$s=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:o,noPanClassName:i,onEdgeUpdate:s,onEdgeContextMenu:a,onEdgeMouseEnter:c,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:d,edgeUpdaterRadius:g,onEdgeDoubleClick:m,onEdgeUpdateStart:S,onEdgeUpdateEnd:y,children:C,disableKeyboardA11y:p})=>{const{edgesFocusable:b,edgesUpdatable:_,elementsSelectable:x,width:T,height:$,connectionMode:k,nodeInternals:O,onError:R}=ve(Gl,be),B=Zl(t,O,n);return T?f.createElement(f.Fragment,null,B.map(({level:D,edges:L,isMaxLevel:I})=>f.createElement("svg",{key:D,style:{zIndex:D},width:T,height:$,className:"react-flow__edges react-flow__container"},I&&f.createElement(Kl,{defaultColor:e,rfId:r}),f.createElement("g",null,L.map(h=>{var rt,$e;const[E,v,N]=Ps(O.get(h.source)),[P,w,z]=Ps(O.get(h.target));if(!N||!z)return null;let M=h.type||"default";o[M]||(R==null||R("011",ct.error011(M)),M="default");const H=o[M]||o.default,W=k===Ot.Strict?w.target:((rt=w.target)!=null?rt:[]).concat(($e=w.source)!=null?$e:[]),K=zs(v.source,h.sourceHandle),j=zs(W,h.targetHandle),ae=(K==null?void 0:K.position)||Q.Bottom,he=(j==null?void 0:j.position)||Q.Top,me=!!(h.focusable||b&&typeof h.focusable=="undefined"),He=typeof s!="undefined"&&(h.updatable||_&&typeof h.updatable=="undefined");if(!K||!j)return R==null||R("008",ct.error008(K,h)),null;const{sourceX:Fe,sourceY:Ue,targetX:Oe,targetY:dt}=Hl(E,K,ae,P,j,he);return f.createElement(H,{key:h.id,id:h.id,className:(0,X.Z)([h.className,i]),type:M,data:h.data,selected:!!h.selected,animated:!!h.animated,hidden:!!h.hidden,label:h.label,labelStyle:h.labelStyle,labelShowBg:h.labelShowBg,labelBgStyle:h.labelBgStyle,labelBgPadding:h.labelBgPadding,labelBgBorderRadius:h.labelBgBorderRadius,style:h.style,source:h.source,target:h.target,sourceHandleId:h.sourceHandle,targetHandleId:h.targetHandle,markerEnd:h.markerEnd,markerStart:h.markerStart,sourceX:Fe,sourceY:Ue,targetX:Oe,targetY:dt,sourcePosition:ae,targetPosition:he,elementsSelectable:x,onEdgeUpdate:s,onContextMenu:a,onMouseEnter:c,onMouseMove:l,onMouseLeave:u,onClick:d,edgeUpdaterRadius:g,onEdgeDoubleClick:m,onEdgeUpdateStart:S,onEdgeUpdateEnd:y,rfId:r,ariaLabel:h.ariaLabel,isFocusable:me,isUpdatable:He,pathOptions:"pathOptions"in h?h.pathOptions:void 0,interactionWidth:h.interactionWidth,disableKeyboardA11y:p})})))),C):null};$s.displayName="EdgeRenderer";var Ql=(0,f.memo)($s);const Jl=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function jl({children:e}){const t=ve(Jl);return f.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function ql(e){const t=Pr(),n=(0,f.useRef)(!1);(0,f.useEffect)(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const eu={[Q.Left]:Q.Right,[Q.Right]:Q.Left,[Q.Top]:Q.Bottom,[Q.Bottom]:Q.Top},Rs=({nodeId:e,handleType:t,style:n,type:r=At.Bezier,CustomComponent:o,connectionStatus:i})=>{var $,k,O,R,B,D,L;const{fromNode:s,handleId:a,toX:c,toY:l,connectionMode:u}=ve((0,f.useCallback)(I=>({fromNode:I.nodeInternals.get(e),handleId:I.connectionHandleId,toX:(I.connectionPosition.x-I.transform[0])/I.transform[2],toY:(I.connectionPosition.y-I.transform[1])/I.transform[2],connectionMode:I.connectionMode}),[e]),be),d=($=s==null?void 0:s[Ae])==null?void 0:$.handleBounds;let g=d==null?void 0:d[t];if(u===Ot.Loose&&(g=g||(d==null?void 0:d[t==="source"?"target":"source"])),!s||!g)return null;const m=a?g.find(I=>I.id===a):g[0],S=m?m.x+m.width/2:((k=s.width)!=null?k:0)/2,y=m?m.y+m.height/2:(O=s.height)!=null?O:0,C=((B=(R=s.positionAbsolute)==null?void 0:R.x)!=null?B:0)+S,p=((L=(D=s.positionAbsolute)==null?void 0:D.y)!=null?L:0)+y,b=m==null?void 0:m.position,_=b?eu[b]:null;if(!b||!_)return null;if(o)return f.createElement(o,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:m,fromX:C,fromY:p,toX:c,toY:l,fromPosition:b,toPosition:_,connectionStatus:i});let x="";const T={sourceX:C,sourceY:p,sourcePosition:b,targetX:c,targetY:l,targetPosition:_};return r===At.Bezier?[x]=Lo(T):r===At.Step?[x]=wr(Te(U({},T),{borderRadius:0})):r===At.SmoothStep?[x]=wr(T):r===At.SimpleBezier?[x]=Do(T):x=`M${C},${p} ${c},${l}`,f.createElement("path",{d:x,fill:"none",className:"react-flow__connection-path",style:n})};Rs.displayName="ConnectionLine";const tu=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function nu({containerStyle:e,style:t,type:n,component:r}){const{nodeId:o,handleType:i,nodesConnectable:s,width:a,height:c,connectionStatus:l}=ve(tu,be);return!(o&&i&&a&&s)?null:f.createElement("svg",{style:e,width:a,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},f.createElement("g",{className:(0,X.Z)(["react-flow__connection",l])},f.createElement(Rs,{nodeId:o,handleType:i,style:t,type:n,CustomComponent:r,connectionStatus:l})))}function Ds(e,t){const n=(0,f.useRef)(null),r=ke();return(0,f.useMemo)(()=>t(e),[e])}const ks=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:o,onInit:i,onNodeClick:s,onEdgeClick:a,onNodeDoubleClick:c,onEdgeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:g,onNodeContextMenu:m,onSelectionContextMenu:S,onSelectionStart:y,onSelectionEnd:C,connectionLineType:p,connectionLineStyle:b,connectionLineComponent:_,connectionLineContainerStyle:x,selectionKeyCode:T,selectionOnDrag:$,selectionMode:k,multiSelectionKeyCode:O,panActivationKeyCode:R,zoomActivationKeyCode:B,deleteKeyCode:D,onlyRenderVisibleElements:L,elementsSelectable:I,selectNodesOnDrag:h,defaultViewport:E,translateExtent:v,minZoom:N,maxZoom:P,preventScrolling:w,defaultMarkerColor:z,zoomOnScroll:M,zoomOnPinch:H,panOnScroll:W,panOnScrollSpeed:K,panOnScrollMode:j,zoomOnDoubleClick:ae,panOnDrag:he,onPaneClick:me,onPaneMouseEnter:He,onPaneMouseMove:Fe,onPaneMouseLeave:Ue,onPaneScroll:Oe,onPaneContextMenu:dt,onEdgeUpdate:rt,onEdgeContextMenu:$e,onEdgeMouseEnter:yt,onEdgeMouseMove:Se,onEdgeMouseLeave:J,edgeUpdaterRadius:ot,onEdgeUpdateStart:Dt,onEdgeUpdateEnd:Nn,noDragClassName:tn,noWheelClassName:nn,noPanClassName:Ct,elevateEdgesOnSelect:rn,disableKeyboardA11y:kt,nodeOrigin:Ht,nodeExtent:on,rfId:sn})=>{const Mn=Ds(e,zl),Ke=Ds(t,kl);return ql(i),f.createElement(Al,{onPaneClick:me,onPaneMouseEnter:He,onPaneMouseMove:Fe,onPaneMouseLeave:Ue,onPaneContextMenu:dt,onPaneScroll:Oe,deleteKeyCode:D,selectionKeyCode:T,selectionOnDrag:$,selectionMode:k,onSelectionStart:y,onSelectionEnd:C,multiSelectionKeyCode:O,panActivationKeyCode:R,zoomActivationKeyCode:B,elementsSelectable:I,onMove:n,onMoveStart:r,onMoveEnd:o,zoomOnScroll:M,zoomOnPinch:H,zoomOnDoubleClick:ae,panOnScroll:W,panOnScrollSpeed:K,panOnScrollMode:j,panOnDrag:he,defaultViewport:E,translateExtent:v,minZoom:N,maxZoom:P,onSelectionContextMenu:S,preventScrolling:w,noDragClassName:tn,noWheelClassName:nn,noPanClassName:Ct,disableKeyboardA11y:kt},f.createElement(jl,null,f.createElement(Ql,{edgeTypes:Ke,onEdgeClick:a,onEdgeDoubleClick:l,onEdgeUpdate:rt,onlyRenderVisibleElements:L,onEdgeContextMenu:$e,onEdgeMouseEnter:yt,onEdgeMouseMove:Se,onEdgeMouseLeave:J,onEdgeUpdateStart:Dt,onEdgeUpdateEnd:Nn,edgeUpdaterRadius:ot,defaultMarkerColor:z,noPanClassName:Ct,elevateEdgesOnSelect:!!rn,disableKeyboardA11y:kt,rfId:sn},f.createElement(nu,{style:b,type:p,component:_,containerStyle:x})),f.createElement("div",{className:"react-flow__edgelabel-renderer"}),f.createElement(Ol,{nodeTypes:Mn,onNodeClick:s,onNodeDoubleClick:c,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:g,onNodeContextMenu:m,selectNodesOnDrag:h,onlyRenderVisibleElements:L,noPanClassName:Ct,noDragClassName:tn,disableKeyboardA11y:kt,nodeOrigin:Ht,nodeExtent:on,rfId:sn})))};ks.displayName="GraphView";var ru=(0,f.memo)(ks);const Hr=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],zt={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Hr,nodeExtent:Hr,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Ot.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Fn,isValidConnection:void 0},ou=()=>st((e,t)=>Te(U({},zt),{setNodes:n=>{const{nodeInternals:r,nodeOrigin:o,elevateNodesOnSelect:i}=t();e({nodeInternals:zr(n,r,o,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(o=>U(U({},r),o))})},setDefaultNodesAndEdges:(n,r)=>{const o=typeof n!="undefined",i=typeof r!="undefined",s=o?zr(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:i?r:[],hasDefaultNodes:o,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:o,fitViewOnInit:i,fitViewOnInitDone:s,fitViewOnInitOptions:a,domNode:c,nodeOrigin:l}=t(),u=c==null?void 0:c.querySelector(".react-flow__viewport");if(!u)return;const d=window.getComputedStyle(u),{m22:g}=new window.DOMMatrixReadOnly(d.transform),m=n.reduce((y,C)=>{const p=o.get(C.id);if(p!=null&&p.hidden)o.set(p.id,Te(U({},p),{[Ae]:Te(U({},p[Ae]),{handleBounds:void 0})}));else if(p){const b=gr(C.nodeElement);!!(b.width&&b.height&&(p.width!==b.width||p.height!==b.height||C.forceUpdate))&&(o.set(p.id,U(Te(U({},p),{[Ae]:Te(U({},p[Ae]),{handleBounds:{source:Es(".source",C.nodeElement,g,l),target:Es(".target",C.nodeElement,g,l)}})}),b)),y.push({id:p.id,type:"dimensions",dimensions:b}))}return y},[]);fs(o,l);const S=s||i&&!s&&ds(t,U({initial:!0},a));e({nodeInternals:new Map(o),fitViewOnInitDone:S}),(m==null?void 0:m.length)>0&&(r==null||r(m))},updateNodePositions:(n,r=!0,o=!1)=>{const{triggerNodeChanges:i}=t(),s=n.map(a=>{const c={id:a.id,type:"position",dragging:o};return r&&(c.positionAbsolute=a.positionAbsolute,c.position=a.position),c});i(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:o,hasDefaultNodes:i,nodeOrigin:s,getNodes:a,elevateNodesOnSelect:c}=t();if(n!=null&&n.length){if(i){const l=Or(n,a()),u=zr(l,o,s,c);e({nodeInternals:u})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let s,a=null;r?s=n.map(c=>Tt(c,!0)):(s=jt(i(),n),a=jt(o,[])),Jn({changedNodes:s,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let s,a=null;r?s=n.map(c=>Tt(c,!0)):(s=jt(o,n),a=jt(i(),[])),Jn({changedNodes:a,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:o,getNodes:i}=t(),s=n||i(),a=r||o,c=s.map(u=>(u.selected=!1,Tt(u.id,!1))),l=a.map(u=>Tt(u.id,!1));Jn({changedNodes:c,changedEdges:l,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:o}=t();r==null||r.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:o}=t();r==null||r.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),i=r().filter(a=>a.selected).map(a=>Tt(a.id,!1)),s=n.filter(a=>a.selected).map(a=>Tt(a.id,!1));Jn({changedNodes:i,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(o=>{o.positionAbsolute=mr(o.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:o,height:i,d3Zoom:s,d3Selection:a,translateExtent:c}=t();if(!s||!a||!n.x&&!n.y)return!1;const l=bt.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),u=[[0,0],[o,i]],d=s==null?void 0:s.constrain()(l,u,c);return s.transform(a,d),r[0]!==d.x||r[1]!==d.y||r[2]!==d.k},cancelConnection:()=>e({connectionNodeId:zt.connectionNodeId,connectionHandleId:zt.connectionHandleId,connectionHandleType:zt.connectionHandleType,connectionStatus:zt.connectionStatus,connectionStartHandle:zt.connectionStartHandle,connectionEndHandle:zt.connectionEndHandle}),reset:()=>e(U({},zt))}),Object.is),Br=({children:e})=>{const t=(0,f.useRef)(null);return t.current||(t.current=ou()),f.createElement(Tc,{value:t.current},e)};Br.displayName="ReactFlowProvider";const Hs=({children:e})=>(0,f.useContext)(Zn)?f.createElement(f.Fragment,null,e):f.createElement(Br,null,e);Hs.displayName="ReactFlowWrapper";const su={input:ts,default:Ar,output:rs,group:Tr},iu={default:Kn,straight:Sr,step:xr,smoothstep:Wn,simplebezier:vr},au=[0,0],cu=[15,15],lu={x:0,y:0,zoom:1},uu={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Bs=(0,f.forwardRef)((pf,Wu)=>{var Ys=pf,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i=su,edgeTypes:s=iu,onNodeClick:a,onEdgeClick:c,onInit:l,onMove:u,onMoveStart:d,onMoveEnd:g,onConnect:m,onConnectStart:S,onConnectEnd:y,onClickConnectStart:C,onClickConnectEnd:p,onNodeMouseEnter:b,onNodeMouseMove:_,onNodeMouseLeave:x,onNodeContextMenu:T,onNodeDoubleClick:$,onNodeDragStart:k,onNodeDrag:O,onNodeDragStop:R,onNodesDelete:B,onEdgesDelete:D,onSelectionChange:L,onSelectionDragStart:I,onSelectionDrag:h,onSelectionDragStop:E,onSelectionContextMenu:v,onSelectionStart:N,onSelectionEnd:P,connectionMode:w=Ot.Strict,connectionLineType:z=At.Bezier,connectionLineStyle:M,connectionLineComponent:H,connectionLineContainerStyle:W,deleteKeyCode:K="Backspace",selectionKeyCode:j="Shift",selectionOnDrag:ae=!1,selectionMode:he=Sn.Full,panActivationKeyCode:me="Space",multiSelectionKeyCode:He=Xn()?"Meta":"Control",zoomActivationKeyCode:Fe=Xn()?"Meta":"Control",snapToGrid:Ue=!1,snapGrid:Oe=cu,onlyRenderVisibleElements:dt=!1,selectNodesOnDrag:rt=!0,nodesDraggable:$e,nodesConnectable:yt,nodesFocusable:Se,nodeOrigin:J=au,edgesFocusable:ot,edgesUpdatable:Dt,elementsSelectable:Nn,defaultViewport:tn=lu,minZoom:nn=.5,maxZoom:Ct=2,translateExtent:rn=Hr,preventScrolling:kt=!0,nodeExtent:Ht,defaultMarkerColor:on="#b1b1b7",zoomOnScroll:sn=!0,zoomOnPinch:Mn=!0,panOnScroll:Ke=!1,panOnScrollSpeed:ht=.5,panOnScrollMode:Bt=$t.Free,zoomOnDoubleClick:Lt=!0,panOnDrag:Vt=!0,onPaneClick:_t,onPaneMouseEnter:vt,onPaneMouseMove:An,onPaneMouseLeave:Lr,onPaneScroll:Tn,onPaneContextMenu:Vr,children:Vs,onEdgeUpdate:Zt,onEdgeContextMenu:vu,onEdgeDoubleClick:wu,onEdgeMouseEnter:xu,onEdgeMouseMove:Su,onEdgeMouseLeave:Eu,onEdgeUpdateStart:bu,onEdgeUpdateEnd:Cu,edgeUpdaterRadius:_u=10,onNodesChange:Nu,onEdgesChange:Mu,noDragClassName:Au="nodrag",noWheelClassName:Tu="nowheel",noPanClassName:Zs="nopan",fitView:zu=!1,fitViewOptions:Pu,connectOnClick:Iu=!0,attributionPosition:Ou,proOptions:$u,defaultEdgeOptions:Ru,elevateNodesOnSelect:Du=!0,elevateEdgesOnSelect:ku=!1,disableKeyboardA11y:Fs=!1,autoPanOnConnect:Hu=!0,autoPanOnNodeDrag:Bu=!0,connectionRadius:Lu=20,isValidConnection:Vu,onError:Zu,style:Fu,id:Xs,nodeDragThreshold:Xu}=Ys,Yu=Ft(Ys,["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","onSelectionStart","onSelectionEnd","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","selectionOnDrag","selectionMode","panActivationKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","nodesFocusable","nodeOrigin","edgesFocusable","edgesUpdatable","elementsSelectable","defaultViewport","minZoom","maxZoom","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","onPaneScroll","onPaneContextMenu","children","onEdgeUpdate","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdateStart","onEdgeUpdateEnd","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","disableKeyboardA11y","autoPanOnConnect","autoPanOnNodeDrag","connectionRadius","isValidConnection","onError","style","id","nodeDragThreshold"]);const Zr=Xs||"1";return f.createElement("div",Te(U({},Yu),{style:U(U({},Fu),uu),ref:Wu,className:(0,X.Z)(["react-flow",o]),"data-testid":"rf__wrapper",id:Xs}),f.createElement(Hs,null,f.createElement(ru,{onInit:l,onMove:u,onMoveStart:d,onMoveEnd:g,onNodeClick:a,onEdgeClick:c,onNodeMouseEnter:b,onNodeMouseMove:_,onNodeMouseLeave:x,onNodeContextMenu:T,onNodeDoubleClick:$,nodeTypes:i,edgeTypes:s,connectionLineType:z,connectionLineStyle:M,connectionLineComponent:H,connectionLineContainerStyle:W,selectionKeyCode:j,selectionOnDrag:ae,selectionMode:he,deleteKeyCode:K,multiSelectionKeyCode:He,panActivationKeyCode:me,zoomActivationKeyCode:Fe,onlyRenderVisibleElements:dt,selectNodesOnDrag:rt,defaultViewport:tn,translateExtent:rn,minZoom:nn,maxZoom:Ct,preventScrolling:kt,zoomOnScroll:sn,zoomOnPinch:Mn,zoomOnDoubleClick:Lt,panOnScroll:Ke,panOnScrollSpeed:ht,panOnScrollMode:Bt,panOnDrag:Vt,onPaneClick:_t,onPaneMouseEnter:vt,onPaneMouseMove:An,onPaneMouseLeave:Lr,onPaneScroll:Tn,onPaneContextMenu:Vr,onSelectionContextMenu:v,onSelectionStart:N,onSelectionEnd:P,onEdgeUpdate:Zt,onEdgeContextMenu:vu,onEdgeDoubleClick:wu,onEdgeMouseEnter:xu,onEdgeMouseMove:Su,onEdgeMouseLeave:Eu,onEdgeUpdateStart:bu,onEdgeUpdateEnd:Cu,edgeUpdaterRadius:_u,defaultMarkerColor:on,noDragClassName:Au,noWheelClassName:Tu,noPanClassName:Zs,elevateEdgesOnSelect:ku,rfId:Zr,disableKeyboardA11y:Fs,nodeOrigin:J,nodeExtent:Ht}),f.createElement(tl,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:S,onConnectEnd:y,onClickConnectStart:C,onClickConnectEnd:p,nodesDraggable:$e,nodesConnectable:yt,nodesFocusable:Se,edgesFocusable:ot,edgesUpdatable:Dt,elementsSelectable:Nn,elevateNodesOnSelect:Du,minZoom:nn,maxZoom:Ct,nodeExtent:Ht,onNodesChange:Nu,onEdgesChange:Mu,snapToGrid:Ue,snapGrid:Oe,connectionMode:w,translateExtent:rn,connectOnClick:Iu,defaultEdgeOptions:Ru,fitView:zu,fitViewOptions:Pu,onNodesDelete:B,onEdgesDelete:D,onNodeDragStart:k,onNodeDrag:O,onNodeDragStop:R,onSelectionDrag:h,onSelectionDragStart:I,onSelectionDragStop:E,noPanClassName:Zs,nodeOrigin:J,rfId:Zr,autoPanOnConnect:Hu,autoPanOnNodeDrag:Bu,onError:Zu,connectionRadius:Lu,isValidConnection:Vu,nodeDragThreshold:Xu}),f.createElement(qc,{onSelectionChange:L}),Vs,f.createElement(Pc,{proOptions:$u,position:Ou}),f.createElement(il,{rfId:Zr,disableKeyboardA11y:Fs})))});Bs.displayName="ReactFlow";const fu=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function af({children:e}){const t=ve(fu);return t?createPortal(e,t):null}function cf(){const e=ke();return useCallback(t=>{const{domNode:n,updateNodeDimensions:r}=e.getState(),i=(Array.isArray(t)?t:[t]).reduce((s,a)=>{const c=n==null?void 0:n.querySelector(`.react-flow__node[data-id="${a}"]`);return c&&s.push({id:a,nodeElement:c,forceUpdate:!0}),s},[]);requestAnimationFrame(()=>r(i))},[])}const du=e=>e.getNodes();function lf(){return ve(du,shallow)}const hu=e=>e.edges;function uf(){return ve(hu,shallow)}const gu=e=>({x:e.transform[0],y:e.transform[1],zoom:e.transform[2]});function ff(){return ve(gu,shallow)}function Ls(e){return t=>{const[n,r]=(0,f.useState)(t),o=(0,f.useCallback)(i=>r(s=>e(i,s)),[]);return[n,r,o]}}const df=Ls(Or),hf=Ls(ys);function gf({onStart:e,onChange:t,onEnd:n}){const r=ke();useEffect(()=>{r.setState({onViewportChangeStart:e})},[e]),useEffect(()=>{r.setState({onViewportChange:t})},[t]),useEffect(()=>{r.setState({onViewportChangeEnd:n})},[n])}function mu({onChange:e}){const t=ke();(0,f.useEffect)(()=>{const n=[...t.getState().onSelectionChange,e];return t.setState({onSelectionChange:n}),()=>{const r=t.getState().onSelectionChange.filter(o=>o!==e);t.setState({onSelectionChange:r})}},[e])}const pu=e=>t=>t.nodeInternals.size===0?!1:t.getNodes().filter(n=>e.includeHiddenNodes?!0:!n.hidden).every(n=>{var r;return((r=n[Ae])==null?void 0:r.handleBounds)!==void 0}),yu={includeHiddenNodes:!1};function mf(e=yu){return ve(pu(e))}},83840:function(de,q,A){A.d(q,{Z:function(){return f}});function f(X){if(typeof X=="string"||typeof X=="number")return""+X;let ue="";if(Array.isArray(X))for(let ce=0,ge;ce<X.length;ce++)(ge=f(X[ce]))!==""&&(ue+=(ue&&" ")+ge);else for(let ce in X)X[ce]&&(ue+=(ue&&" ")+ce);return ue}}}]);
}());
//# sourceMappingURL=955.7ce9d150.async.js.map