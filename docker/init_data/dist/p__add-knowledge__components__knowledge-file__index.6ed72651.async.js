(self.webpackChunk=self.webpackChunk||[]).push([[1505],{70676:function(Te,ce,t){"use strict";t.r(ce),t.d(ce,{default:function(){return ua}});var S=t(97857),de=t.n(S),te=t(82897),w=t(46693),j=t(49468),b=t(38725),A=t(79495),z=t(65400),X=t(22850),L=t(86250),k=t(72269),pe=t(96074),Ae=t(62337),je=t(67421),ze=t(15009),O=t.n(ze),Re=t(99289),Q=t.n(Re),ye=t(5574),ue=t.n(ye),q=t(99859),Ie=t(85576),Ce=t(79531),c=t(62435),a=t(86074),Ze=function(n){var e=n.visible,o=n.hideModal,d=n.onOk,g=q.Z.useForm(),s=ue()(g,1),m=s[0],y=function(){var p=Q()(O()().mark(function h(){var u;return O()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,m.validateFields();case 2:u=M.sent,d(u.name);case 4:case"end":return M.stop()}},h)}));return function(){return p.apply(this,arguments)}}();return(0,a.jsx)(Ie.Z,{title:"File Name",open:e,onOk:y,onCancel:o,children:(0,a.jsx)(q.Z,{form:m,name:"validateOnly",labelCol:{span:4},wrapperCol:{span:20},style:{maxWidth:600},autoComplete:"off",children:(0,a.jsx)(q.Z.Item,{label:"File Name",name:"name",rules:[{required:!0,message:"Please input name!"}],children:(0,a.jsx)(Ce.Z,{})})})})},xe=Ze,Ge=Object.defineProperty,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,i=(r,n,e)=>n in r?Ge(r,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[n]=e,I=(r,n)=>{for(var e in n||(n={}))v.call(n,e)&&i(r,e,n[e]);if(l)for(var e of l(n))f.call(n,e)&&i(r,e,n[e]);return r};const P=r=>c.createElement("svg",I({width:22,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),c.createElement("path",{d:"M.5 11C.5 5.201 5.201.5 11 .5S21.5 5.201 21.5 11 16.799 21.5 11 21.5.5 16.799.5 11Z",fill:"#FEF3F2"}),c.createElement("path",{d:"M.5 11C.5 5.201 5.201.5 11 .5S21.5 5.201 21.5 11 16.799 21.5 11 21.5.5 16.799.5 11Z",stroke:"#FECDCA"}),c.createElement("path",{d:"m14 8-6 6m0-6 6 6",stroke:"#F04438",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}));var B="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTS41IDExQy41IDUuMjAxIDUuMjAxLjUgMTEgLjVTMjEuNSA1LjIwMSAyMS41IDExIDE2Ljc5OSAyMS41IDExIDIxLjUuNSAxNi43OTkuNSAxMVoiIGZpbGw9IiNGRUYzRjIiLz48cGF0aCBkPSJNLjUgMTFDLjUgNS4yMDEgNS4yMDEuNSAxMSAuNVMyMS41IDUuMjAxIDIxLjUgMTEgMTYuNzk5IDIxLjUgMTEgMjEuNS41IDE2Ljc5OS41IDExWiIgc3Ryb2tlPSIjRkVDRENBIi8+PHBhdGggZD0ibTE0IDgtNiA2bTAtNiA2IDYiIHN0cm9rZT0iI0YwNDQzOCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjwvc3ZnPg==",Z=t(84471),G=Object.defineProperty,_=Object.getOwnPropertySymbols,re=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,H=(r,n,e)=>n in r?G(r,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[n]=e,V=(r,n)=>{for(var e in n||(n={}))re.call(n,e)&&H(r,e,n[e]);if(_)for(var e of _(n))ee.call(n,e)&&H(r,e,n[e]);return r};const oe=r=>c.createElement("svg",V({className:"disable_svg__icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:22,height:22},r),c.createElement("path",{d:"M222.635 272.299A382.4 382.4 0 0 0 138.667 512c0 212.117 171.904 384 384 384 90.666 0 174.016-31.424 239.701-83.968L222.635 272.299zm60.33-60.331L822.7 751.701A382.4 382.4 0 0 0 906.667 512c0-212.117-171.904-384-384-384-90.667 0-174.016 31.424-239.702 83.968zM53.333 512c0-259.221 210.091-469.333 469.334-469.333C781.888 42.667 992 252.757 992 512c0 259.221-210.09 469.333-469.333 469.333-259.222 0-469.334-210.09-469.334-469.333z",fill:"#F04438"}));var le="data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjIiIGhlaWdodD0iMjIiPjxwYXRoIGQ9Ik0yMjIuNjM1IDI3Mi4yOTlBMzgyLjQgMzgyLjQgMCAwIDAgMTM4LjY2NyA1MTJjMCAyMTIuMTE3IDE3MS45MDQgMzg0IDM4NCAzODQgOTAuNjY2IDAgMTc0LjAxNi0zMS40MjQgMjM5LjcwMS04My45NjhMMjIyLjYzNSAyNzIuMjk5em02MC4zMy02MC4zMzFMODIyLjcgNzUxLjcwMUEzODIuNCAzODIuNCAwIDAgMCA5MDYuNjY3IDUxMmMwLTIxMi4xMTctMTcxLjkwNC0zODQtMzg0LTM4NC05MC42NjcgMC0xNzQuMDE2IDMxLjQyNC0yMzkuNzAyIDgzLjk2OHpNNTMuMzMzIDUxMmMwLTI1OS4yMjEgMjEwLjA5MS00NjkuMzMzIDQ2OS4zMzQtNDY5LjMzM0M3ODEuODg4IDQyLjY2NyA5OTIgMjUyLjc1NyA5OTIgNTEyYzAgMjU5LjIyMS0yMTAuMDkgNDY5LjMzMy00NjkuMzMzIDQ2OS4zMzMtMjU5LjIyMiAwLTQ2OS4zMzQtMjEwLjA5LTQ2OS4zMzQtNDY5LjMzM3oiIGZpbGw9IiNGMDQ0MzgiLz48L3N2Zz4=",Ue=Object.defineProperty,De=Object.getOwnPropertySymbols,Fe=Object.prototype.hasOwnProperty,ln=Object.prototype.propertyIsEnumerable,Ye=(r,n,e)=>n in r?Ue(r,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[n]=e,sn=(r,n)=>{for(var e in n||(n={}))Fe.call(n,e)&&Ye(r,e,n[e]);if(De)for(var e of De(n))ln.call(n,e)&&Ye(r,e,n[e]);return r};const cn=r=>c.createElement("svg",sn({className:"enable_svg__icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:22,height:22},r),c.createElement("path",{d:"M512 0a512 512 0 1 0 0 1024A512 512 0 0 0 512 0zm0 990.2a438.2 438.2 0 1 1 0-956.4 438.2 438.2 0 0 1 0 956.4z",fill:"#abefc6"}),c.createElement("path",{d:"M448.1 584.3 322.4 458.6l-78.9 78.9L449.1 743h.1l.5.5 325.9-325.9-80.4-80.4z",fill:"#17b26a"}));var ya="data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjIiIGhlaWdodD0iMjIiPjxwYXRoIGQ9Ik01MTIgMGE1MTIgNTEyIDAgMSAwIDAgMTAyNEE1MTIgNTEyIDAgMCAwIDUxMiAwem0wIDk5MC4yYTQzOC4yIDQzOC4yIDAgMSAxIDAtOTU2LjQgNDM4LjIgNDM4LjIgMCAwIDEgMCA5NTYuNHoiIGZpbGw9IiNhYmVmYzYiLz48cGF0aCBkPSJNNDQ4LjEgNTg0LjMgMzIyLjQgNDU4LjZsLTc4LjkgNzguOUw0NDkuMSA3NDNoLjFsLjUuNSAzMjUuOS0zMjUuOS04MC40LTgwLjR6IiBmaWxsPSIjMTdiMjZhIi8+PC9zdmc+",dn=Object.defineProperty,Je=Object.getOwnPropertySymbols,un=Object.prototype.hasOwnProperty,mn=Object.prototype.propertyIsEnumerable,Ke=(r,n,e)=>n in r?dn(r,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[n]=e,gn=(r,n)=>{for(var e in n||(n={}))un.call(n,e)&&Ke(r,e,n[e]);if(Je)for(var e of Je(n))mn.call(n,e)&&Ke(r,e,n[e]);return r};const Xe=r=>c.createElement("svg",gn({width:22,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),c.createElement("path",{d:"M11 21.5C5.201 21.5.5 16.799.5 11S5.201.5 11 .5 21.5 5.201 21.5 11 16.799 21.5 11 21.5Z",fill:"#ECFDF3"}),c.createElement("path",{d:"M11 21.5C5.201 21.5.5 16.799.5 11S5.201.5 11 .5 21.5 5.201 21.5 11 16.799 21.5 11 21.5Z",stroke:"#ABEFC6"}),c.createElement("path",{d:"M7.5 7.495c0-.486 0-.729.101-.862a.5.5 0 0 1 .37-.198c.167-.01.369.125.773.394l5.258 3.505c.333.223.5.334.558.475a.5.5 0 0 1 0 .383c-.058.14-.225.251-.559.474L8.745 15.17c-.404.27-.606.404-.774.394a.5.5 0 0 1-.369-.198c-.101-.133-.101-.376-.101-.862v-7.01Z",stroke:"#17B26A",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}));var Ia="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTExIDIxLjVDNS4yMDEgMjEuNS41IDE2Ljc5OS41IDExUzUuMjAxLjUgMTEgLjUgMjEuNSA1LjIwMSAyMS41IDExIDE2Ljc5OSAyMS41IDExIDIxLjVaIiBmaWxsPSIjRUNGREYzIi8+PHBhdGggZD0iTTExIDIxLjVDNS4yMDEgMjEuNS41IDE2Ljc5OS41IDExUzUuMjAxLjUgMTEgLjUgMjEuNSA1LjIwMSAyMS41IDExIDE2Ljc5OSAyMS41IDExIDIxLjVaIiBzdHJva2U9IiNBQkVGQzYiLz48cGF0aCBkPSJNNy41IDcuNDk1YzAtLjQ4NiAwLS43MjkuMTAxLS44NjJhLjUuNSAwIDAgMSAuMzctLjE5OGMuMTY3LS4wMS4zNjkuMTI1Ljc3My4zOTRsNS4yNTggMy41MDVjLjMzMy4yMjMuNS4zMzQuNTU4LjQ3NWEuNS41IDAgMCAxIDAgLjM4M2MtLjA1OC4xNC0uMjI1LjI1MS0uNTU5LjQ3NEw4Ljc0NSAxNS4xN2MtLjQwNC4yNy0uNjA2LjQwNC0uNzc0LjM5NGEuNS41IDAgMCAxLS4zNjktLjE5OGMtLjEwMS0uMTMzLS4xMDEtLjM3Ni0uMTAxLS44NjJ2LTcuMDFaIiBzdHJva2U9IiMxN0IyNkEiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48L3N2Zz4=",U=t(2039),Se=t(65534),vn=t(15360),pn=t(26911),hn=t(80882),Mn=t(68795),fn=t(24969),Y=t(15867),he=t(42075),Be=t(85418),Ne=t(25194),Me=t(6589),jn=t(9783),F=t.n(jn),R=t(96330),yn=F()(F()(F()(F()(F()({},R.cG.UNSTART,{label:"UNSTART",color:"cyan"}),R.cG.RUNNING,{label:"Parsing",color:"blue"}),R.cG.CANCEL,{label:"CANCEL",color:"orange"}),R.cG.DONE,{label:"SUCCESS",color:"geekblue"}),R.cG.FAIL,{label:"FAIL",color:"red"}),qe=function(){var n=(0,Se.pE)(),e=n.knowledgeId,o=(0,j.B3)(),d=(0,Me.useDispatch)();return(0,A.fS)(),(0,c.useEffect)(function(){return e&&(o(),d({type:"kFModel/pollGetDocumentList-start",payload:e})),function(){d({type:"kFModel/pollGetDocumentList-stop"})}},[e,d,o]),{fetchDocumentList:o}},_e=function(n){var e=(0,Me.useDispatch)(),o=(0,Me.useSelector)(function(p){return p.kFModel}),d=(0,U.qM)("common"),g=d.t,s=(0,c.useCallback)(function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,h=arguments.length>1?arguments[1]:void 0,u={current:p};h&&(u.pageSize=h),e({type:"kFModel/setPagination",payload:u})},[e]),m=(0,c.useCallback)(function(p,h){s(p,h),n()},[n,s]),y=(0,c.useMemo)(function(){return{showQuickJumper:!0,total:o.total,showSizeChanger:!0,current:o.pagination.current,pageSize:o.pagination.pageSize,pageSizeOptions:[1,2,10,20,50,100],onChange:m,showTotal:function(h){return"".concat(g("total")," ").concat(h)}}},[o,m,g]);return{pagination:y,setPagination:s,total:o.total,searchString:o.searchString}},Ca=function(){return useOneNamespaceEffectsLoading("kFModel",["getKfList","updateDocumentStatus"])},In=function(){var n=(0,Me.useNavigate)(),e=(0,Se.pE)(),o=e.knowledgeId,d=(0,c.useCallback)(function(){n("/knowledge/dataset/upload?id=".concat(o))},[n,o]),g=(0,c.useCallback)(function(s){n("/knowledge/".concat(R.Rx.Dataset,"/chunk?id=").concat(o,"&doc_id=").concat(s))},[n,o]);return{linkToUploadPage:d,toChunk:g}},Cn=function(n){var e=(0,Me.useDispatch)(),o=(0,Se.pE)(),d=o.knowledgeId,g=(0,c.useCallback)(function(){e({type:"kFModel/throttledGetDocumentList",payload:d})},[e,d]),s=(0,c.useCallback)(function(m){var y=m.target.value;e({type:"kFModel/setSearchString",payload:y}),n(),g()},[n,g,e]);return{handleInputChange:s}},xn=function(n){var e=(0,j.Zd)(),o=(0,U.pG)(),d=o.visible,g=o.hideModal,s=o.showModal,m=(0,Ne.q)("kFModel",["document_rename"]),y=(0,c.useCallback)(function(){var p=Q()(O()().mark(function h(u){var C;return O()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,e(n,u);case 2:C=N.sent,C===0&&g();case 4:case"end":return N.stop()}},h)}));return function(h){return p.apply(this,arguments)}}(),[g,e,n]);return{renameLoading:m,onRenameOk:y,renameVisible:d,hideRenameModal:g,showRenameModal:s}},Dn=function(){var n=(0,j.W2)(),e=(0,U.pG)(),o=e.visible,d=e.hideModal,g=e.showModal,s=(0,Ne.q)("kFModel",["document_create"]),m=(0,c.useCallback)(function(){var y=Q()(O()().mark(function p(h){var u;return O()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,n(h);case 2:u=M.sent,u===0&&d();case 4:case"end":return M.stop()}},p)}));return function(p){return y.apply(this,arguments)}}(),[d,n]);return{createLoading:s,onCreateOk:m,createVisible:o,hideCreateModal:d,showCreateModal:g}},Sn=function(n){var e=(0,j.xp)(),o=(0,U.pG)(),d=o.visible,g=o.hideModal,s=o.showModal,m=(0,Ne.q)("kFModel",["document_change_parser"]),y=(0,c.useCallback)(function(){var p=Q()(O()().mark(function h(u,C){var M;return O()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,e(u,n,C);case 2:M=x.sent,M===0&&g();case 4:case"end":return x.stop()}},h)}));return function(h,u){return p.apply(this,arguments)}}(),[g,e,n]);return{changeParserLoading:m,onChangeParserOk:y,changeParserVisible:d,hideChangeParserModal:g,showChangeParserModal:s}},Nn=function(){var n=(0,c.useState)([]),e=ue()(n,2),o=e[0],d=e[1],g={selectedRowKeys:o,onChange:function(m){d(m)}};return g},wn=function(){var n=(0,U.pG)(),e=n.visible,o=n.hideModal,d=n.showModal,g=(0,j.TO)(),s=(0,c.useCallback)(function(){var y=Q()(O()().mark(function p(h){var u,C,M;return O()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(!(h.length>0)){x.next=8;break}return x.next=3,g(h);case 3:return u=x.sent,C=(0,z.YC)(u.retmsg),M=u.retcode,(u.retcode===0||u.retcode===500&&C!==h.length)&&(M=0,o()),x.abrupt("return",M);case 8:case"end":return x.stop()}},p)}));return function(p){return y.apply(this,arguments)}}(),[g,o]),m=(0,Ne.q)("kFModel",["upload_document"]);return{documentUploadLoading:m,onDocumentUploadOk:s,documentUploadVisible:e,hideDocumentUploadModal:o,showDocumentUploadModal:d}},Ln=function(n){var e=(0,j.p6)(),o=(0,j.cG)(),d=(0,c.useState)(""),g=ue()(d,2),s=g[0],m=g[1],y=e&&s!==""&&s===n,p=function(){var h=Q()(O()().mark(function u(C,M,N){return O()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!y){D.next=2;break}return D.abrupt("return");case 2:return m(C),D.prev=3,D.next=6,o({doc_ids:[C],run:N?2:1,knowledgeBaseId:M});case 6:m(""),D.next=12;break;case 9:D.prev=9,D.t0=D.catch(3),m("");case 12:case"end":return D.stop()}},u,null,[[3,9]])}));return function(C,M,N){return h.apply(this,arguments)}}();return{handleRunDocumentByIds:p,loading:y}},ne={datasetWrapper:"datasetWrapper___q27L3",filter:"filter___ETTRo",deleteIconWrapper:"deleteIconWrapper___DKg5C",img:"img___JlbZB",column:"column___fvjI4",toChunks:"toChunks___LX_Ow",pageInputNumber:"pageInputNumber___hsRez",questionIcon:"questionIcon___JX1Gh",nameText:"nameText___Fvf8C"},Pn=function(n){var e=n.selectedRowKeys,o=n.showCreateModal,d=n.showDocumentUploadModal,g=(0,U.qM)("knowledgeDetails"),s=g.t,m=qe(),y=m.fetchDocumentList,p=_e(y),h=p.setPagination,u=p.searchString,C=Cn(h),M=C.handleInputChange,N=(0,j.B4)(),x=(0,U.I3)(),D=(0,j.cG)(),ae=(0,Se.pE)(),W=ae.knowledgeId,E=(0,j.PE)(),$e=(0,c.useMemo)(function(){return[{key:"1",onClick:d,label:(0,a.jsx)("div",{children:(0,a.jsx)(Y.ZP,{type:"link",children:(0,a.jsxs)(he.Z,{children:[(0,a.jsx)(vn.Z,{}),s("localFiles")]})})})},{type:"divider"},{key:"2",onClick:o,label:(0,a.jsx)("div",{children:(0,a.jsxs)(Y.ZP,{type:"link",children:[(0,a.jsx)(pn.Z,{}),s("emptyFiles")]})})}]},[d,o,s]),Le=(0,c.useCallback)(function(){x({onOk:function(){N(e)}})},[N,x,e]),ge=(0,c.useCallback)(function(ve){D({doc_ids:e,run:ve,knowledgeBaseId:W})},[D,e,W]),Pe=(0,c.useCallback)(function(){ge(1)},[ge]),Oe=(0,c.useCallback)(function(){ge(2)},[ge]),$=(0,c.useCallback)(function(ve){e.forEach(function(ie){E(ve,ie)})},[e,E]),be=(0,c.useCallback)(function(){$(!0)},[$]),Ee=(0,c.useCallback)(function(){$(!1)},[$]),Qe=e.length===0,Ve=(0,c.useMemo)(function(){return[{key:"0",onClick:be,label:(0,a.jsxs)(L.Z,{gap:10,children:[(0,a.jsx)(cn,{}),(0,a.jsx)("b",{children:s("enabled")})]})},{key:"1",onClick:Ee,label:(0,a.jsxs)(L.Z,{gap:10,children:[(0,a.jsx)(oe,{}),(0,a.jsx)("b",{children:s("disabled")})]})},{type:"divider"},{key:"2",onClick:Pe,label:(0,a.jsxs)(L.Z,{gap:10,children:[(0,a.jsx)(Xe,{}),(0,a.jsx)("b",{children:s("run")})]})},{key:"3",onClick:Oe,label:(0,a.jsxs)(L.Z,{gap:10,children:[(0,a.jsx)(P,{}),(0,a.jsx)("b",{children:s("cancel")})]})},{type:"divider"},{key:"4",onClick:Le,label:(0,a.jsxs)(L.Z,{gap:10,children:[(0,a.jsx)("span",{className:ne.deleteIconWrapper,children:(0,a.jsx)(Z.r,{width:18})}),(0,a.jsx)("b",{children:s("delete",{keyPrefix:"common"})})]})}]},[Le,Pe,Oe,s,Ee,be]);return(0,a.jsxs)("div",{className:ne.filter,children:[(0,a.jsx)(Be.Z,{menu:{items:Ve},placement:"bottom",arrow:!1,disabled:Qe,children:(0,a.jsx)(Y.ZP,{children:(0,a.jsxs)(he.Z,{children:[(0,a.jsxs)("b",{children:[" ",s("bulk")]}),(0,a.jsx)(hn.Z,{})]})})}),(0,a.jsxs)(he.Z,{children:[(0,a.jsx)(Ce.Z,{placeholder:s("searchFiles"),value:u,style:{width:220},allowClear:!0,onChange:M,prefix:(0,a.jsx)(Mn.Z,{})}),(0,a.jsx)(Be.Z,{menu:{items:$e},trigger:["click"],children:(0,a.jsx)(Y.ZP,{type:"primary",icon:(0,a.jsx)(fn.Z,{}),children:s("addFile")})})]})]})},On=Pn,bn=t(60806),En=t(40011),kn=t(87462),Tn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M876.6 239.5c-.5-.9-1.2-1.8-2-2.5-5-5-13.1-5-18.1 0L684.2 409.3l-67.9-67.9L788.7 169c.8-.8 1.4-1.6 2-2.5 3.6-6.1 1.6-13.9-4.5-17.5-98.2-58-226.8-44.7-311.3 39.7-67 67-89.2 162-66.5 247.4l-293 293c-3 3-2.8 7.9.3 11l169.7 169.7c3.1 3.1 8.1 3.3 11 .3l292.9-292.9c85.5 22.8 180.5.7 247.6-66.4 84.4-84.5 97.7-213.1 39.7-311.3zM786 499.8c-58.1 58.1-145.3 69.3-214.6 33.6l-8.8 8.8-.1-.1-274 274.1-79.2-79.2 230.1-230.1s0 .1.1.1l52.8-52.8c-35.7-69.3-24.5-156.5 33.6-214.6a184.2 184.2 0 01144-53.5L537 318.9a32.05 32.05 0 000 45.3l124.5 124.5a32.05 32.05 0 0045.3 0l132.8-132.8c3.7 51.8-14.4 104.8-53.6 143.9z"}}]},name:"tool",theme:"outlined"},An=Tn,zn=t(84089),Rn=function(n,e){return c.createElement(zn.Z,(0,kn.Z)({},n,{ref:e,icon:An}))},Zn=c.forwardRef(Rn),Gn=t(86548),Un=t(48689),Fn=t(23430),He=t(83062),en=function(n){var e=n===R.cG.RUNNING;return e},we={iconButton:"iconButton___btHnB"},Bn=function(n){var e=n.record,o=n.setCurrentRecord,d=n.showRenameModal,g=n.showChangeParserModal,s=e.id,m=en(e.run),y=(0,U.qM)("knowledgeDetails"),p=y.t,h=(0,j.B4)(),u=(0,U.I3)(),C=function(){m||u({onOk:function(){return h([s])}})},M=function(){(0,En.Sv)({url:"".concat(bn.N,"/document/get/").concat(s),filename:e.name})},N=function(){o(e)},x=function(){N(),d()},D=function(){N(),g()},ae=[{key:"1",label:(0,a.jsx)("div",{children:(0,a.jsx)(Y.ZP,{type:"link",onClick:D,children:p("chunkMethod")})})}];return(0,a.jsxs)(he.Z,{size:0,children:[(0,a.jsx)(Be.Z,{menu:{items:ae},trigger:["click"],disabled:m,children:(0,a.jsx)(Y.ZP,{type:"text",className:we.iconButton,children:(0,a.jsx)(Zn,{size:20})})}),(0,a.jsx)(He.Z,{title:p("rename",{keyPrefix:"common"}),children:(0,a.jsx)(Y.ZP,{type:"text",disabled:m,onClick:x,className:we.iconButton,children:(0,a.jsx)(Gn.Z,{size:20})})}),(0,a.jsx)(He.Z,{title:p("delete",{keyPrefix:"common"}),children:(0,a.jsx)(Y.ZP,{type:"text",disabled:m,onClick:C,className:we.iconButton,children:(0,a.jsx)(Un.Z,{size:20})})}),(0,a.jsx)(He.Z,{title:p("download",{keyPrefix:"common"}),children:(0,a.jsx)(Y.ZP,{type:"text",disabled:m,onClick:M,className:we.iconButton,children:(0,a.jsx)(Fn.Z,{size:20})})})]})},Hn=Bn,Wn=Object.defineProperty,nn=Object.getOwnPropertySymbols,$n=Object.prototype.hasOwnProperty,Qn=Object.prototype.propertyIsEnumerable,an=(r,n,e)=>n in r?Wn(r,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[n]=e,Vn=(r,n)=>{for(var e in n||(n={}))$n.call(n,e)&&an(r,e,n[e]);if(nn)for(var e of nn(n))Qn.call(n,e)&&an(r,e,n[e]);return r};const We=r=>c.createElement("svg",Vn({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),c.createElement("path",{d:"M14.167 4.271A7.083 7.083 0 0 1 10 17.083h-.417m-3.75-1.354A7.083 7.083 0 0 1 10 2.917h.417m.416 15.75L9.167 17l1.666-1.667M9.167 4.667 10.833 3 9.167 1.333",stroke:"#17B26A",strokeWidth:1.667,strokeLinecap:"round",strokeLinejoin:"round"}));var xa="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjE2NyA0LjI3MUE3LjA4MyA3LjA4MyAwIDAgMSAxMCAxNy4wODNoLS40MTdtLTMuNzUtMS4zNTRBNy4wODMgNy4wODMgMCAwIDEgMTAgMi45MTdoLjQxN20uNDE2IDE1Ljc1TDkuMTY3IDE3bDEuNjY2LTEuNjY3TTkuMTY3IDQuNjY3IDEwLjgzMyAzIDkuMTY3IDEuMzMzIiBzdHJva2U9IiMxN0IyNkEiIHN0cm9rZS13aWR0aD0iMS42NjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjwvc3ZnPg==",Yn=t(74627),Jn=t(66309),Kn=t(40411),Xn=t(93967),qn=t.n(Xn),_n=t(59632),ea=t.n(_n),me={popoverContent:"popoverContent___Y8ZAO",popoverContentItem:"popoverContentItem___Q3slq",popoverContentText:"popoverContentText___nUr7b",popoverContentErrorLabel:"popoverContentErrorLabel___vthqR",operationIcon:"operationIcon___PnxaJ",operationIconSpin:"operationIconSpin___Pf25W",spin:"spin___POEkq"},na=F()(F()(F()(F()(F()({},R.cG.UNSTART,Xe),R.cG.RUNNING,P),R.cG.CANCEL,We),R.cG.DONE,We),R.cG.FAIL,We),aa=function(n){var e=n.record,o=(0,U.qM)("knowledgeDetails"),d=o.t,g=function(y){var p=y.replace(/(\n)\1+/g,"$1"),h=ea()(p,/(\[ERROR\].+\s)/g,function(u,C){return(0,a.jsx)("span",{className:me.popoverContentErrorLabel,children:u},C)});return h},s=[{key:"process_begin_at",label:d("processBeginAt"),children:e.process_begin_at},{key:"process_duation",label:d("processDuration"),children:"".concat(e.process_duation.toFixed(2)," s")},{key:"progress_msg",label:d("progressMsg"),children:g(e.progress_msg.trim())}];return(0,a.jsx)(L.Z,{vertical:!0,className:me.popoverContent,children:s.map(function(m,y){return(0,a.jsxs)("div",{className:y<2?me.popoverContentItem:"",children:[(0,a.jsxs)("b",{children:[m.label,":"]}),(0,a.jsx)("div",{className:me.popoverContentText,children:m.children})]},m.key)})})},ta=function(n){var e=n.record,o=e.run,d=yn[o],g=(0,je.$G)(),s=g.t,m=Ln(e.id),y=m.handleRunDocumentByIds,p=m.loading,h=en(o),u=na[o],C=s("knowledgeDetails.runningStatus".concat(o)),M=function(){y(e.id,e.kb_id,h)};return(0,a.jsxs)(L.Z,{justify:"space-between",align:"center",children:[(0,a.jsx)(Yn.Z,{content:(0,a.jsx)(aa,{record:e}),children:(0,a.jsx)(Jn.Z,{color:d.color,children:h?(0,a.jsxs)(he.Z,{children:[(0,a.jsx)(Kn.Z,{color:d.color}),C,(0,a.jsxs)("span",{children:[(e.progress*100).toFixed(2),"%"]})]}):C})}),(0,a.jsx)("div",{onClick:M,className:qn()(me.operationIcon,F()({},me.operationIconSpin,p)),children:(0,a.jsx)(u,{})})]})},ra=ta,oa=function(n){var e=n.visible,o=n.onOk,d=n.loading,g=n.initialName,s=n.hideModal,m=q.Z.useForm(),y=ue()(m,1),p=y[0],h=(0,U.qM)("common"),u=h.t,C=function(){var x=Q()(O()().mark(function D(){var ae;return O()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,p.validateFields();case 2:ae=E.sent,o(ae.name);case 4:case"end":return E.stop()}},D)}));return function(){return x.apply(this,arguments)}}(),M=function(D){console.log("Success:",D)},N=function(D){console.log("Failed:",D)};return(0,c.useEffect)(function(){e&&p.setFieldValue("name",g)},[g,p,e]),(0,a.jsx)(Ie.Z,{title:u("rename"),open:e,onOk:C,onCancel:s,okButtonProps:{loading:d},children:(0,a.jsx)(q.Z,{name:"basic",labelCol:{span:4},wrapperCol:{span:20},style:{maxWidth:600},onFinish:M,onFinishFailed:N,autoComplete:"off",form:p,children:(0,a.jsx)(q.Z.Item,{label:u("name"),name:"name",rules:[{required:!0,message:u("namePlaceholder")}],children:(0,a.jsx)(Ce.Z,{})})})})},la=oa,ia=t(4657),sa=t(28382),ca=X.Z.Text,da=function(){var n=(0,j.OB)(),e=qe(),o=e.fetchDocumentList,d=(0,A.XH)(),g=_e(o),s=g.pagination,m=(0,j.PE)(),y=In(),p=y.toChunk,h=(0,b.cE)(),u=h.currentRecord,C=h.setRecord,M=xn(u.id),N=M.renameLoading,x=M.onRenameOk,D=M.renameVisible,ae=M.hideRenameModal,W=M.showRenameModal,E=Dn(),$e=E.createLoading,Le=E.onCreateOk,ge=E.createVisible,Pe=E.hideCreateModal,Oe=E.showCreateModal,$=Sn(u.id),be=$.changeParserLoading,Ee=$.onChangeParserOk,Qe=$.changeParserVisible,Ve=$.hideChangeParserModal,ve=$.showChangeParserModal,ie=wn(),ma=ie.documentUploadVisible,ga=ie.hideDocumentUploadModal,va=ie.showDocumentUploadModal,pa=ie.onDocumentUploadOk,ha=ie.documentUploadLoading,Ma=(0,je.$G)("translation",{keyPrefix:"knowledgeDetails"}),J=Ma.t,tn=Nn(),fa=[{title:J("name"),dataIndex:"name",key:"name",fixed:"left",render:function(K,T){var fe=T.id,ke=T.thumbnail,rn=T.name;return(0,a.jsx)("div",{className:ne.toChunks,onClick:function(){return p(fe)},children:(0,a.jsxs)(L.Z,{gap:10,align:"center",children:[ke?(0,a.jsx)("img",{className:ne.img,src:ke,alt:""}):(0,a.jsx)(w.Z,{name:"file-icon/".concat((0,z.RT)(rn)),width:24}),(0,a.jsx)(ca,{ellipsis:{tooltip:K},className:ne.nameText,children:K})]})})}},{title:J("chunkNumber"),dataIndex:"chunk_num",key:"chunk_num"},{title:J("uploadDate"),dataIndex:"create_time",key:"create_time",render:function(K){return(0,sa.p6)(K)}},{title:J("chunkMethod"),dataIndex:"parser_id",key:"parser_id",render:function(K){var T;return(T=d.find(function(fe){return fe.value===K}))===null||T===void 0?void 0:T.label}},{title:J("enabled"),key:"status",dataIndex:"status",render:function(K,T){var fe=T.status,ke=T.id;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(k.Z,{checked:fe==="1",onChange:function(on){m(on,ke)}})})}},{title:J("parsingStatus"),dataIndex:"run",key:"run",render:function(K,T){return(0,a.jsx)(ra,{record:T})}},{title:J("action"),key:"action",render:function(K,T){return(0,a.jsx)(Hn,{setCurrentRecord:C,showRenameModal:W,showChangeParserModal:ve,record:T})}}],ja=fa.map(function(se){return de()(de()({},se),{},{className:"".concat(ne.column)})});return(0,a.jsxs)("div",{className:ne.datasetWrapper,children:[(0,a.jsx)("h3",{children:J("dataset")}),(0,a.jsx)("p",{children:J("datasetDescription")}),(0,a.jsx)(pe.Z,{}),(0,a.jsx)(On,{selectedRowKeys:tn.selectedRowKeys,showCreateModal:Oe,showDocumentUploadModal:va}),(0,a.jsx)(Ae.Z,{rowKey:"id",columns:ja,dataSource:n,pagination:s,rowSelection:tn,className:ne.documentTable,scroll:{scrollToFirstRowOnChange:!0,x:1300}}),(0,a.jsx)(xe,{visible:ge,hideModal:Pe,loading:$e,onOk:Le}),(0,a.jsx)(te.Z,{documentId:u.id,parserId:u.parser_id,parserConfig:u.parser_config,documentExtension:(0,z.RT)(u.name),onOk:Ee,visible:Qe,hideModal:Ve,loading:be}),(0,a.jsx)(la,{visible:D,onOk:x,loading:N,hideModal:ae,initialName:u.name}),(0,a.jsx)(ia.Z,{visible:ma,hideModal:ga,loading:ha,onOk:pa})]})},ua=da},74627:function(Te,ce,t){"use strict";t.d(ce,{Z:function(){return Ge}});var S=t(62435),de=t(93967),te=t.n(de);const w=l=>l?typeof l=="function"?l():l:null;var j=t(33603),b=t(53124),A=t(83062),z=t(92419),X=t(14747),L=t(50438),k=t(97414),pe=t(8796),Ae=t(91945),je=t(45503),ze=t(79511);const O=l=>{const{componentCls:v,popoverColor:f,titleMinWidth:i,fontWeightStrong:I,innerPadding:P,boxShadowSecondary:B,colorTextHeading:Z,borderRadiusLG:G,zIndexPopup:_,titleMarginBottom:re,colorBgElevated:ee,popoverBg:H,titleBorderBottom:V,innerContentPadding:oe,titlePadding:le}=l;return[{[v]:Object.assign(Object.assign({},(0,X.Wf)(l)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:_,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":ee,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${v}-content`]:{position:"relative"},[`${v}-inner`]:{backgroundColor:H,backgroundClip:"padding-box",borderRadius:G,boxShadow:B,padding:P},[`${v}-title`]:{minWidth:i,marginBottom:re,color:Z,fontWeight:I,borderBottom:V,padding:le},[`${v}-inner-content`]:{color:f,padding:oe}})},(0,k.ZP)(l,"var(--antd-arrow-background-color)"),{[`${v}-pure`]:{position:"relative",maxWidth:"none",margin:l.sizePopupArrow,display:"inline-block",[`${v}-content`]:{display:"inline-block"}}}]},Re=l=>{const{componentCls:v}=l;return{[v]:pe.i.map(f=>{const i=l[`${f}6`];return{[`&${v}-${f}`]:{"--antd-arrow-background-color":i,[`${v}-inner`]:{backgroundColor:i},[`${v}-arrow`]:{background:"transparent"}}}})}},Q=l=>{const{lineWidth:v,controlHeight:f,fontHeight:i,padding:I,wireframe:P,zIndexPopupBase:B,borderRadiusLG:Z,marginXS:G,lineType:_,colorSplit:re,paddingSM:ee}=l,H=f-i,V=H/2,oe=H/2-v,le=I;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:B+30},(0,ze.w)(l)),(0,k.wZ)({contentRadius:Z,limitVerticalRadius:!0})),{innerPadding:P?0:12,titleMarginBottom:P?0:G,titlePadding:P?`${V}px ${le}px ${oe}px`:0,titleBorderBottom:P?`${v}px ${_} ${re}`:"none",innerContentPadding:P?`${ee}px ${le}px`:0})};var ye=(0,Ae.I$)("Popover",l=>{const{colorBgElevated:v,colorText:f}=l,i=(0,je.TS)(l,{popoverBg:v,popoverColor:f});return[O(i),Re(i),(0,L._y)(i,"zoom-big")]},Q,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]}),ue=function(l,v){var f={};for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&v.indexOf(i)<0&&(f[i]=l[i]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var I=0,i=Object.getOwnPropertySymbols(l);I<i.length;I++)v.indexOf(i[I])<0&&Object.prototype.propertyIsEnumerable.call(l,i[I])&&(f[i[I]]=l[i[I]]);return f};const q=(l,v,f)=>{if(!(!v&&!f))return S.createElement(S.Fragment,null,v&&S.createElement("div",{className:`${l}-title`},w(v)),S.createElement("div",{className:`${l}-inner-content`},w(f)))},Ie=l=>{const{hashId:v,prefixCls:f,className:i,style:I,placement:P="top",title:B,content:Z,children:G}=l;return S.createElement("div",{className:te()(v,f,`${f}-pure`,`${f}-placement-${P}`,i),style:I},S.createElement("div",{className:`${f}-arrow`}),S.createElement(z.G,Object.assign({},l,{className:v,prefixCls:f}),G||q(f,B,Z)))};var c=l=>{const{prefixCls:v,className:f}=l,i=ue(l,["prefixCls","className"]),{getPrefixCls:I}=S.useContext(b.E_),P=I("popover",v),[B,Z,G]=ye(P);return B(S.createElement(Ie,Object.assign({},i,{prefixCls:P,hashId:Z,className:te()(f,G)})))},a=function(l,v){var f={};for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&v.indexOf(i)<0&&(f[i]=l[i]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var I=0,i=Object.getOwnPropertySymbols(l);I<i.length;I++)v.indexOf(i[I])<0&&Object.prototype.propertyIsEnumerable.call(l,i[I])&&(f[i[I]]=l[i[I]]);return f};const Ze=l=>{let{title:v,content:f,prefixCls:i}=l;return S.createElement(S.Fragment,null,v&&S.createElement("div",{className:`${i}-title`},w(v)),S.createElement("div",{className:`${i}-inner-content`},w(f)))},xe=S.forwardRef((l,v)=>{const{prefixCls:f,title:i,content:I,overlayClassName:P,placement:B="top",trigger:Z="hover",mouseEnterDelay:G=.1,mouseLeaveDelay:_=.1,overlayStyle:re={}}=l,ee=a(l,["prefixCls","title","content","overlayClassName","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),{getPrefixCls:H}=S.useContext(b.E_),V=H("popover",f),[oe,le,Ue]=ye(V),De=H(),Fe=te()(P,le,Ue);return oe(S.createElement(A.Z,Object.assign({placement:B,trigger:Z,mouseEnterDelay:G,mouseLeaveDelay:_,overlayStyle:re},ee,{prefixCls:V,overlayClassName:Fe,ref:v,overlay:i||I?S.createElement(Ze,{prefixCls:V,title:i,content:I}):null,transitionName:(0,j.m)(De,"zoom-big",ee.transitionName),"data-popover-inject":!0})))});xe._InternalPanelDoNotUseOrYouWillBeFired=c;var Ge=xe},59632:function(Te){var ce=function(w){return w instanceof RegExp},t=function(j){var b=/[\\^$.*+?()[\]{}|]/g,A=RegExp(b.source);return j&&A.test(j)?j.replace(b,"\\$&"):j},S=function(w){return typeof w=="string"},de=function(w){var j=[];return w.forEach(function(b){Array.isArray(b)?j=j.concat(b):j.push(b)}),j};function te(w,j,b){var A=0,z=0;if(w==="")return w;if(!w||!S(w))throw new TypeError("First argument to react-string-replace#replaceString must be a string");var X=j;ce(X)||(X=new RegExp("("+t(X)+")","gi"));for(var L=w.split(X),k=1,pe=L.length;k<pe;k+=2){if(L[k]===void 0||L[k-1]===void 0){console.warn("reactStringReplace: Encountered undefined value during string replacement. Your RegExp may not be working the way you expect.");continue}z=L[k].length,A+=L[k-1].length,L[k]=b(L[k],k,A),A+=z}return L}Te.exports=function(j,b,A){return Array.isArray(j)||(j=[j]),de(j.map(function(z){return S(z)?te(z,b,A):z}))}}}]);

//# sourceMappingURL=p__add-knowledge__components__knowledge-file__index.6ed72651.async.js.map