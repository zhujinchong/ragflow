!(function(){var Ra=Object.defineProperty,ka=Object.defineProperties;var Ma=Object.getOwnPropertyDescriptors;var ai=Object.getOwnPropertySymbols;var Oa=Object.prototype.hasOwnProperty,Da=Object.prototype.propertyIsEnumerable;var sn=Math.pow,si=(H,s,t)=>s in H?Ra(H,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):H[s]=t,Tn=(H,s)=>{for(var t in s||(s={}))Oa.call(s,t)&&si(H,t,s[t]);if(ai)for(var t of ai(s))Da.call(s,t)&&si(H,t,s[t]);return H},xn=(H,s)=>ka(H,Ma(s));var st=(H,s,t)=>new Promise((r,o)=>{var C=d=>{try{D(t.next(d))}catch(b){o(b)}},W=d=>{try{D(t.throw(d))}catch(b){o(b)}},D=d=>d.done?r(d.value):Promise.resolve(d.value).then(C,W);D((t=t.apply(H,s)).next())});(self.webpackChunk=self.webpackChunk||[]).push([[3568],{38925:function(H,s,t){"use strict";t.d(s,{Z:function(){return Z}});var r=t(62435),o=t(89739),C=t(4340),W=t(97937),D=t(21640),d=t(78860),b=t(93967),c=t.n(b),x=t(82225),h=t(64217),k=t(96159),m=t(53124),u=t(54548),w=t(14747),f=t(91945);const g=(J,_e,z,S,A)=>({background:J,border:`${(0,u.bf)(S.lineWidth)} ${S.lineType} ${_e}`,[`${A}-icon`]:{color:z}}),y=J=>{const{componentCls:_e,motionDurationSlow:z,marginXS:S,marginSM:A,fontSize:j,fontSizeLG:$,lineHeight:p,borderRadiusLG:R,motionEaseInOutCirc:F,withDescriptionIconSize:U,colorText:q,colorTextHeading:te,withDescriptionPadding:le,defaultPadding:ge}=J;return{[_e]:Object.assign(Object.assign({},(0,w.Wf)(J)),{position:"relative",display:"flex",alignItems:"center",padding:ge,wordWrap:"break-word",borderRadius:R,[`&${_e}-rtl`]:{direction:"rtl"},[`${_e}-content`]:{flex:1,minWidth:0},[`${_e}-icon`]:{marginInlineEnd:S,lineHeight:0},["&-description"]:{display:"none",fontSize:j,lineHeight:p},"&-message":{color:te},[`&${_e}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${z} ${F}, opacity ${z} ${F},
        padding-top ${z} ${F}, padding-bottom ${z} ${F},
        margin-bottom ${z} ${F}`},[`&${_e}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${_e}-with-description`]:{alignItems:"flex-start",padding:le,[`${_e}-icon`]:{marginInlineEnd:A,fontSize:U,lineHeight:0},[`${_e}-message`]:{display:"block",marginBottom:S,color:te,fontSize:$},[`${_e}-description`]:{display:"block",color:q}},[`${_e}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},l=J=>{const{componentCls:_e,colorSuccess:z,colorSuccessBorder:S,colorSuccessBg:A,colorWarning:j,colorWarningBorder:$,colorWarningBg:p,colorError:R,colorErrorBorder:F,colorErrorBg:U,colorInfo:q,colorInfoBorder:te,colorInfoBg:le}=J;return{[_e]:{"&-success":g(A,S,z,J,_e),"&-info":g(le,te,q,J,_e),"&-warning":g(p,$,j,J,_e),"&-error":Object.assign(Object.assign({},g(U,F,R,J,_e)),{[`${_e}-description > pre`]:{margin:0,padding:0}})}}},n=J=>{const{componentCls:_e,iconCls:z,motionDurationMid:S,marginXS:A,fontSizeIcon:j,colorIcon:$,colorIconHover:p}=J;return{[_e]:{["&-action"]:{marginInlineStart:A},[`${_e}-close-icon`]:{marginInlineStart:A,padding:0,overflow:"hidden",fontSize:j,lineHeight:(0,u.bf)(j),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${z}-close`]:{color:$,transition:`color ${S}`,"&:hover":{color:p}}},"&-close-text":{color:$,transition:`color ${S}`,"&:hover":{color:p}}}}},a=J=>({withDescriptionIconSize:J.fontSizeHeading3,defaultPadding:`${J.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${J.paddingMD}px ${J.paddingContentHorizontalLG}px`});var v=(0,f.I$)("Alert",J=>[y(J),l(J),n(J)],a),_=function(J,_e){var z={};for(var S in J)Object.prototype.hasOwnProperty.call(J,S)&&_e.indexOf(S)<0&&(z[S]=J[S]);if(J!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,S=Object.getOwnPropertySymbols(J);A<S.length;A++)_e.indexOf(S[A])<0&&Object.prototype.propertyIsEnumerable.call(J,S[A])&&(z[S[A]]=J[S[A]]);return z};const I={success:o.Z,info:d.Z,error:C.Z,warning:D.Z},V=J=>{const{icon:_e,prefixCls:z,type:S}=J,A=I[S]||null;return _e?(0,k.wm)(_e,r.createElement("span",{className:`${z}-icon`},_e),()=>({className:c()(`${z}-icon`,{[_e.props.className]:_e.props.className})})):r.createElement(A,{className:`${z}-icon`})},E=J=>{const{isClosable:_e,prefixCls:z,closeIcon:S,handleClose:A}=J,j=S===!0||S===void 0?r.createElement(W.Z,null):S;return _e?r.createElement("button",{type:"button",onClick:A,className:`${z}-close-icon`,tabIndex:0},j):null};var K=J=>{const{description:_e,prefixCls:z,message:S,banner:A,className:j,rootClassName:$,style:p,onMouseEnter:R,onMouseLeave:F,onClick:U,afterClose:q,showIcon:te,closable:le,closeText:ge,closeIcon:Se,action:Ae}=J,Pe=_(J,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),[Ee,ke]=r.useState(!1),Be=r.useRef(null),{getPrefixCls:Ue,direction:$e,alert:qe}=r.useContext(m.E_),We=Ue("alert",z),[Oe,Ne,ze]=v(We),xe=Te=>{var Fe;ke(!0),(Fe=J.onClose)===null||Fe===void 0||Fe.call(J,Te)},he=r.useMemo(()=>J.type!==void 0?J.type:A?"warning":"info",[J.type,A]),ye=r.useMemo(()=>ge?!0:typeof le=="boolean"?le:Se!==!1&&Se!==null&&Se!==void 0,[ge,Se,le]),Q=A&&te===void 0?!0:te,ve=c()(We,`${We}-${he}`,{[`${We}-with-description`]:!!_e,[`${We}-no-icon`]:!Q,[`${We}-banner`]:!!A,[`${We}-rtl`]:$e==="rtl"},qe==null?void 0:qe.className,j,$,ze,Ne),oe=(0,h.Z)(Pe,{aria:!0,data:!0});return Oe(r.createElement(x.ZP,{visible:!Ee,motionName:`${We}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:Te=>({maxHeight:Te.offsetHeight}),onLeaveEnd:q},Te=>{let{className:Fe,style:me}=Te;return r.createElement("div",Object.assign({ref:Be,"data-show":!Ee,className:c()(ve,Fe),style:Object.assign(Object.assign(Object.assign({},qe==null?void 0:qe.style),p),me),onMouseEnter:R,onMouseLeave:F,onClick:U,role:"alert"},oe),Q?r.createElement(V,{description:_e,icon:J.icon,prefixCls:We,type:he}):null,r.createElement("div",{className:`${We}-content`},S?r.createElement("div",{className:`${We}-message`},S):null,_e?r.createElement("div",{className:`${We}-description`},_e):null),Ae?r.createElement("div",{className:`${We}-action`},Ae):null,r.createElement(E,{isClosable:ye,prefixCls:We,closeIcon:ge||Se,handleClose:xe}))}))},O=t(15671),L=t(43144),T=t(60136),B=t(73568),P=function(J){(0,T.Z)(z,J);var _e=(0,B.Z)(z);function z(){var S;return(0,O.Z)(this,z),S=_e.apply(this,arguments),S.state={error:void 0,info:{componentStack:""}},S}return(0,L.Z)(z,[{key:"componentDidCatch",value:function(A,j){this.setState({error:A,info:j})}},{key:"render",value:function(){const{message:A,description:j,children:$}=this.props,{error:p,info:R}=this.state,F=R&&R.componentStack?R.componentStack:null,U=typeof A=="undefined"?(p||"").toString():A,q=typeof j=="undefined"?F:j;return p?r.createElement(K,{type:"error",message:U,description:r.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},q)}):$}}]),z}(r.Component);const Y=K;Y.ErrorBoundary=P;var Z=Y},90733:function(H){(function(s,t){H.exports=t()})(this,function(){"use strict";function s(f){var g=new k,y=Array.from(f);if(!y.every(function(A){return!Number.isNaN(A)}))throw TypeError('CSSMatrix: "'+f+'" must only have numbers.');if(y.length===16){var l=y[0],n=y[1],a=y[2],v=y[3],_=y[4],I=y[5],V=y[6],E=y[7],ee=y[8],K=y[9],O=y[10],L=y[11],T=y[12],B=y[13],M=y[14],P=y[15];g.m11=l,g.a=l,g.m21=_,g.c=_,g.m31=ee,g.m41=T,g.e=T,g.m12=n,g.b=n,g.m22=I,g.d=I,g.m32=K,g.m42=B,g.f=B,g.m13=a,g.m23=V,g.m33=O,g.m43=M,g.m14=v,g.m24=E,g.m34=L,g.m44=P}else if(y.length===6){var Y=y[0],Z=y[1],J=y[2],_e=y[3],z=y[4],S=y[5];g.m11=Y,g.a=Y,g.m12=Z,g.b=Z,g.m21=J,g.c=J,g.m22=_e,g.d=_e,g.m41=z,g.e=z,g.m42=S,g.f=S}else throw new TypeError("CSSMatrix: expecting an Array of 6/16 values.");return g}function t(f){var g=Object.keys(new k);if(typeof f=="object"&&g.every(function(y){return y in f}))return s([f.m11,f.m12,f.m13,f.m14,f.m21,f.m22,f.m23,f.m24,f.m31,f.m32,f.m33,f.m34,f.m41,f.m42,f.m43,f.m44]);throw TypeError('CSSMatrix: "'+JSON.stringify(f)+'" is not a DOMMatrix / CSSMatrix / JSON compatible object.')}function r(f){if(typeof f!="string")throw TypeError('CSSMatrix: "'+f+'" is not a string.');var g=String(f).replace(/\s/g,""),y=new k,l='CSSMatrix: invalid transform string "'+f+'"';return g.split(")").filter(function(n){return n}).forEach(function(n){var a=n.split("("),v=a[0],_=a[1];if(!_)throw TypeError(l);var I=_.split(",").map(function(z){return z.includes("rad")?parseFloat(z)*(180/Math.PI):parseFloat(z)}),V=I[0],E=I[1],ee=I[2],K=I[3],O=[V,E,ee],L=[V,E,ee,K];if(v==="perspective"&&V&&[E,ee].every(function(z){return z===void 0}))y.m34=-1/V;else if(v.includes("matrix")&&[6,16].includes(I.length)&&I.every(function(z){return!Number.isNaN(+z)})){var T=I.map(function(z){return Math.abs(z)<1e-6?0:z});y=y.multiply(s(T))}else if(v==="translate3d"&&O.every(function(z){return!Number.isNaN(+z)}))y=y.translate(V,E,ee);else if(v==="translate"&&V&&ee===void 0)y=y.translate(V,E||0,0);else if(v==="rotate3d"&&L.every(function(z){return!Number.isNaN(+z)})&&K)y=y.rotateAxisAngle(V,E,ee,K);else if(v==="rotate"&&V&&[E,ee].every(function(z){return z===void 0}))y=y.rotate(0,0,V);else if(v==="scale3d"&&O.every(function(z){return!Number.isNaN(+z)})&&O.some(function(z){return z!==1}))y=y.scale(V,E,ee);else if(v==="scale"&&!Number.isNaN(V)&&V!==1&&ee===void 0){var B=Number.isNaN(+E),M=B?V:E;y=y.scale(V,M,1)}else if(v==="skew"&&(V||!Number.isNaN(V)&&E)&&ee===void 0)y=y.skew(V,E||0);else if(/[XYZ]/.test(v)&&V&&[E,ee].every(function(z){return z===void 0})&&["translate","rotate","scale","skew"].some(function(z){return v.includes(z)}))if(["skewX","skewY"].includes(v))y=y[v](V);else{var P=v.replace(/[XYZ]/,""),Y=v.replace(P,""),Z=["X","Y","Z"].indexOf(Y),J=P==="scale"?1:0,_e=[Z===0?V:J,Z===1?V:J,Z===2?V:J];y=y[P].apply(y,_e)}else throw TypeError(l)}),y}function o(f,g){return g?[f.a,f.b,f.c,f.d,f.e,f.f]:[f.m11,f.m12,f.m13,f.m14,f.m21,f.m22,f.m23,f.m24,f.m31,f.m32,f.m33,f.m34,f.m41,f.m42,f.m43,f.m44]}function C(f,g,y){var l=new k;return l.m41=f,l.e=f,l.m42=g,l.f=g,l.m43=y,l}function W(f,g,y){var l=new k,n=Math.PI/180,a=f*n,v=g*n,_=y*n,I=Math.cos(a),V=-Math.sin(a),E=Math.cos(v),ee=-Math.sin(v),K=Math.cos(_),O=-Math.sin(_),L=E*K,T=-E*O;l.m11=L,l.a=L,l.m12=T,l.b=T,l.m13=ee;var B=V*ee*K+I*O;l.m21=B,l.c=B;var M=I*K-V*ee*O;return l.m22=M,l.d=M,l.m23=-V*E,l.m31=V*O-I*ee*K,l.m32=V*K+I*ee*O,l.m33=I*E,l}function D(f,g,y,l){var n=new k,a=Math.sqrt(f*f+g*g+y*y);if(a===0)return n;var v=f/a,_=g/a,I=y/a,V=l*(Math.PI/360),E=Math.sin(V),ee=Math.cos(V),K=E*E,O=v*v,L=_*_,T=I*I,B=1-2*(L+T)*K;n.m11=B,n.a=B;var M=2*(v*_*K+I*E*ee);n.m12=M,n.b=M,n.m13=2*(v*I*K-_*E*ee);var P=2*(_*v*K-I*E*ee);n.m21=P,n.c=P;var Y=1-2*(T+O)*K;return n.m22=Y,n.d=Y,n.m23=2*(_*I*K+v*E*ee),n.m31=2*(I*v*K+_*E*ee),n.m32=2*(I*_*K-v*E*ee),n.m33=1-2*(O+L)*K,n}function d(f,g,y){var l=new k;return l.m11=f,l.a=f,l.m22=g,l.d=g,l.m33=y,l}function b(f,g){var y=new k;if(f){var l=f*Math.PI/180,n=Math.tan(l);y.m21=n,y.c=n}if(g){var a=g*Math.PI/180,v=Math.tan(a);y.m12=v,y.b=v}return y}function c(f){return b(f,0)}function x(f){return b(0,f)}function h(f,g){var y=g.m11*f.m11+g.m12*f.m21+g.m13*f.m31+g.m14*f.m41,l=g.m11*f.m12+g.m12*f.m22+g.m13*f.m32+g.m14*f.m42,n=g.m11*f.m13+g.m12*f.m23+g.m13*f.m33+g.m14*f.m43,a=g.m11*f.m14+g.m12*f.m24+g.m13*f.m34+g.m14*f.m44,v=g.m21*f.m11+g.m22*f.m21+g.m23*f.m31+g.m24*f.m41,_=g.m21*f.m12+g.m22*f.m22+g.m23*f.m32+g.m24*f.m42,I=g.m21*f.m13+g.m22*f.m23+g.m23*f.m33+g.m24*f.m43,V=g.m21*f.m14+g.m22*f.m24+g.m23*f.m34+g.m24*f.m44,E=g.m31*f.m11+g.m32*f.m21+g.m33*f.m31+g.m34*f.m41,ee=g.m31*f.m12+g.m32*f.m22+g.m33*f.m32+g.m34*f.m42,K=g.m31*f.m13+g.m32*f.m23+g.m33*f.m33+g.m34*f.m43,O=g.m31*f.m14+g.m32*f.m24+g.m33*f.m34+g.m34*f.m44,L=g.m41*f.m11+g.m42*f.m21+g.m43*f.m31+g.m44*f.m41,T=g.m41*f.m12+g.m42*f.m22+g.m43*f.m32+g.m44*f.m42,B=g.m41*f.m13+g.m42*f.m23+g.m43*f.m33+g.m44*f.m43,M=g.m41*f.m14+g.m42*f.m24+g.m43*f.m34+g.m44*f.m44;return s([y,l,n,a,v,_,I,V,E,ee,K,O,L,T,B,M])}var k=function(){for(var g=[],y=arguments.length;y--;)g[y]=arguments[y];var l=this;if(l.a=1,l.b=0,l.c=0,l.d=1,l.e=0,l.f=0,l.m11=1,l.m12=0,l.m13=0,l.m14=0,l.m21=0,l.m22=1,l.m23=0,l.m24=0,l.m31=0,l.m32=0,l.m33=1,l.m34=0,l.m41=0,l.m42=0,l.m43=0,l.m44=1,g.length){var n=[16,6].some(function(a){return a===g.length})?g:g[0];return l.setMatrixValue(n)}return l},m={isIdentity:{configurable:!0},is2D:{configurable:!0}};m.isIdentity.get=function(){var f=this;return f.m11===1&&f.m12===0&&f.m13===0&&f.m14===0&&f.m21===0&&f.m22===1&&f.m23===0&&f.m24===0&&f.m31===0&&f.m32===0&&f.m33===1&&f.m34===0&&f.m41===0&&f.m42===0&&f.m43===0&&f.m44===1},m.is2D.get=function(){var f=this;return f.m31===0&&f.m32===0&&f.m33===1&&f.m34===0&&f.m43===0&&f.m44===1},k.prototype.setMatrixValue=function(g){var y=this;return typeof g=="string"&&g.length&&g!=="none"?r(g):[Array,Float64Array,Float32Array].some(function(l){return g instanceof l})?s(g):[k,DOMMatrix,Object].some(function(l){return g instanceof l})?t(g):y},k.prototype.toFloat32Array=function(g){return Float32Array.from(o(this,g))},k.prototype.toFloat64Array=function(g){return Float64Array.from(o(this,g))},k.prototype.toString=function(){var g=this,y=g.is2D,l=g.toFloat64Array(y).join(", "),n=y?"matrix":"matrix3d";return n+"("+l+")"},k.prototype.toJSON=function(){var g=this,y=g.is2D,l=g.isIdentity;return Object.assign({},g,{is2D:y,isIdentity:l})},k.prototype.multiply=function(g){return h(this,g)},k.prototype.translate=function(g,y,l){var n=g,a=y,v=l;return a===void 0&&(a=0),v===void 0&&(v=0),h(this,C(n,a,v))},k.prototype.scale=function(g,y,l){var n=g,a=y,v=l;return a===void 0&&(a=g),v===void 0&&(v=1),h(this,d(n,a,v))},k.prototype.rotate=function(g,y,l){var n=g,a=y||0,v=l||0;return typeof g=="number"&&y===void 0&&l===void 0&&(v=n,n=0,a=0),h(this,W(n,a,v))},k.prototype.rotateAxisAngle=function(g,y,l,n){if([g,y,l,n].some(function(a){return Number.isNaN(+a)}))throw new TypeError("CSSMatrix: expecting 4 values");return h(this,D(g,y,l,n))},k.prototype.skewX=function(g){return h(this,c(g))},k.prototype.skewY=function(g){return h(this,x(g))},k.prototype.skew=function(g,y){return h(this,b(g,y))},k.prototype.transformPoint=function(g){var y=this,l=y.m11*g.x+y.m21*g.y+y.m31*g.z+y.m41*g.w,n=y.m12*g.x+y.m22*g.y+y.m32*g.z+y.m42*g.w,a=y.m13*g.x+y.m23*g.y+y.m33*g.z+y.m43*g.w,v=y.m14*g.x+y.m24*g.y+y.m34*g.z+y.m44*g.w;return g instanceof DOMPoint?new DOMPoint(l,n,a,v):{x:l,y:n,z:a,w:v}},Object.defineProperties(k.prototype,m),Object.assign(k,{Translate:C,Rotate:W,RotateAxisAngle:D,Scale:d,SkewX:c,SkewY:x,Skew:b,Multiply:h,fromArray:s,fromMatrix:t,fromString:r,toArray:o});var u="1.0.3",w=u;return Object.assign(k,{Version:w}),k})},53316:function(H){function s(h,k){var m=k&&k.cache?k.cache:x,u=k&&k.serializer?k.serializer:b,w=k&&k.strategy?k.strategy:W;return w(h,{cache:m,serializer:u})}function t(h){return h==null||typeof h=="number"||typeof h=="boolean"}function r(h,k,m,u){var w=t(u)?u:m(u),f=k.get(w);return typeof f=="undefined"&&(f=h.call(this,u),k.set(w,f)),f}function o(h,k,m){var u=Array.prototype.slice.call(arguments,3),w=m(u),f=k.get(w);return typeof f=="undefined"&&(f=h.apply(this,u),k.set(w,f)),f}function C(h,k,m,u,w){return m.bind(k,h,u,w)}function W(h,k){var m=h.length===1?r:o;return C(h,this,m,k.cache.create(),k.serializer)}function D(h,k){var m=o;return C(h,this,m,k.cache.create(),k.serializer)}function d(h,k){var m=r;return C(h,this,m,k.cache.create(),k.serializer)}function b(){return JSON.stringify(arguments)}function c(){this.cache=Object.create(null)}c.prototype.has=function(h){return h in this.cache},c.prototype.get=function(h){return this.cache[h]},c.prototype.set=function(h,k){this.cache[h]=k};var x={create:function(){return new c}};H.exports=s,H.exports.strategies={variadic:D,monadic:d}},91296:function(H,s,t){var r="Expected a function",o=NaN,C="[object Symbol]",W=/^\s+|\s+$/g,D=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,b=/^0o[0-7]+$/i,c=parseInt,x=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,h=typeof self=="object"&&self&&self.Object===Object&&self,k=x||h||Function("return this")(),m=Object.prototype,u=m.toString,w=Math.max,f=Math.min,g=function(){return k.Date.now()};function y(_,I,V){var E,ee,K,O,L,T,B=0,M=!1,P=!1,Y=!0;if(typeof _!="function")throw new TypeError(r);I=v(I)||0,l(V)&&(M=!!V.leading,P="maxWait"in V,K=P?w(v(V.maxWait)||0,I):K,Y="trailing"in V?!!V.trailing:Y);function Z(R){var F=E,U=ee;return E=ee=void 0,B=R,O=_.apply(U,F),O}function J(R){return B=R,L=setTimeout(S,I),M?Z(R):O}function _e(R){var F=R-T,U=R-B,q=I-F;return P?f(q,K-U):q}function z(R){var F=R-T,U=R-B;return T===void 0||F>=I||F<0||P&&U>=K}function S(){var R=g();if(z(R))return A(R);L=setTimeout(S,_e(R))}function A(R){return L=void 0,Y&&E?Z(R):(E=ee=void 0,O)}function j(){L!==void 0&&clearTimeout(L),B=0,E=T=ee=L=void 0}function $(){return L===void 0?O:A(g())}function p(){var R=g(),F=z(R);if(E=arguments,ee=this,T=R,F){if(L===void 0)return J(T);if(P)return L=setTimeout(S,I),Z(T)}return L===void 0&&(L=setTimeout(S,I)),O}return p.cancel=j,p.flush=$,p}function l(_){var I=typeof _;return!!_&&(I=="object"||I=="function")}function n(_){return!!_&&typeof _=="object"}function a(_){return typeof _=="symbol"||n(_)&&u.call(_)==C}function v(_){if(typeof _=="number")return _;if(a(_))return o;if(l(_)){var I=typeof _.valueOf=="function"?_.valueOf():_;_=l(I)?I+"":I}if(typeof _!="string")return _===0?_:+_;_=_.replace(W,"");var V=d.test(_);return V||b.test(_)?c(_.slice(2),V?2:8):D.test(_)?o:+_}H.exports=y},75668:function(H,s,t){"use strict";function r(z){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},r(z)}Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"DraggableCore",{enumerable:!0,get:function(){return x.default}}),s.default=void 0;var o=w(t(62435)),C=m(t(45697)),W=m(t(61254)),D=m(t(18946)),d=t(81825),b=t(2849),c=t(9280),x=m(t(80783)),h=m(t(55904)),k=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function m(z){return z&&z.__esModule?z:{default:z}}function u(z){if(typeof WeakMap!="function")return null;var S=new WeakMap,A=new WeakMap;return(u=function($){return $?A:S})(z)}function w(z,S){if(!S&&z&&z.__esModule)return z;if(z===null||r(z)!=="object"&&typeof z!="function")return{default:z};var A=u(S);if(A&&A.has(z))return A.get(z);var j={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in z)if(p!=="default"&&Object.prototype.hasOwnProperty.call(z,p)){var R=$?Object.getOwnPropertyDescriptor(z,p):null;R&&(R.get||R.set)?Object.defineProperty(j,p,R):j[p]=z[p]}return j.default=z,A&&A.set(z,j),j}function f(){return f=Object.assign||function(z){for(var S=1;S<arguments.length;S++){var A=arguments[S];for(var j in A)Object.prototype.hasOwnProperty.call(A,j)&&(z[j]=A[j])}return z},f.apply(this,arguments)}function g(z,S){if(z==null)return{};var A=y(z,S),j,$;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(z);for($=0;$<p.length;$++)j=p[$],!(S.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(z,j)&&(A[j]=z[j])}return A}function y(z,S){if(z==null)return{};var A={},j=Object.keys(z),$,p;for(p=0;p<j.length;p++)$=j[p],!(S.indexOf($)>=0)&&(A[$]=z[$]);return A}function l(z,S){var A=Object.keys(z);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(z);S&&(j=j.filter(function($){return Object.getOwnPropertyDescriptor(z,$).enumerable})),A.push.apply(A,j)}return A}function n(z){for(var S=1;S<arguments.length;S++){var A=arguments[S]!=null?arguments[S]:{};S%2?l(Object(A),!0).forEach(function(j){J(z,j,A[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(A)):l(Object(A)).forEach(function(j){Object.defineProperty(z,j,Object.getOwnPropertyDescriptor(A,j))})}return z}function a(z,S){return E(z)||V(z,S)||_(z,S)||v()}function v(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _(z,S){if(z){if(typeof z=="string")return I(z,S);var A=Object.prototype.toString.call(z).slice(8,-1);if(A==="Object"&&z.constructor&&(A=z.constructor.name),A==="Map"||A==="Set")return Array.from(z);if(A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return I(z,S)}}function I(z,S){(S==null||S>z.length)&&(S=z.length);for(var A=0,j=new Array(S);A<S;A++)j[A]=z[A];return j}function V(z,S){var A=z==null?null:typeof Symbol!="undefined"&&z[Symbol.iterator]||z["@@iterator"];if(A!=null){var j=[],$=!0,p=!1,R,F;try{for(A=A.call(z);!($=(R=A.next()).done)&&(j.push(R.value),!(S&&j.length===S));$=!0);}catch(U){p=!0,F=U}finally{try{!$&&A.return!=null&&A.return()}finally{if(p)throw F}}return j}}function E(z){if(Array.isArray(z))return z}function ee(z,S){if(!(z instanceof S))throw new TypeError("Cannot call a class as a function")}function K(z,S){for(var A=0;A<S.length;A++){var j=S[A];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(z,j.key,j)}}function O(z,S,A){return S&&K(z.prototype,S),A&&K(z,A),Object.defineProperty(z,"prototype",{writable:!1}),z}function L(z,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(S&&S.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),S&&T(z,S)}function T(z,S){return T=Object.setPrototypeOf||function(j,$){return j.__proto__=$,j},T(z,S)}function B(z){var S=Y();return function(){var j=Z(z),$;if(S){var p=Z(this).constructor;$=Reflect.construct(j,arguments,p)}else $=j.apply(this,arguments);return M(this,$)}}function M(z,S){if(S&&(r(S)==="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P(z)}function P(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function Y(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(z){return!1}}function Z(z){return Z=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)},Z(z)}function J(z,S,A){return S in z?Object.defineProperty(z,S,{value:A,enumerable:!0,configurable:!0,writable:!0}):z[S]=A,z}var _e=function(z){L(A,z);var S=B(A);function A(j){var $;return ee(this,A),$=S.call(this,j),J(P($),"onDragStart",function(p,R){(0,h.default)("Draggable: onDragStart: %j",R);var F=$.props.onStart(p,(0,b.createDraggableData)(P($),R));if(F===!1)return!1;$.setState({dragging:!0,dragged:!0})}),J(P($),"onDrag",function(p,R){if(!$.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",R);var F=(0,b.createDraggableData)(P($),R),U={x:F.x,y:F.y};if($.props.bounds){var q=U.x,te=U.y;U.x+=$.state.slackX,U.y+=$.state.slackY;var le=(0,b.getBoundPosition)(P($),U.x,U.y),ge=a(le,2),Se=ge[0],Ae=ge[1];U.x=Se,U.y=Ae,U.slackX=$.state.slackX+(q-U.x),U.slackY=$.state.slackY+(te-U.y),F.x=U.x,F.y=U.y,F.deltaX=U.x-$.state.x,F.deltaY=U.y-$.state.y}var Pe=$.props.onDrag(p,F);if(Pe===!1)return!1;$.setState(U)}),J(P($),"onDragStop",function(p,R){if(!$.state.dragging)return!1;var F=$.props.onStop(p,(0,b.createDraggableData)(P($),R));if(F===!1)return!1;(0,h.default)("Draggable: onDragStop: %j",R);var U={dragging:!1,slackX:0,slackY:0},q=!!$.props.position;if(q){var te=$.props.position,le=te.x,ge=te.y;U.x=le,U.y=ge}$.setState(U)}),$.state={dragging:!1,dragged:!1,x:j.position?j.position.x:j.defaultPosition.x,y:j.position?j.position.y:j.defaultPosition.y,prevPropsPosition:n({},j.position),slackX:0,slackY:0,isElementSVG:!1},j.position&&!(j.onDrag||j.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),$}return O(A,[{key:"componentDidMount",value:function(){typeof window.SVGElement!="undefined"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var $,p,R;return($=(p=this.props)===null||p===void 0||(R=p.nodeRef)===null||R===void 0?void 0:R.current)!==null&&$!==void 0?$:W.default.findDOMNode(this)}},{key:"render",value:function(){var $,p=this.props,R=p.axis,F=p.bounds,U=p.children,q=p.defaultPosition,te=p.defaultClassName,le=p.defaultClassNameDragging,ge=p.defaultClassNameDragged,Se=p.position,Ae=p.positionOffset,Pe=p.scale,Ee=g(p,k),ke={},Be=null,Ue=!!Se,$e=!Ue||this.state.dragging,qe=Se||q,We={x:(0,b.canDragX)(this)&&$e?this.state.x:qe.x,y:(0,b.canDragY)(this)&&$e?this.state.y:qe.y};this.state.isElementSVG?Be=(0,d.createSVGTransform)(We,Ae):ke=(0,d.createCSSTransform)(We,Ae);var Oe=(0,D.default)(U.props.className||"",te,($={},J($,le,this.state.dragging),J($,ge,this.state.dragged),$));return o.createElement(x.default,f({},Ee,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.cloneElement(o.Children.only(U),{className:Oe,style:n(n({},U.props.style),ke),transform:Be}))}}],[{key:"getDerivedStateFromProps",value:function($,p){var R=$.position,F=p.prevPropsPosition;return R&&(!F||R.x!==F.x||R.y!==F.y)?((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:R,prevPropsPosition:F}),{x:R.x,y:R.y,prevPropsPosition:n({},R)}):null}}]),A}(o.Component);s.default=_e,J(_e,"displayName","Draggable"),J(_e,"propTypes",n(n({},x.default.propTypes),{},{axis:C.default.oneOf(["both","x","y","none"]),bounds:C.default.oneOfType([C.default.shape({left:C.default.number,right:C.default.number,top:C.default.number,bottom:C.default.number}),C.default.string,C.default.oneOf([!1])]),defaultClassName:C.default.string,defaultClassNameDragging:C.default.string,defaultClassNameDragged:C.default.string,defaultPosition:C.default.shape({x:C.default.number,y:C.default.number}),positionOffset:C.default.shape({x:C.default.oneOfType([C.default.number,C.default.string]),y:C.default.oneOfType([C.default.number,C.default.string])}),position:C.default.shape({x:C.default.number,y:C.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe})),J(_e,"defaultProps",n(n({},x.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},80783:function(H,s,t){"use strict";function r(M){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},r(M)}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=k(t(62435)),C=x(t(45697)),W=x(t(61254)),D=t(81825),d=t(2849),b=t(9280),c=x(t(55904));function x(M){return M&&M.__esModule?M:{default:M}}function h(M){if(typeof WeakMap!="function")return null;var P=new WeakMap,Y=new WeakMap;return(h=function(J){return J?Y:P})(M)}function k(M,P){if(!P&&M&&M.__esModule)return M;if(M===null||r(M)!=="object"&&typeof M!="function")return{default:M};var Y=h(P);if(Y&&Y.has(M))return Y.get(M);var Z={},J=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _e in M)if(_e!=="default"&&Object.prototype.hasOwnProperty.call(M,_e)){var z=J?Object.getOwnPropertyDescriptor(M,_e):null;z&&(z.get||z.set)?Object.defineProperty(Z,_e,z):Z[_e]=M[_e]}return Z.default=M,Y&&Y.set(M,Z),Z}function m(M,P){return y(M)||g(M,P)||w(M,P)||u()}function u(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(M,P){if(M){if(typeof M=="string")return f(M,P);var Y=Object.prototype.toString.call(M).slice(8,-1);if(Y==="Object"&&M.constructor&&(Y=M.constructor.name),Y==="Map"||Y==="Set")return Array.from(M);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return f(M,P)}}function f(M,P){(P==null||P>M.length)&&(P=M.length);for(var Y=0,Z=new Array(P);Y<P;Y++)Z[Y]=M[Y];return Z}function g(M,P){var Y=M==null?null:typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(Y!=null){var Z=[],J=!0,_e=!1,z,S;try{for(Y=Y.call(M);!(J=(z=Y.next()).done)&&(Z.push(z.value),!(P&&Z.length===P));J=!0);}catch(A){_e=!0,S=A}finally{try{!J&&Y.return!=null&&Y.return()}finally{if(_e)throw S}}return Z}}function y(M){if(Array.isArray(M))return M}function l(M,P){if(!(M instanceof P))throw new TypeError("Cannot call a class as a function")}function n(M,P){for(var Y=0;Y<P.length;Y++){var Z=P[Y];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(M,Z.key,Z)}}function a(M,P,Y){return P&&n(M.prototype,P),Y&&n(M,Y),Object.defineProperty(M,"prototype",{writable:!1}),M}function v(M,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(P&&P.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),P&&_(M,P)}function _(M,P){return _=Object.setPrototypeOf||function(Z,J){return Z.__proto__=J,Z},_(M,P)}function I(M){var P=ee();return function(){var Z=K(M),J;if(P){var _e=K(this).constructor;J=Reflect.construct(Z,arguments,_e)}else J=Z.apply(this,arguments);return V(this,J)}}function V(M,P){if(P&&(r(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E(M)}function E(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function ee(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(M){return!1}}function K(M){return K=Object.setPrototypeOf?Object.getPrototypeOf:function(Y){return Y.__proto__||Object.getPrototypeOf(Y)},K(M)}function O(M,P,Y){return P in M?Object.defineProperty(M,P,{value:Y,enumerable:!0,configurable:!0,writable:!0}):M[P]=Y,M}var L={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},T=L.mouse,B=function(M){v(Y,M);var P=I(Y);function Y(){var Z;l(this,Y);for(var J=arguments.length,_e=new Array(J),z=0;z<J;z++)_e[z]=arguments[z];return Z=P.call.apply(P,[this].concat(_e)),O(E(Z),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),O(E(Z),"mounted",!1),O(E(Z),"handleDragStart",function(S){if(Z.props.onMouseDown(S),!Z.props.allowAnyClick&&typeof S.button=="number"&&S.button!==0)return!1;var A=Z.findDOMNode();if(!A||!A.ownerDocument||!A.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var j=A.ownerDocument;if(!(Z.props.disabled||!(S.target instanceof j.defaultView.Node)||Z.props.handle&&!(0,D.matchesSelectorAndParentsTo)(S.target,Z.props.handle,A)||Z.props.cancel&&(0,D.matchesSelectorAndParentsTo)(S.target,Z.props.cancel,A))){S.type==="touchstart"&&S.preventDefault();var $=(0,D.getTouchIdentifier)(S);Z.setState({touchIdentifier:$});var p=(0,d.getControlPosition)(S,$,E(Z));if(p!=null){var R=p.x,F=p.y,U=(0,d.createCoreData)(E(Z),R,F);(0,c.default)("DraggableCore: handleDragStart: %j",U),(0,c.default)("calling",Z.props.onStart);var q=Z.props.onStart(S,U);q===!1||Z.mounted===!1||(Z.props.enableUserSelectHack&&(0,D.addUserSelectStyles)(j),Z.setState({dragging:!0,lastX:R,lastY:F}),(0,D.addEvent)(j,T.move,Z.handleDrag),(0,D.addEvent)(j,T.stop,Z.handleDragStop))}}}),O(E(Z),"handleDrag",function(S){var A=(0,d.getControlPosition)(S,Z.state.touchIdentifier,E(Z));if(A!=null){var j=A.x,$=A.y;if(Array.isArray(Z.props.grid)){var p=j-Z.state.lastX,R=$-Z.state.lastY,F=(0,d.snapToGrid)(Z.props.grid,p,R),U=m(F,2);if(p=U[0],R=U[1],!p&&!R)return;j=Z.state.lastX+p,$=Z.state.lastY+R}var q=(0,d.createCoreData)(E(Z),j,$);(0,c.default)("DraggableCore: handleDrag: %j",q);var te=Z.props.onDrag(S,q);if(te===!1||Z.mounted===!1){try{Z.handleDragStop(new MouseEvent("mouseup"))}catch(ge){var le=document.createEvent("MouseEvents");le.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Z.handleDragStop(le)}return}Z.setState({lastX:j,lastY:$})}}),O(E(Z),"handleDragStop",function(S){if(Z.state.dragging){var A=(0,d.getControlPosition)(S,Z.state.touchIdentifier,E(Z));if(A!=null){var j=A.x,$=A.y;if(Array.isArray(Z.props.grid)){var p=j-Z.state.lastX||0,R=$-Z.state.lastY||0,F=(0,d.snapToGrid)(Z.props.grid,p,R),U=m(F,2);p=U[0],R=U[1],j=Z.state.lastX+p,$=Z.state.lastY+R}var q=(0,d.createCoreData)(E(Z),j,$),te=Z.props.onStop(S,q);if(te===!1||Z.mounted===!1)return!1;var le=Z.findDOMNode();le&&Z.props.enableUserSelectHack&&(0,D.removeUserSelectStyles)(le.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",q),Z.setState({dragging:!1,lastX:NaN,lastY:NaN}),le&&((0,c.default)("DraggableCore: Removing handlers"),(0,D.removeEvent)(le.ownerDocument,T.move,Z.handleDrag),(0,D.removeEvent)(le.ownerDocument,T.stop,Z.handleDragStop))}}}),O(E(Z),"onMouseDown",function(S){return T=L.mouse,Z.handleDragStart(S)}),O(E(Z),"onMouseUp",function(S){return T=L.mouse,Z.handleDragStop(S)}),O(E(Z),"onTouchStart",function(S){return T=L.touch,Z.handleDragStart(S)}),O(E(Z),"onTouchEnd",function(S){return T=L.touch,Z.handleDragStop(S)}),Z}return a(Y,[{key:"componentDidMount",value:function(){this.mounted=!0;var J=this.findDOMNode();J&&(0,D.addEvent)(J,L.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var J=this.findDOMNode();if(J){var _e=J.ownerDocument;(0,D.removeEvent)(_e,L.mouse.move,this.handleDrag),(0,D.removeEvent)(_e,L.touch.move,this.handleDrag),(0,D.removeEvent)(_e,L.mouse.stop,this.handleDragStop),(0,D.removeEvent)(_e,L.touch.stop,this.handleDragStop),(0,D.removeEvent)(J,L.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,D.removeUserSelectStyles)(_e)}}},{key:"findDOMNode",value:function(){var J,_e,z;return(J=this.props)!==null&&J!==void 0&&J.nodeRef?(_e=this.props)===null||_e===void 0||(z=_e.nodeRef)===null||z===void 0?void 0:z.current:W.default.findDOMNode(this)}},{key:"render",value:function(){return o.cloneElement(o.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),Y}(o.Component);s.default=B,O(B,"displayName","DraggableCore"),O(B,"propTypes",{allowAnyClick:C.default.bool,disabled:C.default.bool,enableUserSelectHack:C.default.bool,offsetParent:function(P,Y){if(P[Y]&&P[Y].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:C.default.arrayOf(C.default.number),handle:C.default.string,cancel:C.default.string,nodeRef:C.default.object,onStart:C.default.func,onDrag:C.default.func,onStop:C.default.func,onMouseDown:C.default.func,scale:C.default.number,className:b.dontSetMe,style:b.dontSetMe,transform:b.dontSetMe}),O(B,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},61193:function(H,s,t){"use strict";var r=t(75668),o=r.default,C=r.DraggableCore;H.exports=o,H.exports.default=o,H.exports.DraggableCore=C},81825:function(H,s,t){"use strict";function r(O){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},r(O)}Object.defineProperty(s,"__esModule",{value:!0}),s.addClassName=ee,s.addEvent=m,s.addUserSelectStyles=V,s.createCSSTransform=n,s.createSVGTransform=a,s.getTouch=_,s.getTouchIdentifier=I,s.getTranslation=v,s.innerHeight=g,s.innerWidth=y,s.matchesSelector=h,s.matchesSelectorAndParentsTo=k,s.offsetXYFromParent=l,s.outerHeight=w,s.outerWidth=f,s.removeClassName=K,s.removeEvent=u,s.removeUserSelectStyles=E;var o=t(9280),C=D(t(38650));function W(O){if(typeof WeakMap!="function")return null;var L=new WeakMap,T=new WeakMap;return(W=function(M){return M?T:L})(O)}function D(O,L){if(!L&&O&&O.__esModule)return O;if(O===null||r(O)!=="object"&&typeof O!="function")return{default:O};var T=W(L);if(T&&T.has(O))return T.get(O);var B={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in O)if(P!=="default"&&Object.prototype.hasOwnProperty.call(O,P)){var Y=M?Object.getOwnPropertyDescriptor(O,P):null;Y&&(Y.get||Y.set)?Object.defineProperty(B,P,Y):B[P]=O[P]}return B.default=O,T&&T.set(O,B),B}function d(O,L){var T=Object.keys(O);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(O);L&&(B=B.filter(function(M){return Object.getOwnPropertyDescriptor(O,M).enumerable})),T.push.apply(T,B)}return T}function b(O){for(var L=1;L<arguments.length;L++){var T=arguments[L]!=null?arguments[L]:{};L%2?d(Object(T),!0).forEach(function(B){c(O,B,T[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(T)):d(Object(T)).forEach(function(B){Object.defineProperty(O,B,Object.getOwnPropertyDescriptor(T,B))})}return O}function c(O,L,T){return L in O?Object.defineProperty(O,L,{value:T,enumerable:!0,configurable:!0,writable:!0}):O[L]=T,O}var x="";function h(O,L){return x||(x=(0,o.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(T){return(0,o.isFunction)(O[T])})),(0,o.isFunction)(O[x])?O[x](L):!1}function k(O,L,T){var B=O;do{if(h(B,L))return!0;if(B===T)return!1;B=B.parentNode}while(B);return!1}function m(O,L,T,B){if(O){var M=b({capture:!0},B);O.addEventListener?O.addEventListener(L,T,M):O.attachEvent?O.attachEvent("on"+L,T):O["on"+L]=T}}function u(O,L,T,B){if(O){var M=b({capture:!0},B);O.removeEventListener?O.removeEventListener(L,T,M):O.detachEvent?O.detachEvent("on"+L,T):O["on"+L]=null}}function w(O){var L=O.clientHeight,T=O.ownerDocument.defaultView.getComputedStyle(O);return L+=(0,o.int)(T.borderTopWidth),L+=(0,o.int)(T.borderBottomWidth),L}function f(O){var L=O.clientWidth,T=O.ownerDocument.defaultView.getComputedStyle(O);return L+=(0,o.int)(T.borderLeftWidth),L+=(0,o.int)(T.borderRightWidth),L}function g(O){var L=O.clientHeight,T=O.ownerDocument.defaultView.getComputedStyle(O);return L-=(0,o.int)(T.paddingTop),L-=(0,o.int)(T.paddingBottom),L}function y(O){var L=O.clientWidth,T=O.ownerDocument.defaultView.getComputedStyle(O);return L-=(0,o.int)(T.paddingLeft),L-=(0,o.int)(T.paddingRight),L}function l(O,L,T){var B=L===L.ownerDocument.body,M=B?{left:0,top:0}:L.getBoundingClientRect(),P=(O.clientX+L.scrollLeft-M.left)/T,Y=(O.clientY+L.scrollTop-M.top)/T;return{x:P,y:Y}}function n(O,L){var T=v(O,L,"px");return c({},(0,C.browserPrefixToKey)("transform",C.default),T)}function a(O,L){var T=v(O,L,"");return T}function v(O,L,T){var B=O.x,M=O.y,P="translate(".concat(B).concat(T,",").concat(M).concat(T,")");if(L){var Y="".concat(typeof L.x=="string"?L.x:L.x+T),Z="".concat(typeof L.y=="string"?L.y:L.y+T);P="translate(".concat(Y,", ").concat(Z,")")+P}return P}function _(O,L){return O.targetTouches&&(0,o.findInArray)(O.targetTouches,function(T){return L===T.identifier})||O.changedTouches&&(0,o.findInArray)(O.changedTouches,function(T){return L===T.identifier})}function I(O){if(O.targetTouches&&O.targetTouches[0])return O.targetTouches[0].identifier;if(O.changedTouches&&O.changedTouches[0])return O.changedTouches[0].identifier}function V(O){if(O){var L=O.getElementById("react-draggable-style-el");L||(L=O.createElement("style"),L.type="text/css",L.id="react-draggable-style-el",L.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,L.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,O.getElementsByTagName("head")[0].appendChild(L)),O.body&&ee(O.body,"react-draggable-transparent-selection")}}function E(O){if(O)try{if(O.body&&K(O.body,"react-draggable-transparent-selection"),O.selection)O.selection.empty();else{var L=(O.defaultView||window).getSelection();L&&L.type!=="Caret"&&L.removeAllRanges()}}catch(T){}}function ee(O,L){O.classList?O.classList.add(L):O.className.match(new RegExp("(?:^|\\s)".concat(L,"(?!\\S)")))||(O.className+=" ".concat(L))}function K(O,L){O.classList?O.classList.remove(L):O.className=O.className.replace(new RegExp("(?:^|\\s)".concat(L,"(?!\\S)"),"g"),"")}},38650:function(H,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.browserPrefixToKey=o,s.browserPrefixToStyle=C,s.default=void 0,s.getPrefix=r;var t=["Moz","Webkit","O","ms"];function r(){var d,b,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window=="undefined")return"";var x=(d=window.document)===null||d===void 0||(b=d.documentElement)===null||b===void 0?void 0:b.style;if(!x||c in x)return"";for(var h=0;h<t.length;h++)if(o(c,t[h])in x)return t[h];return""}function o(d,b){return b?"".concat(b).concat(W(d)):d}function C(d,b){return b?"-".concat(b.toLowerCase(),"-").concat(d):d}function W(d){for(var b="",c=!0,x=0;x<d.length;x++)c?(b+=d[x].toUpperCase(),c=!1):d[x]==="-"?c=!0:b+=d[x];return b}var D=r();s.default=D},55904:function(H,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=t;function t(){var r}},2849:function(H,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.canDragX=D,s.canDragY=d,s.createCoreData=c,s.createDraggableData=x,s.getBoundPosition=C,s.getControlPosition=b,s.snapToGrid=W;var r=t(9280),o=t(81825);function C(m,u,w){if(!m.props.bounds)return[u,w];var f=m.props.bounds;f=typeof f=="string"?f:h(f);var g=k(m);if(typeof f=="string"){var y=g.ownerDocument,l=y.defaultView,n;if(f==="parent"?n=g.parentNode:n=y.querySelector(f),!(n instanceof l.HTMLElement))throw new Error('Bounds selector "'+f+'" could not find an element.');var a=n,v=l.getComputedStyle(g),_=l.getComputedStyle(a);f={left:-g.offsetLeft+(0,r.int)(_.paddingLeft)+(0,r.int)(v.marginLeft),top:-g.offsetTop+(0,r.int)(_.paddingTop)+(0,r.int)(v.marginTop),right:(0,o.innerWidth)(a)-(0,o.outerWidth)(g)-g.offsetLeft+(0,r.int)(_.paddingRight)-(0,r.int)(v.marginRight),bottom:(0,o.innerHeight)(a)-(0,o.outerHeight)(g)-g.offsetTop+(0,r.int)(_.paddingBottom)-(0,r.int)(v.marginBottom)}}return(0,r.isNum)(f.right)&&(u=Math.min(u,f.right)),(0,r.isNum)(f.bottom)&&(w=Math.min(w,f.bottom)),(0,r.isNum)(f.left)&&(u=Math.max(u,f.left)),(0,r.isNum)(f.top)&&(w=Math.max(w,f.top)),[u,w]}function W(m,u,w){var f=Math.round(u/m[0])*m[0],g=Math.round(w/m[1])*m[1];return[f,g]}function D(m){return m.props.axis==="both"||m.props.axis==="x"}function d(m){return m.props.axis==="both"||m.props.axis==="y"}function b(m,u,w){var f=typeof u=="number"?(0,o.getTouch)(m,u):null;if(typeof u=="number"&&!f)return null;var g=k(w),y=w.props.offsetParent||g.offsetParent||g.ownerDocument.body;return(0,o.offsetXYFromParent)(f||m,y,w.props.scale)}function c(m,u,w){var f=m.state,g=!(0,r.isNum)(f.lastX),y=k(m);return g?{node:y,deltaX:0,deltaY:0,lastX:u,lastY:w,x:u,y:w}:{node:y,deltaX:u-f.lastX,deltaY:w-f.lastY,lastX:f.lastX,lastY:f.lastY,x:u,y:w}}function x(m,u){var w=m.props.scale;return{node:u.node,x:m.state.x+u.deltaX/w,y:m.state.y+u.deltaY/w,deltaX:u.deltaX/w,deltaY:u.deltaY/w,lastX:m.state.x,lastY:m.state.y}}function h(m){return{left:m.left,top:m.top,right:m.right,bottom:m.bottom}}function k(m){var u=m.findDOMNode();if(!u)throw new Error("<DraggableCore>: Unmounted during event!");return u}},9280:function(H,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.dontSetMe=W,s.findInArray=t,s.int=C,s.isFunction=r,s.isNum=o;function t(D,d){for(var b=0,c=D.length;b<c;b++)if(d.apply(d,[D[b],b,D]))return D[b]}function r(D){return typeof D=="function"||Object.prototype.toString.call(D)==="[object Function]"}function o(D){return typeof D=="number"&&!isNaN(D)}function C(D){return parseInt(D,10)}function W(D,d,b){if(D[d])return new Error("Invalid prop ".concat(d," passed to ").concat(b," - do not set this, set it on the child."))}},18946:function(H,s,t){"use strict";t.r(s),t.d(s,{clsx:function(){return o}});function r(C){var W,D,d="";if(typeof C=="string"||typeof C=="number")d+=C;else if(typeof C=="object")if(Array.isArray(C))for(W=0;W<C.length;W++)C[W]&&(D=r(C[W]))&&(d&&(d+=" "),d+=D);else for(W in C)C[W]&&(d&&(d+=" "),d+=W);return d}function o(){for(var C,W,D=0,d="";D<arguments.length;)(C=arguments[D++])&&(W=r(C))&&(d&&(d+=" "),d+=W);return d}s.default=o},49723:function(H,s,t){"use strict";t.d(s,{PD:function(){return Ye},y$:function(){return p},Nb:function(){return A},Hz:function(){return Ge},GI:function(){return te}});var r=t(97950),o=t(62435);const C=se=>(se||{}).ownerDocument||document,W=se=>(C(se)||{}).defaultView||window,D=se=>se instanceof HTMLElement||se instanceof W(se).HTMLElement,d=se=>se instanceof HTMLCanvasElement||se instanceof W(se).HTMLCanvasElement,b=se=>se,c=se=>{const ne=b(se.closest(".page"));if(!ne||!D(ne))return null;const X=Number(b(ne).dataset.pageNumber);return{node:ne,number:X}},x=se=>{const ne=se.startContainer.parentElement,X=se.endContainer.parentElement;if(!D(ne)||!D(X))return[];const G=c(b(ne)),ie=c(b(X));if(!(G!=null&&G.number)||!(ie!=null&&ie.number))return[];if(G.number===ie.number)return[G];if(G.number===ie.number-1)return[G,ie];const pe=[];let fe=G.number;const Ie=G.node.ownerDocument;for(;fe<=ie.number;){const He=c(Ie.querySelector(`[data-page-number='${fe}'`));He&&pe.push(He),fe++}return pe},h=(se,ne)=>{const X=C(se);let G=se.querySelector(`.${ne}`);return G||(G=X.createElement("div"),G.className=ne,se.appendChild(G)),G},k=(se,{width:ne,height:X})=>({x1:se.left,y1:se.top,x2:se.left+se.width,y2:se.top+se.height,width:ne,height:X,pageNumber:se.pageNumber}),m=(se,ne)=>{const[X,G,ie,pe]=ne.convertToViewportRectangle([se.x1,se.y1,se.x2,se.y2]);return{left:Math.min(X,ie),top:Math.min(G,pe),width:Math.abs(ie-X),height:Math.abs(G-pe),pageNumber:se.pageNumber}},u=(se,ne,X=!1)=>{const{width:G,height:ie}=ne;if(X)return m(se,ne);if(se.x1===void 0)throw new Error("You are using old position format, please update");const pe=G*se.x1/se.width,fe=ie*se.y1/se.height,Ie=G*se.x2/se.width,He=ie*se.y2/se.height;return{left:pe,top:fe,width:Ie-pe,height:He-fe,pageNumber:se.pageNumber}};class w extends o.Component{constructor(){super(...arguments),this.state={locked:!1,start:null,end:null},this.reset=()=>{const{onDragEnd:ne}=this.props;ne(),this.setState({start:null,end:null,locked:!1})}}getBoundingRect(ne,X){return{left:Math.min(X.x,ne.x),top:Math.min(X.y,ne.y),width:Math.abs(X.x-ne.x),height:Math.abs(X.y-ne.y)}}componentDidUpdate(){const{onChange:ne}=this.props,{start:X,end:G}=this.state;ne(!!(X&&G))}componentDidMount(){if(!this.root)return;const ne=this,{onSelection:X,onDragStart:G,onDragEnd:ie,shouldStart:pe}=this.props,fe=b(this.root.parentElement);if(!D(fe))return;let Ie=null;const He=(Ke,Xe)=>(Ie||(Ie=fe.getBoundingClientRect()),{x:Ke-Ie.left+fe.scrollLeft,y:Xe-Ie.top+fe.scrollTop-window.scrollY});fe.addEventListener("mousemove",Ke=>{const{start:Xe,locked:Ze}=this.state;!Xe||Ze||ne.setState(Object.assign(Object.assign({},this.state),{end:He(Ke.pageX,Ke.pageY)}))}),fe.addEventListener("mousedown",Ke=>{if(!pe(Ke)){this.reset();return}const Xe=b(Ke.target);if(!D(Xe))return;G(),this.setState({start:He(Ke.pageX,Ke.pageY),end:null,locked:!1});const Ze=rt=>{var lt;(lt=rt.currentTarget)===null||lt===void 0||lt.removeEventListener("mouseup",Ze);const{start:ft}=this.state;if(!ft)return;const mt=He(rt.pageX,rt.pageY),St=ne.getBoundingRect(ft,mt);if(!D(rt.target)||!fe.contains(b(rt.target))||!ne.shouldRender(St)){ne.reset();return}ne.setState({end:mt,locked:!0},()=>{const{start:pt,end:dt}=ne.state;!pt||!dt||D(rt.target)&&(X(Xe,St,ne.reset),ie())})},{ownerDocument:tt}=fe;tt.body&&tt.body.addEventListener("mouseup",Ze)})}shouldRender(ne){return ne.width>=1&&ne.height>=1}render(){const{start:ne,end:X}=this.state;return o.createElement("div",{className:"MouseSelection-container",ref:G=>{G&&(this.root=G)}},ne&&X?o.createElement("div",{className:"MouseSelection",style:this.getBoundingRect(ne,X)}):null)}}var f=w;const g=(se,ne,X)=>Math.min(Math.max(se,ne),X);class y extends o.Component{constructor(){super(...arguments),this.state={height:0,width:0},this.node=null,this.updatePosition=()=>{if(!this.node)return;const{offsetHeight:ne,offsetWidth:X}=this.node;this.setState({height:ne,width:X})}}componentDidUpdate(ne){this.props.children!==ne.children&&this.updatePosition()}componentDidMount(){setTimeout(this.updatePosition,0)}render(){const{children:ne,style:X,scrollTop:G,pageBoundingRect:ie}=this.props,{height:pe,width:fe}=this.state,Ie=fe===0&&pe===0,He=X.top-pe-5<G,Ke=He?X.bottom+5:X.top-pe-5,Xe=g(X.left-fe/2,0,ie.width-fe),Ze=o.Children.map(ne,tt=>o.cloneElement(tt,{onUpdate:()=>{this.setState({width:0,height:0},()=>{setTimeout(this.updatePosition,0)})},popup:{position:He?"below":"above"}}));return o.createElement("div",{className:"PdfHighlighter__tip-container",style:{visibility:Ie?"hidden":"visible",top:Ke,left:Xe},ref:tt=>{this.node=tt}},Ze)}}var l=y,n=t(6915),a=t(91296),v=t.n(a),I=(se,ne)=>{const{left:X,top:G,width:ie,height:pe}=ne,fe=se?se.ownerDocument:null,Ie=fe&&fe.createElement("canvas");if(!Ie||!d(Ie))return"";Ie.width=ie,Ie.height=pe;const He=Ie.getContext("2d");if(!He||!se)return"";const Ke=window.devicePixelRatio;return He.drawImage(se,X*Ke,G*Ke,ie*Ke,pe*Ke,0,0,ie,pe),Ie.toDataURL("image/png")},E=se=>{const ne=Array.from(se).map(Xe=>{const{left:Ze,top:tt,width:rt,height:lt,pageNumber:ft}=Xe,mt=Ze,St=Ze+rt,pt=tt,dt=tt+lt;return{X0:mt,X1:St,Y0:pt,Y1:dt,pageNumber:ft}});let X=Number.MAX_SAFE_INTEGER;ne.forEach(Xe=>{var Ze;X=Math.min(X,(Ze=Xe.pageNumber)!==null&&Ze!==void 0?Ze:X)});const G=ne.filter(Xe=>(Xe.X0>0||Xe.X1>0||Xe.Y0>0||Xe.Y1>0)&&Xe.pageNumber===X),ie=G.reduce((Xe,Ze)=>({X0:Math.min(Xe.X0,Ze.X0),X1:Math.max(Xe.X1,Ze.X1),Y0:Math.min(Xe.Y0,Ze.Y0),Y1:Math.max(Xe.Y1,Ze.Y1),pageNumber:X}),G[0]),{X0:pe,X1:fe,Y0:Ie,Y1:He,pageNumber:Ke}=ie;return{left:pe,top:Ie,width:fe-pe,height:He-Ie,pageNumber:Ke}};const ee=se=>se.sort((ne,X)=>{const G=(ne.pageNumber||0)*ne.top-(X.pageNumber||0)*X.top;return G===0?ne.left-X.left:G}),K=(se,ne)=>se.pageNumber===ne.pageNumber&&se.left<=ne.left&&ne.left<=se.left+se.width,O=(se,ne,X=5)=>se.pageNumber===ne.pageNumber&&Math.abs(se.top-ne.top)<X&&Math.abs(se.height-ne.height)<X,L=(se,ne)=>se.pageNumber===ne.pageNumber&&se.top>ne.top&&se.left>ne.left&&se.top+se.height<ne.top+ne.height&&se.left+se.width<ne.left+ne.width,T=(se,ne,X=10)=>{const G=se.left+se.width,ie=ne.left+ne.width;return se.pageNumber===ne.pageNumber&&se.left<=ne.left&&G<=ie&&ne.left-G<=X},B=(se,ne)=>{se.width=Math.max(ne.width-se.left+ne.left,se.width)};var P=se=>{const ne=ee(se),X=new Set,G=ne.filter(pe=>ne.every(fe=>!L(pe,fe)));let ie=0;for(;ie<=2;)G.forEach(pe=>{G.forEach(fe=>{pe===fe||X.has(pe)||X.has(fe)||O(pe,fe)&&(K(pe,fe)&&(B(pe,fe),pe.height=Math.max(pe.height,fe.height),X.add(fe)),T(pe,fe)&&(B(pe,fe),X.add(fe)))})}),ie+=1;return G.filter(pe=>!X.has(pe))};const Y=(se,ne)=>!(se.top<ne.top||se.bottom>ne.bottom||se.right>ne.right||se.left<ne.left);var J=(se,ne,X=!0)=>{const G=Array.from(se.getClientRects()),ie=[];for(const pe of G)for(const fe of ne){const Ie=fe.node.getBoundingClientRect();if(Y(pe,Ie)&&pe.width>0&&pe.height>0&&pe.width<Ie.width&&pe.height<Ie.height){const He={top:pe.top+fe.node.scrollTop-Ie.top,left:pe.left+fe.node.scrollLeft-Ie.left,width:pe.width,height:pe.height,pageNumber:fe.number};ie.push(He)}}return X?P(ie):ie},_e=function(se,ne){var X={};for(var G in se)Object.prototype.hasOwnProperty.call(se,G)&&ne.indexOf(G)<0&&(X[G]=se[G]);if(se!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ie=0,G=Object.getOwnPropertySymbols(se);ie<G.length;ie++)ne.indexOf(G[ie])<0&&Object.prototype.propertyIsEnumerable.call(se,G[ie])&&(X[G[ie]]=se[G[ie]]);return X};function z({highlightsByPage:se,scaledPositionToViewport:ne,pageNumber:X,scrolledToHighlightId:G,highlightTransform:ie,tip:pe,hideTipAndSelection:fe,viewer:Ie,screenshot:He,showTip:Ke,setState:Xe}){const Ze=se[String(X)]||[];return o.createElement("div",null,Ze.map((tt,rt)=>{var{position:lt,id:ft}=tt,mt=_e(tt,["position","id"]);const St=Object.assign({id:ft,position:ne(lt)},mt);return pe&&pe.highlight.id===String(ft)&&Ke(pe.highlight,pe.callback(St)),ie(St,rt,(dt,At)=>{Xe({tip:{highlight:dt,callback:At}}),Ke(dt,At(dt))},fe,dt=>{const At=Ie.getPageView((dt.pageNumber||parseInt(X))-1).viewport;return k(dt,At)},dt=>He(dt,parseInt(X)),G===ft)}))}const S="empty-id";class A extends o.PureComponent{constructor(ne){super(ne),this.state={ghostHighlight:null,isCollapsed:!0,range:null,scrolledToHighlightId:S,isAreaSelectionInProgress:!1,tip:null,tipPosition:null,tipChildren:null},this.eventBus=new r.EventBus,this.linkService=new r.PDFLinkService({eventBus:this.eventBus,externalLinkTarget:2}),this.resizeObserver=null,this.containerNode=null,this.highlightRoots={},this.unsubscribe=()=>{},this.attachRef=()=>{var X;const{eventBus:G,resizeObserver:ie}=this,pe=this.containerNode=this.containerNodeRef.current;if(this.unsubscribe(),pe){const{ownerDocument:fe}=pe;G.on("textlayerrendered",this.onTextLayerRendered),G.on("pagesinit",this.onDocumentReady),fe.addEventListener("selectionchange",this.onSelectionChange),fe.addEventListener("keydown",this.handleKeyDown),(X=fe.defaultView)===null||X===void 0||X.addEventListener("resize",this.debouncedScaleValue),ie&&ie.observe(pe),this.unsubscribe=()=>{var Ie;G.off("pagesinit",this.onDocumentReady),G.off("textlayerrendered",this.onTextLayerRendered),fe.removeEventListener("selectionchange",this.onSelectionChange),fe.removeEventListener("keydown",this.handleKeyDown),(Ie=fe.defaultView)===null||Ie===void 0||Ie.removeEventListener("resize",this.debouncedScaleValue),ie&&ie.disconnect()}}},this.hideTipAndSelection=()=>{this.setState({tipPosition:null,tipChildren:null}),this.setState({ghostHighlight:null,tip:null},()=>this.renderHighlightLayers())},this.renderTip=()=>{const{tipPosition:X,tipChildren:G}=this.state;if(!X)return null;const{boundingRect:ie,pageNumber:pe}=X,fe={node:this.viewer.getPageView((ie.pageNumber||pe)-1).div,pageNumber:ie.pageNumber||pe},Ie=fe.node.getBoundingClientRect(),He={bottom:Ie.bottom,height:Ie.height,left:Ie.left,right:Ie.right,top:Ie.top,width:Ie.width,x:Ie.x,y:Ie.y,pageNumber:fe.pageNumber};return o.createElement(l,{scrollTop:this.viewer.container.scrollTop,pageBoundingRect:He,style:{left:fe.node.offsetLeft+ie.left+ie.width/2,top:ie.top+fe.node.offsetTop,bottom:ie.top+fe.node.offsetTop+ie.height}},G)},this.onTextLayerRendered=()=>{this.renderHighlightLayers()},this.scrollTo=X=>{const{pageNumber:G,boundingRect:ie,usePdfCoordinates:pe}=X.position;this.viewer.container.removeEventListener("scroll",this.onScroll);const fe=this.viewer.getPageView(G-1).viewport,Ie=10;this.viewer.scrollPageIntoView({pageNumber:G,destArray:[null,{name:"XYZ"},...fe.convertToPdfPoint(0,u(ie,fe,pe).top-Ie),0]}),this.setState({scrolledToHighlightId:X.id},()=>this.renderHighlightLayers()),setTimeout(()=>{this.viewer.container.addEventListener("scroll",this.onScroll)},100)},this.onDocumentReady=()=>{const{scrollRef:X}=this.props;this.handleScaleValue(),X(this.scrollTo)},this.onSelectionChange=()=>{const X=this.containerNode,G=W(X).getSelection();if(!G)return;const ie=G.rangeCount>0?G.getRangeAt(0):null;if(G.isCollapsed){this.setState({isCollapsed:!0});return}!ie||!X||!X.contains(ie.commonAncestorContainer)||(this.setState({isCollapsed:!1,range:ie}),this.debouncedAfterSelection())},this.onScroll=()=>{const{onScrollChange:X}=this.props;X(),this.setState({scrolledToHighlightId:S},()=>this.renderHighlightLayers()),this.viewer.container.removeEventListener("scroll",this.onScroll)},this.onMouseDown=X=>{D(X.target)&&(b(X.target).closest(".PdfHighlighter__tip-container")||this.hideTipAndSelection())},this.handleKeyDown=X=>{X.code==="Escape"&&this.hideTipAndSelection()},this.afterSelection=()=>{const{onSelectionFinished:X}=this.props,{isCollapsed:G,range:ie}=this.state;if(!ie||G)return;const pe=x(ie);if(!pe||pe.length===0)return;const fe=J(ie,pe);if(fe.length===0)return;const He={boundingRect:E(fe),rects:fe,pageNumber:pe[0].number},Ke={text:ie.toString()},Xe=this.viewportPositionToScaled(He);this.setTip(He,X(Xe,Ke,()=>this.hideTipAndSelection(),()=>this.setState({ghostHighlight:{position:Xe}},()=>this.renderHighlightLayers())))},this.debouncedAfterSelection=v()(this.afterSelection,500),this.handleScaleValue=()=>{this.viewer&&(this.viewer.currentScaleValue=this.props.pdfScaleValue)},this.debouncedScaleValue=v()(this.handleScaleValue,500),typeof ResizeObserver!="undefined"&&(this.resizeObserver=new ResizeObserver(this.debouncedScaleValue)),this.containerNodeRef=o.createRef()}componentDidMount(){this.init()}componentDidUpdate(ne){if(ne.pdfDocument!==this.props.pdfDocument){this.init();return}ne.highlights!==this.props.highlights&&this.renderHighlightLayers()}init(){const{pdfDocument:ne}=this.props;this.attachRef(),this.viewer=this.viewer||new r.PDFViewer({container:this.containerNodeRef.current,eventBus:this.eventBus,textLayerMode:2,removePageBorders:!0,linkService:this.linkService,l10n:r.NullL10n}),this.linkService.setDocument(ne),this.linkService.setViewer(this.viewer),this.viewer.setDocument(ne),window.PdfViewer=this}componentWillUnmount(){this.unsubscribe()}findOrCreateHighlightLayer(ne){const{textLayer:X}=this.viewer.getPageView(ne-1)||{};return X?h(X.textLayerDiv,"PdfHighlighter__highlight-layer"):null}groupHighlightsByPage(ne){const{ghostHighlight:X}=this.state,G=[...ne,X].filter(Boolean),ie=new Set;for(const fe of G){ie.add(fe.position.pageNumber);for(const Ie of fe.position.rects)Ie.pageNumber&&ie.add(Ie.pageNumber)}const pe={};for(const fe of ie){pe[fe]=pe[fe]||[];for(const Ie of G){const He=Object.assign(Object.assign({},Ie),{position:{pageNumber:fe,boundingRect:Ie.position.boundingRect,rects:[],usePdfCoordinates:Ie.position.usePdfCoordinates}});let Ke=!1;for(const Xe of Ie.position.rects)fe===(Xe.pageNumber||Ie.position.pageNumber)&&(He.position.rects.push(Xe),Ke=!0);(Ke||fe===Ie.position.pageNumber)&&pe[fe].push(He)}}return pe}showTip(ne,X){const{isCollapsed:G,ghostHighlight:ie,isAreaSelectionInProgress:pe}=this.state;!G||ie||pe||this.setTip(ne.position,X)}scaledPositionToViewport({pageNumber:ne,boundingRect:X,rects:G,usePdfCoordinates:ie}){const pe=this.viewer.getPageView(ne-1).viewport;return{boundingRect:u(X,pe,ie),rects:(G||[]).map(fe=>u(fe,pe,ie)),pageNumber:ne}}viewportPositionToScaled({pageNumber:ne,boundingRect:X,rects:G}){const ie=this.viewer.getPageView(ne-1).viewport;return{boundingRect:k(X,ie),rects:(G||[]).map(pe=>k(pe,ie)),pageNumber:ne}}screenshot(ne,X){const G=this.viewer.getPageView(X-1).canvas;return I(G,ne)}setTip(ne,X){this.setState({tipPosition:ne,tipChildren:X})}toggleTextSelection(ne){this.viewer.viewer.classList.toggle("PdfHighlighter--disable-selection",ne)}render(){const{onSelectionFinished:ne,enableAreaSelection:X}=this.props;return o.createElement("div",{onPointerDown:this.onMouseDown},o.createElement("div",{ref:this.containerNodeRef,className:"PdfHighlighter",onContextMenu:G=>G.preventDefault()},o.createElement("div",{className:"pdfViewer"}),this.renderTip(),typeof X=="function"?o.createElement(f,{onDragStart:()=>this.toggleTextSelection(!0),onDragEnd:()=>this.toggleTextSelection(!1),onChange:G=>this.setState({isAreaSelectionInProgress:G}),shouldStart:G=>X(G)&&D(G.target)&&!!b(G.target).closest(".page"),onSelection:(G,ie,pe)=>{const fe=c(G);if(!fe)return;const Ie=Object.assign(Object.assign({},ie),{top:ie.top-fe.node.offsetTop,left:ie.left-fe.node.offsetLeft,pageNumber:fe.number}),He={boundingRect:Ie,rects:[],pageNumber:fe.number},Ke=this.viewportPositionToScaled(He),Xe=this.screenshot(Ie,Ie.pageNumber);this.setTip(He,ne(Ke,{image:Xe},()=>this.hideTipAndSelection(),()=>{console.log("setting ghost highlight",Ke),this.setState({ghostHighlight:{position:Ke,content:{image:Xe}}},()=>{pe(),this.renderHighlightLayers()})}))}}):null))}renderHighlightLayers(){const{pdfDocument:ne}=this.props;for(let X=1;X<=ne.numPages;X++){const G=this.highlightRoots[X];if(G&&G.container.isConnected)this.renderHighlightLayer(G.reactRoot,X);else{const ie=this.findOrCreateHighlightLayer(X);if(ie){const pe=(0,n.createRoot)(ie);this.highlightRoots[X]={reactRoot:pe,container:ie},this.renderHighlightLayer(pe,X)}}}}renderHighlightLayer(ne,X){const{highlightTransform:G,highlights:ie}=this.props,{tip:pe,scrolledToHighlightId:fe}=this.state;ne.render(o.createElement(z,{highlightsByPage:this.groupHighlightsByPage(ie),pageNumber:X.toString(),scrolledToHighlightId:fe,highlightTransform:G,tip:pe,scaledPositionToViewport:this.scaledPositionToViewport.bind(this),hideTipAndSelection:this.hideTipAndSelection.bind(this),viewer:this.viewer,screenshot:this.screenshot.bind(this),showTip:this.showTip.bind(this),setState:this.setState.bind(this)}))}}A.defaultProps={pdfScaleValue:"auto"};class j extends null{constructor(){super(...arguments),this.state={compact:!0,text:"",emoji:""}}componentDidUpdate(ne,X){const{onUpdate:G}=this.props;G&&this.state.compact!==X.compact&&G()}render(){const{onConfirm:ne,onOpen:X}=this.props,{compact:G,text:ie,emoji:pe}=this.state;return React.createElement("div",{className:"Tip"},G?React.createElement("div",{className:"Tip__compact",onClick:()=>{X(),this.setState({compact:!1})}},"Add highlight"):React.createElement("form",{className:"Tip__card",onSubmit:fe=>{fe.preventDefault(),ne({text:ie,emoji:pe})}},React.createElement("div",null,React.createElement("textarea",{placeholder:"Your comment",autoFocus:!0,value:ie,onChange:fe=>this.setState({text:fe.target.value}),ref:fe=>{fe&&fe.focus()}}),React.createElement("div",null,["\u{1F4A9}","\u{1F631}","\u{1F60D}","\u{1F525}","\u{1F633}","\u26A0\uFE0F"].map(fe=>React.createElement("label",{key:fe},React.createElement("input",{checked:pe===fe,type:"radio",name:"emoji",value:fe,onChange:Ie=>this.setState({emoji:Ie.target.value})}),fe)))),React.createElement("div",null,React.createElement("input",{type:"submit",value:"Save"}))))}}var $=null;class p extends o.Component{render(){const{position:ne,onClick:X,onMouseOver:G,onMouseOut:ie,comment:pe,isScrolledTo:fe}=this.props,{rects:Ie,boundingRect:He}=ne;return o.createElement("div",{className:`Highlight ${fe?"Highlight--scrolledTo":""}`},pe?o.createElement("div",{className:"Highlight__emoji",style:{left:20,top:He.top}},pe.emoji):null,o.createElement("div",{className:"Highlight__parts"},Ie.map((Ke,Xe)=>o.createElement("div",{onMouseOver:G,onMouseOut:ie,onClick:X,key:Xe,style:Ke,className:"Highlight__part"}))))}}var R=null,F=function(se,ne){var X={};for(var G in se)Object.prototype.hasOwnProperty.call(se,G)&&ne.indexOf(G)<0&&(X[G]=se[G]);if(se!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ie=0,G=Object.getOwnPropertySymbols(se);ie<G.length;ie++)ne.indexOf(G[ie])<0&&Object.prototype.propertyIsEnumerable.call(se,G[ie])&&(X[G[ie]]=se[G[ie]]);return X};class U extends o.Component{constructor(){super(...arguments),this.container=null,this.unsubscribe=()=>{},this.onMouseMove=ne=>{if(!this.container)return;const{onMoveAway:X,paddingX:G,paddingY:ie}=this.props,{clientX:pe,clientY:fe}=ne,{left:Ie,top:He,width:Ke,height:Xe}=this.container.getBoundingClientRect(),Ze=pe>Ie-G&&pe<Ie+Ke+G,tt=fe>He-ie&&fe<He+Xe+ie;Ze&&tt||X()},this.attachRef=ne=>{if(this.container=ne,this.unsubscribe(),ne){const{ownerDocument:X}=ne;X.addEventListener("mousemove",this.onMouseMove),this.unsubscribe=()=>{X.removeEventListener("mousemove",this.onMouseMove)}}}}render(){const ne=this.props,{onMoveAway:X,paddingX:G,paddingY:ie,children:pe}=ne,fe=F(ne,["onMoveAway","paddingX","paddingY","children"]);return o.createElement("div",{ref:this.attachRef},o.cloneElement(pe,fe))}}var q=U;class te extends o.Component{constructor(){super(...arguments),this.state={mouseIn:!1}}render(){const{onMouseOver:ne,popupContent:X,onMouseOut:G}=this.props;return o.createElement("div",{onMouseOver:()=>{this.setState({mouseIn:!0}),ne(o.createElement(q,{onMoveAway:()=>{this.state.mouseIn||G()},paddingX:60,paddingY:30,children:X}))},onMouseOut:()=>{this.setState({mouseIn:!1})}},this.props.children)}}var le=null,ge=t(61193),Se=t.n(ge),Ae=function(){var se=function(ne,X){return se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,ie){G.__proto__=ie}||function(G,ie){for(var pe in ie)Object.prototype.hasOwnProperty.call(ie,pe)&&(G[pe]=ie[pe])},se(ne,X)};return function(ne,X){se(ne,X);function G(){this.constructor=ne}ne.prototype=X===null?Object.create(X):(G.prototype=X.prototype,new G)}}(),Pe=function(){return Pe=Object.assign||function(se){for(var ne,X=1,G=arguments.length;X<G;X++){ne=arguments[X];for(var ie in ne)Object.prototype.hasOwnProperty.call(ne,ie)&&(se[ie]=ne[ie])}return se},Pe.apply(this,arguments)},Ee={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}},ke=function(se){Ae(ne,se);function ne(){var X=se!==null&&se.apply(this,arguments)||this;return X.onMouseDown=function(G){X.props.onResizeStart(G,X.props.direction)},X.onTouchStart=function(G){X.props.onResizeStart(G,X.props.direction)},X}return ne.prototype.render=function(){return o.createElement("div",{className:this.props.className||"",style:Pe(Pe({position:"absolute",userSelect:"none"},Ee[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},ne}(o.PureComponent),Be=t(53316),Ue=t.n(Be),$e=function(){var se=function(ne,X){return se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,ie){G.__proto__=ie}||function(G,ie){for(var pe in ie)Object.prototype.hasOwnProperty.call(ie,pe)&&(G[pe]=ie[pe])},se(ne,X)};return function(ne,X){se(ne,X);function G(){this.constructor=ne}ne.prototype=X===null?Object.create(X):(G.prototype=X.prototype,new G)}}(),qe=function(){return qe=Object.assign||function(se){for(var ne,X=1,G=arguments.length;X<G;X++){ne=arguments[X];for(var ie in ne)Object.prototype.hasOwnProperty.call(ne,ie)&&(se[ie]=ne[ie])}return se},qe.apply(this,arguments)},We={width:"auto",height:"auto"},Oe=Ue()(function(se,ne,X){return Math.max(Math.min(se,X),ne)}),Ne=Ue()(function(se,ne){return Math.round(se/ne)*ne}),ze=Ue()(function(se,ne){return new RegExp(se,"i").test(ne)}),xe=function(se){return!!(se.touches&&se.touches.length)},he=function(se){return!!((se.clientX||se.clientX===0)&&(se.clientY||se.clientY===0))},ye=Ue()(function(se,ne,X){X===void 0&&(X=0);var G=ne.reduce(function(pe,fe,Ie){return Math.abs(fe-se)<Math.abs(ne[pe]-se)?Ie:pe},0),ie=Math.abs(ne[G]-se);return X===0||ie<X?ne[G]:se}),Q=Ue()(function(se,ne){return se.substr(se.length-ne.length,ne.length)===ne}),ve=Ue()(function(se){return se=se.toString(),se==="auto"||Q(se,"px")||Q(se,"%")||Q(se,"vh")||Q(se,"vw")||Q(se,"vmax")||Q(se,"vmin")?se:se+"px"}),oe=function(se,ne,X,G){if(se&&typeof se=="string"){if(Q(se,"px"))return Number(se.replace("px",""));if(Q(se,"%")){var ie=Number(se.replace("%",""))/100;return ne*ie}if(Q(se,"vw")){var ie=Number(se.replace("vw",""))/100;return X*ie}if(Q(se,"vh")){var ie=Number(se.replace("vh",""))/100;return G*ie}}return se},Te=Ue()(function(se,ne,X,G,ie,pe,fe){return G=oe(G,se.width,ne,X),ie=oe(ie,se.height,ne,X),pe=oe(pe,se.width,ne,X),fe=oe(fe,se.height,ne,X),{maxWidth:typeof G=="undefined"?void 0:Number(G),maxHeight:typeof ie=="undefined"?void 0:Number(ie),minWidth:typeof pe=="undefined"?void 0:Number(pe),minHeight:typeof fe=="undefined"?void 0:Number(fe)}}),Fe=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],me="__resizable_base__",ae=function(se){$e(ne,se);function ne(X){var G=se.call(this,X)||this;return G.ratio=1,G.resizable=null,G.parentLeft=0,G.parentTop=0,G.resizableLeft=0,G.resizableRight=0,G.resizableTop=0,G.resizableBottom=0,G.targetLeft=0,G.targetTop=0,G.appendBase=function(){if(!G.resizable||!G.window)return null;var ie=G.parentNode;if(!ie)return null;var pe=G.window.document.createElement("div");return pe.style.width="100%",pe.style.height="100%",pe.style.position="absolute",pe.style.transform="scale(0, 0)",pe.style.left="0",pe.style.flex="0 0 100%",pe.classList?pe.classList.add(me):pe.className+=me,ie.appendChild(pe),pe},G.removeBase=function(ie){var pe=G.parentNode;pe&&pe.removeChild(ie)},G.ref=function(ie){ie&&(G.resizable=ie)},G.state={isResizing:!1,width:typeof(G.propsSize&&G.propsSize.width)=="undefined"?"auto":G.propsSize&&G.propsSize.width,height:typeof(G.propsSize&&G.propsSize.height)=="undefined"?"auto":G.propsSize&&G.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},G.onResizeStart=G.onResizeStart.bind(G),G.onMouseMove=G.onMouseMove.bind(G),G.onMouseUp=G.onMouseUp.bind(G),G}return Object.defineProperty(ne.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(ne.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(ne.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||We},enumerable:!1,configurable:!0}),Object.defineProperty(ne.prototype,"size",{get:function(){var X=0,G=0;if(this.resizable&&this.window){var ie=this.resizable.offsetWidth,pe=this.resizable.offsetHeight,fe=this.resizable.style.position;fe!=="relative"&&(this.resizable.style.position="relative"),X=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:ie,G=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:pe,this.resizable.style.position=fe}return{width:X,height:G}},enumerable:!1,configurable:!0}),Object.defineProperty(ne.prototype,"sizeStyle",{get:function(){var X=this,G=this.props.size,ie=function(Ie){if(typeof X.state[Ie]=="undefined"||X.state[Ie]==="auto")return"auto";if(X.propsSize&&X.propsSize[Ie]&&Q(X.propsSize[Ie].toString(),"%")){if(Q(X.state[Ie].toString(),"%"))return X.state[Ie].toString();var He=X.getParentSize(),Ke=Number(X.state[Ie].toString().replace("px","")),Xe=Ke/He[Ie]*100;return Xe+"%"}return ve(X.state[Ie])},pe=G&&typeof G.width!="undefined"&&!this.state.isResizing?ve(G.width):ie("width"),fe=G&&typeof G.height!="undefined"&&!this.state.isResizing?ve(G.height):ie("height");return{width:pe,height:fe}},enumerable:!1,configurable:!0}),ne.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var X=this.appendBase();if(!X)return{width:0,height:0};var G=!1,ie=this.parentNode.style.flexWrap;ie!=="wrap"&&(G=!0,this.parentNode.style.flexWrap="wrap"),X.style.position="relative",X.style.minWidth="100%",X.style.minHeight="100%";var pe={width:X.offsetWidth,height:X.offsetHeight};return G&&(this.parentNode.style.flexWrap=ie),this.removeBase(X),pe},ne.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},ne.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},ne.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var X=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:X.flexBasis!=="auto"?X.flexBasis:void 0})}},ne.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},ne.prototype.createSizeForCssProperty=function(X,G){var ie=this.propsSize&&this.propsSize[G];return this.state[G]==="auto"&&this.state.original[G]===X&&(typeof ie=="undefined"||ie==="auto")?"auto":X},ne.prototype.calculateNewMaxFromBoundary=function(X,G){var ie=this.props.boundsByDirection,pe=this.state.direction,fe=ie&&ze("left",pe),Ie=ie&&ze("top",pe),He,Ke;if(this.props.bounds==="parent"){var Xe=this.parentNode;Xe&&(He=fe?this.resizableRight-this.parentLeft:Xe.offsetWidth+(this.parentLeft-this.resizableLeft),Ke=Ie?this.resizableBottom-this.parentTop:Xe.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(He=fe?this.resizableRight:this.window.innerWidth-this.resizableLeft,Ke=Ie?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(He=fe?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),Ke=Ie?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return He&&Number.isFinite(He)&&(X=X&&X<He?X:He),Ke&&Number.isFinite(Ke)&&(G=G&&G<Ke?G:Ke),{maxWidth:X,maxHeight:G}},ne.prototype.calculateNewSizeFromDirection=function(X,G){var ie=this.props.scale||1,pe=this.props.resizeRatio||1,fe=this.state,Ie=fe.direction,He=fe.original,Ke=this.props,Xe=Ke.lockAspectRatio,Ze=Ke.lockAspectRatioExtraHeight,tt=Ke.lockAspectRatioExtraWidth,rt=He.width,lt=He.height,ft=Ze||0,mt=tt||0;return ze("right",Ie)&&(rt=He.width+(X-He.x)*pe/ie,Xe&&(lt=(rt-mt)/this.ratio+ft)),ze("left",Ie)&&(rt=He.width-(X-He.x)*pe/ie,Xe&&(lt=(rt-mt)/this.ratio+ft)),ze("bottom",Ie)&&(lt=He.height+(G-He.y)*pe/ie,Xe&&(rt=(lt-ft)*this.ratio+mt)),ze("top",Ie)&&(lt=He.height-(G-He.y)*pe/ie,Xe&&(rt=(lt-ft)*this.ratio+mt)),{newWidth:rt,newHeight:lt}},ne.prototype.calculateNewSizeFromAspectRatio=function(X,G,ie,pe){var fe=this.props,Ie=fe.lockAspectRatio,He=fe.lockAspectRatioExtraHeight,Ke=fe.lockAspectRatioExtraWidth,Xe=typeof pe.width=="undefined"?10:pe.width,Ze=typeof ie.width=="undefined"||ie.width<0?X:ie.width,tt=typeof pe.height=="undefined"?10:pe.height,rt=typeof ie.height=="undefined"||ie.height<0?G:ie.height,lt=He||0,ft=Ke||0;if(Ie){var mt=(tt-lt)*this.ratio+ft,St=(rt-lt)*this.ratio+ft,pt=(Xe-ft)/this.ratio+lt,dt=(Ze-ft)/this.ratio+lt,At=Math.max(Xe,mt),Ct=Math.min(Ze,St),kt=Math.max(tt,pt),Mt=Math.min(rt,dt);X=Oe(X,At,Ct),G=Oe(G,kt,Mt)}else X=Oe(X,Xe,Ze),G=Oe(G,tt,rt);return{newWidth:X,newHeight:G}},ne.prototype.setBoundingClientRect=function(){if(this.props.bounds==="parent"){var X=this.parentNode;if(X){var G=X.getBoundingClientRect();this.parentLeft=G.left,this.parentTop=G.top}}if(this.props.bounds&&typeof this.props.bounds!="string"){var ie=this.props.bounds.getBoundingClientRect();this.targetLeft=ie.left,this.targetTop=ie.top}if(this.resizable){var pe=this.resizable.getBoundingClientRect(),fe=pe.left,Ie=pe.top,He=pe.right,Ke=pe.bottom;this.resizableLeft=fe,this.resizableRight=He,this.resizableTop=Ie,this.resizableBottom=Ke}},ne.prototype.onResizeStart=function(X,G){if(!(!this.resizable||!this.window)){var ie=0,pe=0;if(X.nativeEvent&&he(X.nativeEvent)?(ie=X.nativeEvent.clientX,pe=X.nativeEvent.clientY):X.nativeEvent&&xe(X.nativeEvent)&&(ie=X.nativeEvent.touches[0].clientX,pe=X.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var fe=this.props.onResizeStart(X,G,this.resizable);if(fe===!1)return}this.props.size&&(typeof this.props.size.height!="undefined"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width!="undefined"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var Ie,He=this.window.getComputedStyle(this.resizable);if(He.flexBasis!=="auto"){var Ke=this.parentNode;if(Ke){var Xe=this.window.getComputedStyle(Ke).flexDirection;this.flexDir=Xe.startsWith("row")?"row":"column",Ie=He.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var Ze={original:{x:ie,y:pe,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:qe(qe({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(X.target).cursor||"auto"}),direction:G,flexBasis:Ie};this.setState(Ze)}},ne.prototype.onMouseMove=function(X){if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&xe(X))try{X.preventDefault(),X.stopPropagation()}catch(on){}var G=this.props,ie=G.maxWidth,pe=G.maxHeight,fe=G.minWidth,Ie=G.minHeight,He=xe(X)?X.touches[0].clientX:X.clientX,Ke=xe(X)?X.touches[0].clientY:X.clientY,Xe=this.state,Ze=Xe.direction,tt=Xe.original,rt=Xe.width,lt=Xe.height,ft=this.getParentSize(),mt=Te(ft,this.window.innerWidth,this.window.innerHeight,ie,pe,fe,Ie);ie=mt.maxWidth,pe=mt.maxHeight,fe=mt.minWidth,Ie=mt.minHeight;var St=this.calculateNewSizeFromDirection(He,Ke),pt=St.newHeight,dt=St.newWidth,At=this.calculateNewMaxFromBoundary(ie,pe);this.props.snap&&this.props.snap.x&&(dt=ye(dt,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(pt=ye(pt,this.props.snap.y,this.props.snapGap));var Ct=this.calculateNewSizeFromAspectRatio(dt,pt,{width:At.maxWidth,height:At.maxHeight},{width:fe,height:Ie});if(dt=Ct.newWidth,pt=Ct.newHeight,this.props.grid){var kt=Ne(dt,this.props.grid[0]),Mt=Ne(pt,this.props.grid[1]),_t=this.props.snapGap||0;dt=_t===0||Math.abs(kt-dt)<=_t?kt:dt,pt=_t===0||Math.abs(Mt-pt)<=_t?Mt:pt}var Lt={width:dt-tt.width,height:pt-tt.height};if(rt&&typeof rt=="string"){if(Q(rt,"%")){var Tt=dt/ft.width*100;dt=Tt+"%"}else if(Q(rt,"vw")){var It=dt/this.window.innerWidth*100;dt=It+"vw"}else if(Q(rt,"vh")){var yt=dt/this.window.innerHeight*100;dt=yt+"vh"}}if(lt&&typeof lt=="string"){if(Q(lt,"%")){var Tt=pt/ft.height*100;pt=Tt+"%"}else if(Q(lt,"vw")){var It=pt/this.window.innerWidth*100;pt=It+"vw"}else if(Q(lt,"vh")){var yt=pt/this.window.innerHeight*100;pt=yt+"vh"}}var xt={width:this.createSizeForCssProperty(dt,"width"),height:this.createSizeForCssProperty(pt,"height")};this.flexDir==="row"?xt.flexBasis=xt.width:this.flexDir==="column"&&(xt.flexBasis=xt.height),this.setState(xt),this.props.onResize&&this.props.onResize(X,Ze,this.resizable,Lt)}},ne.prototype.onMouseUp=function(X){var G=this.state,ie=G.isResizing,pe=G.direction,fe=G.original;if(!(!ie||!this.resizable)){var Ie={width:this.size.width-fe.width,height:this.size.height-fe.height};this.props.onResizeStop&&this.props.onResizeStop(X,pe,this.resizable,Ie),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:qe(qe({},this.state.backgroundStyle),{cursor:"auto"})})}},ne.prototype.updateSize=function(X){this.setState({width:X.width,height:X.height})},ne.prototype.renderResizer=function(){var X=this,G=this.props,ie=G.enable,pe=G.handleStyles,fe=G.handleClasses,Ie=G.handleWrapperStyle,He=G.handleWrapperClass,Ke=G.handleComponent;if(!ie)return null;var Xe=Object.keys(ie).map(function(Ze){return ie[Ze]!==!1?o.createElement(ke,{key:Ze,direction:Ze,onResizeStart:X.onResizeStart,replaceStyles:pe&&pe[Ze],className:fe&&fe[Ze]},Ke&&Ke[Ze]?Ke[Ze]:null):null});return o.createElement("div",{className:He,style:Ie},Xe)},ne.prototype.render=function(){var X=this,G=Object.keys(this.props).reduce(function(fe,Ie){return Fe.indexOf(Ie)!==-1||(fe[Ie]=X.props[Ie]),fe},{}),ie=qe(qe(qe({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(ie.flexBasis=this.state.flexBasis);var pe=this.props.as||"div";return o.createElement(pe,qe({ref:this.ref,style:ie,className:this.props.className},G),this.state.isResizing&&o.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},ne.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},ne}(o.PureComponent);var ue=function(se,ne){return ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,G){X.__proto__=G}||function(X,G){for(var ie in G)G.hasOwnProperty(ie)&&(X[ie]=G[ie])},ue(se,ne)};function Me(se,ne){ue(se,ne);function X(){this.constructor=se}se.prototype=ne===null?Object.create(ne):(X.prototype=ne.prototype,new X)}var je=function(){return je=Object.assign||function(ne){for(var X,G=1,ie=arguments.length;G<ie;G++){X=arguments[G];for(var pe in X)Object.prototype.hasOwnProperty.call(X,pe)&&(ne[pe]=X[pe])}return ne},je.apply(this,arguments)};function Re(se,ne){var X={};for(var G in se)Object.prototype.hasOwnProperty.call(se,G)&&ne.indexOf(G)<0&&(X[G]=se[G]);if(se!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ie=0,G=Object.getOwnPropertySymbols(se);ie<G.length;ie++)ne.indexOf(G[ie])<0&&Object.prototype.propertyIsEnumerable.call(se,G[ie])&&(X[G[ie]]=se[G[ie]]);return X}var ce=Se(),de={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},Ce=function(se){return{bottom:se,bottomLeft:se,bottomRight:se,left:se,right:se,top:se,topLeft:se,topRight:se}},De=function(se){Me(ne,se);function ne(X){var G=se.call(this,X)||this;return G.resizingPosition={x:0,y:0},G.offsetFromParent={left:0,top:0},G.resizableElement={current:null},G.originalPosition={x:0,y:0},G.refDraggable=function(ie){ie&&(G.draggable=ie)},G.refResizable=function(ie){ie&&(G.resizable=ie,G.resizableElement.current=ie.resizable)},G.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:X.maxWidth,maxHeight:X.maxHeight},G.onResizeStart=G.onResizeStart.bind(G),G.onResize=G.onResize.bind(G),G.onResizeStop=G.onResizeStop.bind(G),G.onDragStart=G.onDragStart.bind(G),G.onDrag=G.onDrag.bind(G),G.onDragStop=G.onDragStop.bind(G),G.getMaxSizesFromProps=G.getMaxSizesFromProps.bind(G),G}return ne.prototype.componentDidMount=function(){this.updateOffsetFromParent();var X=this.offsetFromParent,G=X.left,ie=X.top,pe=this.getDraggablePosition(),fe=pe.x,Ie=pe.y;this.draggable.setState({x:fe-G,y:Ie-ie}),this.forceUpdate()},ne.prototype.getDraggablePosition=function(){var X=this.draggable.state,G=X.x,ie=X.y;return{x:G,y:ie}},ne.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},ne.prototype.getParentSize=function(){return this.resizable.getParentSize()},ne.prototype.getMaxSizesFromProps=function(){var X=typeof this.props.maxWidth=="undefined"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,G=typeof this.props.maxHeight=="undefined"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:X,maxHeight:G}},ne.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},ne.prototype.getOffsetHeight=function(X){var G=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/G;case"body":return document.body.offsetHeight/G;default:return X.offsetHeight}},ne.prototype.getOffsetWidth=function(X){var G=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/G;case"body":return document.body.offsetWidth/G;default:return X.offsetWidth}},ne.prototype.onDragStart=function(X,G){this.props.onDragStart&&this.props.onDragStart(X,G);var ie=this.getDraggablePosition();if(this.originalPosition=ie,!!this.props.bounds){var pe=this.getParent(),fe=this.props.scale,Ie;if(this.props.bounds==="parent")Ie=pe;else if(this.props.bounds==="body"){var He=pe.getBoundingClientRect(),Ke=He.left,Xe=He.top,Ze=document.body.getBoundingClientRect(),tt=-(Ke-pe.offsetLeft*fe-Ze.left)/fe,rt=-(Xe-pe.offsetTop*fe-Ze.top)/fe,lt=(document.body.offsetWidth-this.resizable.size.width*fe)/fe+tt,ft=(document.body.offsetHeight-this.resizable.size.height*fe)/fe+rt;return this.setState({bounds:{top:rt,right:lt,bottom:ft,left:tt}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var mt=pe.getBoundingClientRect(),St=mt.left,pt=mt.top,dt=-(St-pe.offsetLeft*fe)/fe,At=-(pt-pe.offsetTop*fe)/fe,lt=(window.innerWidth-this.resizable.size.width*fe)/fe+dt,ft=(window.innerHeight-this.resizable.size.height*fe)/fe+At;return this.setState({bounds:{top:At,right:lt,bottom:ft,left:dt}})}else typeof this.props.bounds=="string"?Ie=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(Ie=this.props.bounds);if(!(!(Ie instanceof HTMLElement)||!(pe instanceof HTMLElement))){var Ct=Ie.getBoundingClientRect(),kt=Ct.left,Mt=Ct.top,_t=pe.getBoundingClientRect(),Lt=_t.left,Tt=_t.top,It=(kt-Lt)/fe,yt=Mt-Tt;if(this.resizable){this.updateOffsetFromParent();var xt=this.offsetFromParent;this.setState({bounds:{top:yt-xt.top,right:It+(Ie.offsetWidth-this.resizable.size.width)-xt.left/fe,bottom:yt+(Ie.offsetHeight-this.resizable.size.height)-xt.top,left:It-xt.left/fe}})}}}},ne.prototype.onDrag=function(X,G){if(this.props.onDrag){var ie=this.offsetFromParent,pe=ie.left,fe=ie.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(X,je(je({},G),{x:G.x-pe,y:G.y-fe}));if(this.props.dragAxis==="x")return this.props.onDrag(X,je(je({},G),{x:G.x+pe,y:this.originalPosition.y+fe,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(X,je(je({},G),{x:this.originalPosition.x+pe,y:G.y+fe,deltaX:0}))}},ne.prototype.onDragStop=function(X,G){if(this.props.onDragStop){var ie=this.offsetFromParent,pe=ie.left,fe=ie.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(X,je(je({},G),{x:G.x+pe,y:G.y+fe}));if(this.props.dragAxis==="x")return this.props.onDragStop(X,je(je({},G),{x:G.x+pe,y:this.originalPosition.y+fe,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(X,je(je({},G),{x:this.originalPosition.x+pe,y:G.y+fe,deltaX:0}))}},ne.prototype.onResizeStart=function(X,G,ie){X.stopPropagation(),this.setState({resizing:!0});var pe=this.props.scale,fe=this.offsetFromParent,Ie=this.getDraggablePosition();if(this.resizingPosition={x:Ie.x+fe.left,y:Ie.y+fe.top},this.originalPosition=Ie,this.props.bounds){var He=this.getParent(),Ke=void 0;this.props.bounds==="parent"?Ke=He:this.props.bounds==="body"?Ke=document.body:this.props.bounds==="window"?Ke=window:typeof this.props.bounds=="string"?Ke=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(Ke=this.props.bounds);var Xe=this.getSelfElement();if(Xe instanceof Element&&(Ke instanceof HTMLElement||Ke===window)&&He instanceof HTMLElement){var Ze=this.getMaxSizesFromProps(),tt=Ze.maxWidth,rt=Ze.maxHeight,lt=this.getParentSize();if(tt&&typeof tt=="string")if(tt.endsWith("%")){var ft=Number(tt.replace("%",""))/100;tt=lt.width*ft}else tt.endsWith("px")&&(tt=Number(tt.replace("px","")));if(rt&&typeof rt=="string")if(rt.endsWith("%")){var ft=Number(rt.replace("%",""))/100;rt=lt.width*ft}else rt.endsWith("px")&&(rt=Number(rt.replace("px","")));var mt=Xe.getBoundingClientRect(),St=mt.left,pt=mt.top,dt=this.props.bounds==="window"?{left:0,top:0}:Ke.getBoundingClientRect(),At=dt.left,Ct=dt.top,kt=this.getOffsetWidth(Ke),Mt=this.getOffsetHeight(Ke),_t=G.toLowerCase().endsWith("left"),Lt=G.toLowerCase().endsWith("right"),Tt=G.startsWith("top"),It=G.startsWith("bottom");if((_t||Tt)&&this.resizable){var yt=(St-At)/pe+this.resizable.size.width;this.setState({maxWidth:yt>Number(tt)?tt:yt})}if(Lt||this.props.lockAspectRatio&&!_t&&!Tt){var yt=kt+(At-St)/pe;this.setState({maxWidth:yt>Number(tt)?tt:yt})}if((Tt||_t)&&this.resizable){var yt=(pt-Ct)/pe+this.resizable.size.height;this.setState({maxHeight:yt>Number(rt)?rt:yt})}if(It||this.props.lockAspectRatio&&!Tt&&!_t){var yt=Mt+(Ct-pt)/pe;this.setState({maxHeight:yt>Number(rt)?rt:yt})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(X,G,ie)},ne.prototype.onResize=function(X,G,ie,pe){var fe={x:this.originalPosition.x,y:this.originalPosition.y},Ie=-pe.width,He=-pe.height,Ke=["top","left","topLeft","bottomLeft","topRight"];Ke.indexOf(G)!==-1&&(G==="bottomLeft"?fe.x+=Ie:(G==="topRight"||(fe.x+=Ie),fe.y+=He)),(fe.x!==this.draggable.state.x||fe.y!==this.draggable.state.y)&&this.draggable.setState(fe),this.updateOffsetFromParent();var Xe=this.offsetFromParent,Ze=this.getDraggablePosition().x+Xe.left,tt=this.getDraggablePosition().y+Xe.top;this.resizingPosition={x:Ze,y:tt},this.props.onResize&&this.props.onResize(X,G,ie,pe,{x:Ze,y:tt})},ne.prototype.onResizeStop=function(X,G,ie,pe){this.setState({resizing:!1});var fe=this.getMaxSizesFromProps(),Ie=fe.maxWidth,He=fe.maxHeight;this.setState({maxWidth:Ie,maxHeight:He}),this.props.onResizeStop&&this.props.onResizeStop(X,G,ie,pe,this.resizingPosition)},ne.prototype.updateSize=function(X){this.resizable&&this.resizable.updateSize({width:X.width,height:X.height})},ne.prototype.updatePosition=function(X){this.draggable.setState(X)},ne.prototype.updateOffsetFromParent=function(){var X=this.props.scale,G=this.getParent(),ie=this.getSelfElement();if(!G||ie===null)return{top:0,left:0};var pe=G.getBoundingClientRect(),fe=pe.left,Ie=pe.top,He=ie.getBoundingClientRect(),Ke=this.getDraggablePosition(),Xe=G.scrollLeft,Ze=G.scrollTop;this.offsetFromParent={left:He.left-fe+Xe-Ke.x*X,top:He.top-Ie+Ze-Ke.y*X}},ne.prototype.render=function(){var X=this.props,G=X.disableDragging,ie=X.style,pe=X.dragHandleClassName,fe=X.position,Ie=X.onMouseDown,He=X.onMouseUp,Ke=X.dragAxis,Xe=X.dragGrid,Ze=X.bounds,tt=X.enableUserSelectHack,rt=X.cancel,lt=X.children,ft=X.onResizeStart,mt=X.onResize,St=X.onResizeStop,pt=X.onDragStart,dt=X.onDrag,At=X.onDragStop,Ct=X.resizeHandleStyles,kt=X.resizeHandleClasses,Mt=X.resizeHandleComponent,_t=X.enableResizing,Lt=X.resizeGrid,Tt=X.resizeHandleWrapperClass,It=X.resizeHandleWrapperStyle,yt=X.scale,xt=X.allowAnyClick,on=Re(X,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick"]),Ht=this.props.default?je({},this.props.default):void 0;delete on.default;var Jn=G||pe?{cursor:"auto"}:{cursor:"move"},ln=je(je(je({},de),Jn),ie),Xt=this.offsetFromParent,cn=Xt.left,Rt=Xt.top,vn;fe&&(vn={x:fe.x-cn,y:fe.y-Rt});var bn=this.state.resizing?void 0:vn,Rn=this.state.resizing?"both":Ke;return(0,o.createElement)(ce,{ref:this.refDraggable,handle:pe?".".concat(pe):void 0,defaultPosition:Ht,onMouseDown:Ie,onMouseUp:He,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:Rn,disabled:G,grid:Xe,bounds:Ze?this.state.bounds:void 0,position:bn,enableUserSelectHack:tt,cancel:rt,scale:yt,allowAnyClick:xt,nodeRef:this.resizableElement},(0,o.createElement)(ae,je({},on,{ref:this.refResizable,defaultSize:Ht,size:this.props.size,enable:typeof _t=="boolean"?Ce(_t):_t,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:ln,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:Lt,handleWrapperClass:Tt,handleWrapperStyle:It,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:Ct,handleClasses:kt,handleComponent:Mt,scale:this.props.scale}),lt))},ne.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},ne}(o.PureComponent),Ve=function(se,ne){var X={};for(var G in se)Object.prototype.hasOwnProperty.call(se,G)&&ne.indexOf(G)<0&&(X[G]=se[G]);if(se!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ie=0,G=Object.getOwnPropertySymbols(se);ie<G.length;ie++)ne.indexOf(G[ie])<0&&Object.prototype.propertyIsEnumerable.call(se,G[ie])&&(X[G[ie]]=se[G[ie]]);return X};class Ye extends o.Component{render(){const ne=this.props,{highlight:X,onChange:G,isScrolledTo:ie}=ne,pe=Ve(ne,["highlight","onChange","isScrolledTo"]);return o.createElement("div",{className:`AreaHighlight ${ie?"AreaHighlight--scrolledTo":""}`},o.createElement(De,Object.assign({className:"AreaHighlight__part",onDragStop:(fe,Ie)=>{const He=Object.assign(Object.assign({},X.position.boundingRect),{top:Ie.y,left:Ie.x});G(He)},onResizeStop:(fe,Ie,He,Ke,Xe)=>{var Ze;const tt={top:Xe.y,left:Xe.x,width:He.offsetWidth,height:He.offsetHeight,pageNumber:((Ze=c(He))===null||Ze===void 0?void 0:Ze.number)||-1};G(tt)},position:{x:X.position.boundingRect.left,y:X.position.boundingRect.top},size:{width:X.position.boundingRect.width,height:X.position.boundingRect.height},onClick:fe=>{fe.stopPropagation(),fe.preventDefault()}},pe)))}}var et=null,it=t(66907);class Ge extends o.Component{constructor(){super(...arguments),this.state={pdfDocument:null,error:null},this.documentRef=o.createRef()}componentDidMount(){this.load()}componentWillUnmount(){const{pdfDocument:ne}=this.state;ne&&ne.destroy()}componentDidUpdate({url:ne}){this.props.url!==ne&&this.load()}componentDidCatch(ne,X){const{onError:G}=this.props;G&&G(ne),this.setState({pdfDocument:null,error:ne})}load(){const{ownerDocument:ne=document}=this.documentRef.current||{},{url:X,cMapUrl:G,cMapPacked:ie,workerSrc:pe}=this.props,{pdfDocument:fe}=this.state;this.setState({pdfDocument:null,error:null}),typeof pe=="string"&&(it.GlobalWorkerOptions.workerSrc=pe),Promise.resolve().then(()=>fe&&fe.destroy()).then(()=>{if(X)return(0,it.getDocument)(Object.assign(Object.assign({},this.props),{ownerDocument:ne,cMapUrl:G,cMapPacked:ie})).promise.then(Ie=>{this.setState({pdfDocument:Ie})})}).catch(Ie=>this.componentDidCatch(Ie))}render(){const{children:ne,beforeLoad:X}=this.props,{pdfDocument:G,error:ie}=this.state;return o.createElement(o.Fragment,null,o.createElement("span",{ref:this.documentRef}),ie?this.renderError():!G||!ne?X:ne(G))}renderError(){const{errorMessage:ne}=this.props;return ne?o.cloneElement(ne,{error:this.state.error}):null}}Ge.defaultProps={workerSrc:"https://unpkg.com/pdfjs-dist@2.16.105/build/pdf.worker.min.js"};var nt=null},66907:function(module,__unused_webpack_exports,__webpack_require__){var Buffer=__webpack_require__(48764).lW,process=__webpack_require__(34155);(function(s,t){module.exports=t()})(globalThis,()=>(()=>{var __webpack_modules__=[,(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.VerbosityLevel=s.Util=s.UnknownErrorException=s.UnexpectedResponseException=s.UNSUPPORTED_FEATURES=s.TextRenderingMode=s.StreamType=s.RenderingIntentFlag=s.PermissionFlag=s.PasswordResponses=s.PasswordException=s.PageActionEventType=s.OPS=s.MissingPDFException=s.LINE_FACTOR=s.LINE_DESCENT_FACTOR=s.InvalidPDFException=s.ImageKind=s.IDENTITY_MATRIX=s.FormatError=s.FontType=s.FeatureTest=s.FONT_IDENTITY_MATRIX=s.DocumentActionEventType=s.CMapCompressionType=s.BaseException=s.AnnotationType=s.AnnotationStateModelType=s.AnnotationReviewState=s.AnnotationReplyType=s.AnnotationMode=s.AnnotationMarkedState=s.AnnotationFlag=s.AnnotationFieldFlag=s.AnnotationEditorType=s.AnnotationEditorPrefix=s.AnnotationEditorParamsType=s.AnnotationBorderStyleType=s.AnnotationActionEventType=s.AbortException=void 0,s.arrayByteLength=Se,s.arraysToBytes=Ae,s.assert=_e,s.bytesToString=le,s.createPromiseCapability=Fe,s.createValidAbsoluteUrl=S,s.escapeString=ze,s.getModificationDate=Te,s.getVerbosityLevel=P,s.info=Y,s.isArrayBuffer=ve,s.isArrayEqual=oe,s.isAscii=xe,s.objectFromMap=ke,s.objectSize=Ee,s.setVerbosityLevel=M,s.shadow=A,s.string32=Pe,s.stringToBytes=ge,s.stringToPDFString=Ne,s.stringToUTF16BEString=he,s.stringToUTF8String=ye,s.unreachable=J,s.utf8StringToString=Q,s.warn=Z,t(2);const r=[1,0,0,1,0,0];s.IDENTITY_MATRIX=r;const o=[.001,0,0,.001,0,0];s.FONT_IDENTITY_MATRIX=o;const C=1.35;s.LINE_FACTOR=C;const W=.35;s.LINE_DESCENT_FACTOR=W;const D={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};s.RenderingIntentFlag=D;const d={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};s.AnnotationMode=d;const b="pdfjs_internal_editor_";s.AnnotationEditorPrefix=b;const c={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};s.AnnotationEditorType=c;const x={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};s.AnnotationEditorParamsType=x;const h={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};s.PermissionFlag=h;const k={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};s.TextRenderingMode=k;const m={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};s.ImageKind=m;const u={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};s.AnnotationType=u;const w={MARKED:"Marked",REVIEW:"Review"};s.AnnotationStateModelType=w;const f={MARKED:"Marked",UNMARKED:"Unmarked"};s.AnnotationMarkedState=f;const g={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};s.AnnotationReviewState=g;const y={GROUP:"Group",REPLY:"R"};s.AnnotationReplyType=y;const l={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};s.AnnotationFlag=l;const n={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};s.AnnotationFieldFlag=n;const a={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};s.AnnotationBorderStyleType=a;const v={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};s.AnnotationActionEventType=v;const _={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};s.DocumentActionEventType=_;const I={O:"PageOpen",C:"PageClose"};s.PageActionEventType=I;const V={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};s.StreamType=V;const E={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};s.FontType=E;const ee={ERRORS:0,WARNINGS:1,INFOS:5};s.VerbosityLevel=ee;const K={NONE:0,BINARY:1,STREAM:2};s.CMapCompressionType=K;const O={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};s.OPS=O;const L={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};s.UNSUPPORTED_FEATURES=L;const T={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};s.PasswordResponses=T;let B=ee.WARNINGS;function M(me){Number.isInteger(me)&&(B=me)}function P(){return B}function Y(me){B>=ee.INFOS&&console.log(`Info: ${me}`)}function Z(me){B>=ee.WARNINGS&&console.log(`Warning: ${me}`)}function J(me){throw new Error(me)}function _e(me,ae){me||J(ae)}function z(me){if(!me)return!1;switch(me.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function S(me){let ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!me)return null;try{if(ue&&typeof me=="string"){if(ue.addDefaultProtocol&&me.startsWith("www.")){const je=me.match(/\./g);je&&je.length>=2&&(me=`http://${me}`)}if(ue.tryConvertEncoding)try{me=ye(me)}catch(je){}}const Me=ae?new URL(me,ae):new URL(me);if(z(Me))return Me}catch(Me){}return null}function A(me,ae,ue){return Object.defineProperty(me,ae,{value:ue,enumerable:!0,configurable:!0,writable:!1}),ue}const j=function(){function ae(ue,Me){this.constructor===ae&&J("Cannot initialize BaseException."),this.message=ue,this.name=Me}return ae.prototype=new Error,ae.constructor=ae,ae}();s.BaseException=j;class $ extends j{constructor(ae,ue){super(ae,"PasswordException"),this.code=ue}}s.PasswordException=$;class p extends j{constructor(ae,ue){super(ae,"UnknownErrorException"),this.details=ue}}s.UnknownErrorException=p;class R extends j{constructor(ae){super(ae,"InvalidPDFException")}}s.InvalidPDFException=R;class F extends j{constructor(ae){super(ae,"MissingPDFException")}}s.MissingPDFException=F;class U extends j{constructor(ae,ue){super(ae,"UnexpectedResponseException"),this.status=ue}}s.UnexpectedResponseException=U;class q extends j{constructor(ae){super(ae,"FormatError")}}s.FormatError=q;class te extends j{constructor(ae){super(ae,"AbortException")}}s.AbortException=te;function le(me){(typeof me!="object"||me===null||me.length===void 0)&&J("Invalid argument for bytesToString");const ae=me.length,ue=8192;if(ae<ue)return String.fromCharCode.apply(null,me);const Me=[];for(let je=0;je<ae;je+=ue){const Re=Math.min(je+ue,ae),ce=me.subarray(je,Re);Me.push(String.fromCharCode.apply(null,ce))}return Me.join("")}function ge(me){typeof me!="string"&&J("Invalid argument for stringToBytes");const ae=me.length,ue=new Uint8Array(ae);for(let Me=0;Me<ae;++Me)ue[Me]=me.charCodeAt(Me)&255;return ue}function Se(me){if(me.length!==void 0)return me.length;if(me.byteLength!==void 0)return me.byteLength;J("Invalid argument for arrayByteLength")}function Ae(me){const ae=me.length;if(ae===1&&me[0]instanceof Uint8Array)return me[0];let ue=0;for(let Re=0;Re<ae;Re++)ue+=Se(me[Re]);let Me=0;const je=new Uint8Array(ue);for(let Re=0;Re<ae;Re++){let ce=me[Re];ce instanceof Uint8Array||(typeof ce=="string"?ce=ge(ce):ce=new Uint8Array(ce));const de=ce.byteLength;je.set(ce,Me),Me+=de}return je}function Pe(me){return String.fromCharCode(me>>24&255,me>>16&255,me>>8&255,me&255)}function Ee(me){return Object.keys(me).length}function ke(me){const ae=Object.create(null);for(const[ue,Me]of me)ae[ue]=Me;return ae}function Be(){const me=new Uint8Array(4);return me[0]=1,new Uint32Array(me.buffer,0,1)[0]===1}function Ue(){try{return new Function(""),!0}catch(me){return!1}}class $e{static get isLittleEndian(){return A(this,"isLittleEndian",Be())}static get isEvalSupported(){return A(this,"isEvalSupported",Ue())}static get isOffscreenCanvasSupported(){return A(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas!="undefined")}}s.FeatureTest=$e;const qe=[...Array(256).keys()].map(me=>me.toString(16).padStart(2,"0"));class We{static makeHexColor(ae,ue,Me){return`#${qe[ae]}${qe[ue]}${qe[Me]}`}static scaleMinMax(ae,ue){let Me;ae[0]?(ae[0]<0&&(Me=ue[0],ue[0]=ue[1],ue[1]=Me),ue[0]*=ae[0],ue[1]*=ae[0],ae[3]<0&&(Me=ue[2],ue[2]=ue[3],ue[3]=Me),ue[2]*=ae[3],ue[3]*=ae[3]):(Me=ue[0],ue[0]=ue[2],ue[2]=Me,Me=ue[1],ue[1]=ue[3],ue[3]=Me,ae[1]<0&&(Me=ue[2],ue[2]=ue[3],ue[3]=Me),ue[2]*=ae[1],ue[3]*=ae[1],ae[2]<0&&(Me=ue[0],ue[0]=ue[1],ue[1]=Me),ue[0]*=ae[2],ue[1]*=ae[2]),ue[0]+=ae[4],ue[1]+=ae[4],ue[2]+=ae[5],ue[3]+=ae[5]}static transform(ae,ue){return[ae[0]*ue[0]+ae[2]*ue[1],ae[1]*ue[0]+ae[3]*ue[1],ae[0]*ue[2]+ae[2]*ue[3],ae[1]*ue[2]+ae[3]*ue[3],ae[0]*ue[4]+ae[2]*ue[5]+ae[4],ae[1]*ue[4]+ae[3]*ue[5]+ae[5]]}static applyTransform(ae,ue){const Me=ae[0]*ue[0]+ae[1]*ue[2]+ue[4],je=ae[0]*ue[1]+ae[1]*ue[3]+ue[5];return[Me,je]}static applyInverseTransform(ae,ue){const Me=ue[0]*ue[3]-ue[1]*ue[2],je=(ae[0]*ue[3]-ae[1]*ue[2]+ue[2]*ue[5]-ue[4]*ue[3])/Me,Re=(-ae[0]*ue[1]+ae[1]*ue[0]+ue[4]*ue[1]-ue[5]*ue[0])/Me;return[je,Re]}static getAxialAlignedBoundingBox(ae,ue){const Me=We.applyTransform(ae,ue),je=We.applyTransform(ae.slice(2,4),ue),Re=We.applyTransform([ae[0],ae[3]],ue),ce=We.applyTransform([ae[2],ae[1]],ue);return[Math.min(Me[0],je[0],Re[0],ce[0]),Math.min(Me[1],je[1],Re[1],ce[1]),Math.max(Me[0],je[0],Re[0],ce[0]),Math.max(Me[1],je[1],Re[1],ce[1])]}static inverseTransform(ae){const ue=ae[0]*ae[3]-ae[1]*ae[2];return[ae[3]/ue,-ae[1]/ue,-ae[2]/ue,ae[0]/ue,(ae[2]*ae[5]-ae[4]*ae[3])/ue,(ae[4]*ae[1]-ae[5]*ae[0])/ue]}static apply3dTransform(ae,ue){return[ae[0]*ue[0]+ae[1]*ue[1]+ae[2]*ue[2],ae[3]*ue[0]+ae[4]*ue[1]+ae[5]*ue[2],ae[6]*ue[0]+ae[7]*ue[1]+ae[8]*ue[2]]}static singularValueDecompose2dScale(ae){const ue=[ae[0],ae[2],ae[1],ae[3]],Me=ae[0]*ue[0]+ae[1]*ue[2],je=ae[0]*ue[1]+ae[1]*ue[3],Re=ae[2]*ue[0]+ae[3]*ue[2],ce=ae[2]*ue[1]+ae[3]*ue[3],de=(Me+ce)/2,Ce=Math.sqrt(sn(Me+ce,2)-4*(Me*ce-Re*je))/2,De=de+Ce||1,Ve=de-Ce||1;return[Math.sqrt(De),Math.sqrt(Ve)]}static normalizeRect(ae){const ue=ae.slice(0);return ae[0]>ae[2]&&(ue[0]=ae[2],ue[2]=ae[0]),ae[1]>ae[3]&&(ue[1]=ae[3],ue[3]=ae[1]),ue}static intersect(ae,ue){const Me=Math.max(Math.min(ae[0],ae[2]),Math.min(ue[0],ue[2])),je=Math.min(Math.max(ae[0],ae[2]),Math.max(ue[0],ue[2]));if(Me>je)return null;const Re=Math.max(Math.min(ae[1],ae[3]),Math.min(ue[1],ue[3])),ce=Math.min(Math.max(ae[1],ae[3]),Math.max(ue[1],ue[3]));return Re>ce?null:[Me,Re,je,ce]}static bezierBoundingBox(ae,ue,Me,je,Re,ce,de,Ce){const De=[],Ve=[[],[]];let Ye,et,it,Ge,nt,se,ne,X;for(let fe=0;fe<2;++fe){if(fe===0?(et=6*ae-12*Me+6*Re,Ye=-3*ae+9*Me-9*Re+3*de,it=3*Me-3*ae):(et=6*ue-12*je+6*ce,Ye=-3*ue+9*je-9*ce+3*Ce,it=3*je-3*ue),Math.abs(Ye)<1e-12){if(Math.abs(et)<1e-12)continue;Ge=-it/et,0<Ge&&Ge<1&&De.push(Ge);continue}ne=et*et-4*it*Ye,X=Math.sqrt(ne),!(ne<0)&&(nt=(-et+X)/(2*Ye),0<nt&&nt<1&&De.push(nt),se=(-et-X)/(2*Ye),0<se&&se<1&&De.push(se))}let G=De.length,ie;const pe=G;for(;G--;)Ge=De[G],ie=1-Ge,Ve[0][G]=ie*ie*ie*ae+3*ie*ie*Ge*Me+3*ie*Ge*Ge*Re+Ge*Ge*Ge*de,Ve[1][G]=ie*ie*ie*ue+3*ie*ie*Ge*je+3*ie*Ge*Ge*ce+Ge*Ge*Ge*Ce;return Ve[0][pe]=ae,Ve[1][pe]=ue,Ve[0][pe+1]=de,Ve[1][pe+1]=Ce,Ve[0].length=Ve[1].length=pe+2,[Math.min(...Ve[0]),Math.min(...Ve[1]),Math.max(...Ve[0]),Math.max(...Ve[1])]}}s.Util=We;const Oe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ne(me){if(me[0]>="\xEF"){let ue;if(me[0]==="\xFE"&&me[1]==="\xFF"?ue="utf-16be":me[0]==="\xFF"&&me[1]==="\xFE"?ue="utf-16le":me[0]==="\xEF"&&me[1]==="\xBB"&&me[2]==="\xBF"&&(ue="utf-8"),ue)try{const Me=new TextDecoder(ue,{fatal:!0}),je=ge(me);return Me.decode(je)}catch(Me){Z(`stringToPDFString: "${Me}".`)}}const ae=[];for(let ue=0,Me=me.length;ue<Me;ue++){const je=Oe[me.charCodeAt(ue)];ae.push(je?String.fromCharCode(je):me.charAt(ue))}return ae.join("")}function ze(me){return me.replace(/([()\\\n\r])/g,ae=>ae===`
`?"\\n":ae==="\r"?"\\r":`\\${ae}`)}function xe(me){return/^[\x00-\x7F]*$/.test(me)}function he(me){const ae=["\xFE\xFF"];for(let ue=0,Me=me.length;ue<Me;ue++){const je=me.charCodeAt(ue);ae.push(String.fromCharCode(je>>8&255),String.fromCharCode(je&255))}return ae.join("")}function ye(me){return decodeURIComponent(escape(me))}function Q(me){return unescape(encodeURIComponent(me))}function ve(me){return typeof me=="object"&&me!==null&&me.byteLength!==void 0}function oe(me,ae){if(me.length!==ae.length)return!1;for(let ue=0,Me=me.length;ue<Me;ue++)if(me[ue]!==ae[ue])return!1;return!0}function Te(){let me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return[me.getUTCFullYear().toString(),(me.getUTCMonth()+1).toString().padStart(2,"0"),me.getUTCDate().toString().padStart(2,"0"),me.getUTCHours().toString().padStart(2,"0"),me.getUTCMinutes().toString().padStart(2,"0"),me.getUTCSeconds().toString().padStart(2,"0")].join("")}function Fe(){const me=Object.create(null);let ae=!1;return Object.defineProperty(me,"settled",{get(){return ae}}),me.promise=new Promise(function(ue,Me){me.resolve=function(je){ae=!0,ue(je)},me.reject=function(je){ae=!0,Me(je)}}),me}},(H,s,t)=>{"use strict";var r=t(3);globalThis._pdfjsCompatibilityChecked||(globalThis._pdfjsCompatibilityChecked=!0,function(){globalThis.btoa||!r.isNodeJS||(globalThis.btoa=function(C){return Buffer.from(C,"binary").toString("base64")})}(),function(){globalThis.atob||!r.isNodeJS||(globalThis.atob=function(C){return Buffer.from(C,"base64").toString("binary")})}(),function(){globalThis.DOMMatrix||!r.isNodeJS||(globalThis.DOMMatrix=__webpack_require__(90733))}(),function(){globalThis.ReadableStream||!r.isNodeJS||(globalThis.ReadableStream=__webpack_require__(23800).ReadableStream)}(),function(){Array.prototype.at||t(4)}(),function(){Uint8Array.prototype.at||t(76)}(),function(){globalThis.structuredClone||t(86)}())},(H,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.isNodeJS=void 0;const t=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");s.isNodeJS=t},(H,s,t)=>{t(5);var r=t(75);H.exports=r("Array","at")},(H,s,t)=>{"use strict";var r=t(6),o=t(41),C=t(65),W=t(63),D=t(70);r({target:"Array",proto:!0},{at:function(b){var c=o(this),x=C(c),h=W(b),k=h>=0?h:x+h;return k<0||k>=x?void 0:c[k]}}),D("at")},(H,s,t)=>{var r=t(7),o=t(8).f,C=t(45),W=t(49),D=t(39),d=t(57),b=t(69);H.exports=function(c,x){var h=c.target,k=c.global,m=c.stat,u,w,f,g,y,l;if(k?w=r:m?w=r[h]||D(h,{}):w=(r[h]||{}).prototype,w)for(f in x){if(y=x[f],c.dontCallGetSet?(l=o(w,f),g=l&&l.value):g=w[f],u=b(k?f:h+(m?".":"#")+f,c.forced),!u&&g!==void 0){if(typeof y==typeof g)continue;d(y,g)}(c.sham||g&&g.sham)&&C(y,"sham",!0),W(w,f,y,c)}}},H=>{var s=function(t){return t&&t.Math==Math&&t};H.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof __webpack_require__.g=="object"&&__webpack_require__.g)||function(){return this}()||Function("return this")()},(H,s,t)=>{var r=t(9),o=t(11),C=t(13),W=t(14),D=t(15),d=t(20),b=t(40),c=t(43),x=Object.getOwnPropertyDescriptor;s.f=r?x:function(k,m){if(k=D(k),m=d(m),c)try{return x(k,m)}catch(u){}if(b(k,m))return W(!o(C.f,k,m),k[m])}},(H,s,t)=>{var r=t(10);H.exports=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},H=>{H.exports=function(s){try{return!!s()}catch(t){return!0}}},(H,s,t)=>{var r=t(12),o=Function.prototype.call;H.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},(H,s,t)=>{var r=t(10);H.exports=!r(function(){var o=function(){}.bind();return typeof o!="function"||o.hasOwnProperty("prototype")})},(H,s)=>{"use strict";var t={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!t.call({1:2},1);s.f=o?function(W){var D=r(this,W);return!!D&&D.enumerable}:t},H=>{H.exports=function(s,t){return{enumerable:!(s&1),configurable:!(s&2),writable:!(s&4),value:t}}},(H,s,t)=>{var r=t(16),o=t(19);H.exports=function(C){return r(o(C))}},(H,s,t)=>{var r=t(17),o=t(10),C=t(18),W=Object,D=r("".split);H.exports=o(function(){return!W("z").propertyIsEnumerable(0)})?function(d){return C(d)=="String"?D(d,""):W(d)}:W},(H,s,t)=>{var r=t(12),o=Function.prototype,C=o.bind,W=o.call,D=r&&C.bind(W,W);H.exports=r?function(d){return d&&D(d)}:function(d){return d&&function(){return W.apply(d,arguments)}}},(H,s,t)=>{var r=t(17),o=r({}.toString),C=r("".slice);H.exports=function(W){return C(o(W),8,-1)}},H=>{var s=TypeError;H.exports=function(t){if(t==null)throw s("Can't call method on "+t);return t}},(H,s,t)=>{var r=t(21),o=t(24);H.exports=function(C){var W=r(C,"string");return o(W)?W:W+""}},(H,s,t)=>{var r=t(11),o=t(22),C=t(24),W=t(31),D=t(34),d=t(35),b=TypeError,c=d("toPrimitive");H.exports=function(x,h){if(!o(x)||C(x))return x;var k=W(x,c),m;if(k){if(h===void 0&&(h="default"),m=r(k,x,h),!o(m)||C(m))return m;throw b("Can't convert object to primitive value")}return h===void 0&&(h="number"),D(x,h)}},(H,s,t)=>{var r=t(23);H.exports=function(o){return typeof o=="object"?o!==null:r(o)}},H=>{H.exports=function(s){return typeof s=="function"}},(H,s,t)=>{var r=t(25),o=t(23),C=t(26),W=t(27),D=Object;H.exports=W?function(d){return typeof d=="symbol"}:function(d){var b=r("Symbol");return o(b)&&C(b.prototype,D(d))}},(H,s,t)=>{var r=t(7),o=t(23),C=function(W){return o(W)?W:void 0};H.exports=function(W,D){return arguments.length<2?C(r[W]):r[W]&&r[W][D]}},(H,s,t)=>{var r=t(17);H.exports=r({}.isPrototypeOf)},(H,s,t)=>{var r=t(28);H.exports=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},(H,s,t)=>{var r=t(29),o=t(10);H.exports=!!Object.getOwnPropertySymbols&&!o(function(){var C=Symbol();return!String(C)||!(Object(C)instanceof Symbol)||!Symbol.sham&&r&&r<41})},(H,s,t)=>{var r=t(7),o=t(30),C=r.process,W=r.Deno,D=C&&C.versions||W&&W.version,d=D&&D.v8,b,c;d&&(b=d.split("."),c=b[0]>0&&b[0]<4?1:+(b[0]+b[1])),!c&&o&&(b=o.match(/Edge\/(\d+)/),(!b||b[1]>=74)&&(b=o.match(/Chrome\/(\d+)/),b&&(c=+b[1]))),H.exports=c},(H,s,t)=>{var r=t(25);H.exports=r("navigator","userAgent")||""},(H,s,t)=>{var r=t(32);H.exports=function(o,C){var W=o[C];return W==null?void 0:r(W)}},(H,s,t)=>{var r=t(23),o=t(33),C=TypeError;H.exports=function(W){if(r(W))return W;throw C(o(W)+" is not a function")}},H=>{var s=String;H.exports=function(t){try{return s(t)}catch(r){return"Object"}}},(H,s,t)=>{var r=t(11),o=t(23),C=t(22),W=TypeError;H.exports=function(D,d){var b,c;if(d==="string"&&o(b=D.toString)&&!C(c=r(b,D))||o(b=D.valueOf)&&!C(c=r(b,D))||d!=="string"&&o(b=D.toString)&&!C(c=r(b,D)))return c;throw W("Can't convert object to primitive value")}},(H,s,t)=>{var r=t(7),o=t(36),C=t(40),W=t(42),D=t(28),d=t(27),b=o("wks"),c=r.Symbol,x=c&&c.for,h=d?c:c&&c.withoutSetter||W;H.exports=function(k){if(!C(b,k)||!(D||typeof b[k]=="string")){var m="Symbol."+k;D&&C(c,k)?b[k]=c[k]:d&&x?b[k]=x(m):b[k]=h(m)}return b[k]}},(H,s,t)=>{var r=t(37),o=t(38);(H.exports=function(C,W){return o[C]||(o[C]=W!==void 0?W:{})})("versions",[]).push({version:"3.24.1",mode:r?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})},H=>{H.exports=!1},(H,s,t)=>{var r=t(7),o=t(39),C="__core-js_shared__",W=r[C]||o(C,{});H.exports=W},(H,s,t)=>{var r=t(7),o=Object.defineProperty;H.exports=function(C,W){try{o(r,C,{value:W,configurable:!0,writable:!0})}catch(D){r[C]=W}return W}},(H,s,t)=>{var r=t(17),o=t(41),C=r({}.hasOwnProperty);H.exports=Object.hasOwn||function(D,d){return C(o(D),d)}},(H,s,t)=>{var r=t(19),o=Object;H.exports=function(C){return o(r(C))}},(H,s,t)=>{var r=t(17),o=0,C=Math.random(),W=r(1 .toString);H.exports=function(D){return"Symbol("+(D===void 0?"":D)+")_"+W(++o+C,36)}},(H,s,t)=>{var r=t(9),o=t(10),C=t(44);H.exports=!r&&!o(function(){return Object.defineProperty(C("div"),"a",{get:function(){return 7}}).a!=7})},(H,s,t)=>{var r=t(7),o=t(22),C=r.document,W=o(C)&&o(C.createElement);H.exports=function(D){return W?C.createElement(D):{}}},(H,s,t)=>{var r=t(9),o=t(46),C=t(14);H.exports=r?function(W,D,d){return o.f(W,D,C(1,d))}:function(W,D,d){return W[D]=d,W}},(H,s,t)=>{var r=t(9),o=t(43),C=t(47),W=t(48),D=t(20),d=TypeError,b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,x="enumerable",h="configurable",k="writable";s.f=r?C?function(u,w,f){if(W(u),w=D(w),W(f),typeof u=="function"&&w==="prototype"&&"value"in f&&k in f&&!f[k]){var g=c(u,w);g&&g[k]&&(u[w]=f.value,f={configurable:h in f?f[h]:g[h],enumerable:x in f?f[x]:g[x],writable:!1})}return b(u,w,f)}:b:function(u,w,f){if(W(u),w=D(w),W(f),o)try{return b(u,w,f)}catch(g){}if("get"in f||"set"in f)throw d("Accessors not supported");return"value"in f&&(u[w]=f.value),u}},(H,s,t)=>{var r=t(9),o=t(10);H.exports=r&&o(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},(H,s,t)=>{var r=t(22),o=String,C=TypeError;H.exports=function(W){if(r(W))return W;throw C(o(W)+" is not an object")}},(H,s,t)=>{var r=t(23),o=t(46),C=t(50),W=t(39);H.exports=function(D,d,b,c){c||(c={});var x=c.enumerable,h=c.name!==void 0?c.name:d;if(r(b)&&C(b,h,c),c.global)x?D[d]=b:W(d,b);else{try{c.unsafe?D[d]&&(x=!0):delete D[d]}catch(k){}x?D[d]=b:o.f(D,d,{value:b,enumerable:!1,configurable:!c.nonConfigurable,writable:!c.nonWritable})}return D}},(H,s,t)=>{var r=t(10),o=t(23),C=t(40),W=t(9),D=t(51).CONFIGURABLE,d=t(52),b=t(53),c=b.enforce,x=b.get,h=Object.defineProperty,k=W&&!r(function(){return h(function(){},"length",{value:8}).length!==8}),m=String(String).split("String"),u=H.exports=function(w,f,g){String(f).slice(0,7)==="Symbol("&&(f="["+String(f).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),g&&g.getter&&(f="get "+f),g&&g.setter&&(f="set "+f),(!C(w,"name")||D&&w.name!==f)&&(W?h(w,"name",{value:f,configurable:!0}):w.name=f),k&&g&&C(g,"arity")&&w.length!==g.arity&&h(w,"length",{value:g.arity});try{g&&C(g,"constructor")&&g.constructor?W&&h(w,"prototype",{writable:!1}):w.prototype&&(w.prototype=void 0)}catch(l){}var y=c(w);return C(y,"source")||(y.source=m.join(typeof f=="string"?f:"")),w};Function.prototype.toString=u(function(){return o(this)&&x(this).source||d(this)},"toString")},(H,s,t)=>{var r=t(9),o=t(40),C=Function.prototype,W=r&&Object.getOwnPropertyDescriptor,D=o(C,"name"),d=D&&function(){}.name==="something",b=D&&(!r||r&&W(C,"name").configurable);H.exports={EXISTS:D,PROPER:d,CONFIGURABLE:b}},(H,s,t)=>{var r=t(17),o=t(23),C=t(38),W=r(Function.toString);o(C.inspectSource)||(C.inspectSource=function(D){return W(D)}),H.exports=C.inspectSource},(H,s,t)=>{var r=t(54),o=t(7),C=t(17),W=t(22),D=t(45),d=t(40),b=t(38),c=t(55),x=t(56),h="Object already initialized",k=o.TypeError,m=o.WeakMap,u,w,f,g=function(I){return f(I)?w(I):u(I,{})},y=function(I){return function(V){var E;if(!W(V)||(E=w(V)).type!==I)throw k("Incompatible receiver, "+I+" required");return E}};if(r||b.state){var l=b.state||(b.state=new m),n=C(l.get),a=C(l.has),v=C(l.set);u=function(I,V){if(a(l,I))throw new k(h);return V.facade=I,v(l,I,V),V},w=function(I){return n(l,I)||{}},f=function(I){return a(l,I)}}else{var _=c("state");x[_]=!0,u=function(I,V){if(d(I,_))throw new k(h);return V.facade=I,D(I,_,V),V},w=function(I){return d(I,_)?I[_]:{}},f=function(I){return d(I,_)}}H.exports={set:u,get:w,has:f,enforce:g,getterFor:y}},(H,s,t)=>{var r=t(7),o=t(23),C=t(52),W=r.WeakMap;H.exports=o(W)&&/native code/.test(C(W))},(H,s,t)=>{var r=t(36),o=t(42),C=r("keys");H.exports=function(W){return C[W]||(C[W]=o(W))}},H=>{H.exports={}},(H,s,t)=>{var r=t(40),o=t(58),C=t(8),W=t(46);H.exports=function(D,d,b){for(var c=o(d),x=W.f,h=C.f,k=0;k<c.length;k++){var m=c[k];!r(D,m)&&!(b&&r(b,m))&&x(D,m,h(d,m))}}},(H,s,t)=>{var r=t(25),o=t(17),C=t(59),W=t(68),D=t(48),d=o([].concat);H.exports=r("Reflect","ownKeys")||function(c){var x=C.f(D(c)),h=W.f;return h?d(x,h(c)):x}},(H,s,t)=>{var r=t(60),o=t(67),C=o.concat("length","prototype");s.f=Object.getOwnPropertyNames||function(D){return r(D,C)}},(H,s,t)=>{var r=t(17),o=t(40),C=t(15),W=t(61).indexOf,D=t(56),d=r([].push);H.exports=function(b,c){var x=C(b),h=0,k=[],m;for(m in x)!o(D,m)&&o(x,m)&&d(k,m);for(;c.length>h;)o(x,m=c[h++])&&(~W(k,m)||d(k,m));return k}},(H,s,t)=>{var r=t(15),o=t(62),C=t(65),W=function(D){return function(d,b,c){var x=r(d),h=C(x),k=o(c,h),m;if(D&&b!=b){for(;h>k;)if(m=x[k++],m!=m)return!0}else for(;h>k;k++)if((D||k in x)&&x[k]===b)return D||k||0;return!D&&-1}};H.exports={includes:W(!0),indexOf:W(!1)}},(H,s,t)=>{var r=t(63),o=Math.max,C=Math.min;H.exports=function(W,D){var d=r(W);return d<0?o(d+D,0):C(d,D)}},(H,s,t)=>{var r=t(64);H.exports=function(o){var C=+o;return C!==C||C===0?0:r(C)}},H=>{var s=Math.ceil,t=Math.floor;H.exports=Math.trunc||function(o){var C=+o;return(C>0?t:s)(C)}},(H,s,t)=>{var r=t(66);H.exports=function(o){return r(o.length)}},(H,s,t)=>{var r=t(63),o=Math.min;H.exports=function(C){return C>0?o(r(C),9007199254740991):0}},H=>{H.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(H,s)=>{s.f=Object.getOwnPropertySymbols},(H,s,t)=>{var r=t(10),o=t(23),C=/#|\.prototype\./,W=function(x,h){var k=d[D(x)];return k==c?!0:k==b?!1:o(h)?r(h):!!h},D=W.normalize=function(x){return String(x).replace(C,".").toLowerCase()},d=W.data={},b=W.NATIVE="N",c=W.POLYFILL="P";H.exports=W},(H,s,t)=>{var r=t(35),o=t(71),C=t(46).f,W=r("unscopables"),D=Array.prototype;D[W]==null&&C(D,W,{configurable:!0,value:o(null)}),H.exports=function(d){D[W][d]=!0}},(H,s,t)=>{var r=t(48),o=t(72),C=t(67),W=t(56),D=t(74),d=t(44),b=t(55),c=">",x="<",h="prototype",k="script",m=b("IE_PROTO"),u=function(){},w=function(n){return x+k+c+n+x+"/"+k+c},f=function(n){n.write(w("")),n.close();var a=n.parentWindow.Object;return n=null,a},g=function(){var n=d("iframe"),a="java"+k+":",v;return n.style.display="none",D.appendChild(n),n.src=String(a),v=n.contentWindow.document,v.open(),v.write(w("document.F=Object")),v.close(),v.F},y,l=function(){try{y=new ActiveXObject("htmlfile")}catch(a){}l=typeof document!="undefined"?document.domain&&y?f(y):g():f(y);for(var n=C.length;n--;)delete l[h][C[n]];return l()};W[m]=!0,H.exports=Object.create||function(a,v){var _;return a!==null?(u[h]=r(a),_=new u,u[h]=null,_[m]=a):_=l(),v===void 0?_:o.f(_,v)}},(H,s,t)=>{var r=t(9),o=t(47),C=t(46),W=t(48),D=t(15),d=t(73);s.f=r&&!o?Object.defineProperties:function(c,x){W(c);for(var h=D(x),k=d(x),m=k.length,u=0,w;m>u;)C.f(c,w=k[u++],h[w]);return c}},(H,s,t)=>{var r=t(60),o=t(67);H.exports=Object.keys||function(W){return r(W,o)}},(H,s,t)=>{var r=t(25);H.exports=r("document","documentElement")},(H,s,t)=>{var r=t(7),o=t(17);H.exports=function(C,W){return o(r[C].prototype[W])}},(H,s,t)=>{t(77)},(H,s,t)=>{"use strict";var r=t(78),o=t(65),C=t(63),W=r.aTypedArray,D=r.exportTypedArrayMethod;D("at",function(b){var c=W(this),x=o(c),h=C(b),k=h>=0?h:x+h;return k<0||k>=x?void 0:c[k]})},(H,s,t)=>{"use strict";var r=t(79),o=t(9),C=t(7),W=t(23),D=t(22),d=t(40),b=t(80),c=t(33),x=t(45),h=t(49),k=t(46).f,m=t(26),u=t(82),w=t(84),f=t(35),g=t(42),y=t(53),l=y.enforce,n=y.get,a=C.Int8Array,v=a&&a.prototype,_=C.Uint8ClampedArray,I=_&&_.prototype,V=a&&u(a),E=v&&u(v),ee=Object.prototype,K=C.TypeError,O=f("toStringTag"),L=g("TYPED_ARRAY_TAG"),T="TypedArrayConstructor",B=r&&!!w&&b(C.opera)!=="Opera",M=!1,P,Y,Z,J={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},_e={BigInt64Array:8,BigUint64Array:8},z=function(U){if(!D(U))return!1;var q=b(U);return q==="DataView"||d(J,q)||d(_e,q)},S=function(F){var U=u(F);if(D(U)){var q=n(U);return q&&d(q,T)?q[T]:S(U)}},A=function(F){if(!D(F))return!1;var U=b(F);return d(J,U)||d(_e,U)},j=function(F){if(A(F))return F;throw K("Target is not a typed array")},$=function(F){if(W(F)&&(!w||m(V,F)))return F;throw K(c(F)+" is not a typed array constructor")},p=function(F,U,q,te){if(o){if(q)for(var le in J){var ge=C[le];if(ge&&d(ge.prototype,F))try{delete ge.prototype[F]}catch(Se){try{ge.prototype[F]=U}catch(Ae){}}}(!E[F]||q)&&h(E,F,q?U:B&&v[F]||U,te)}},R=function(F,U,q){var te,le;if(o){if(w){if(q){for(te in J)if(le=C[te],le&&d(le,F))try{delete le[F]}catch(ge){}}if(!V[F]||q)try{return h(V,F,q?U:B&&V[F]||U)}catch(ge){}else return}for(te in J)le=C[te],le&&(!le[F]||q)&&h(le,F,U)}};for(P in J)Y=C[P],Z=Y&&Y.prototype,Z?l(Z)[T]=Y:B=!1;for(P in _e)Y=C[P],Z=Y&&Y.prototype,Z&&(l(Z)[T]=Y);if((!B||!W(V)||V===Function.prototype)&&(V=function(){throw K("Incorrect invocation")},B))for(P in J)C[P]&&w(C[P],V);if((!B||!E||E===ee)&&(E=V.prototype,B))for(P in J)C[P]&&w(C[P].prototype,E);if(B&&u(I)!==E&&w(I,E),o&&!d(E,O)){M=!0,k(E,O,{get:function(){return D(this)?this[L]:void 0}});for(P in J)C[P]&&x(C[P],L,P)}H.exports={NATIVE_ARRAY_BUFFER_VIEWS:B,TYPED_ARRAY_TAG:M&&L,aTypedArray:j,aTypedArrayConstructor:$,exportTypedArrayMethod:p,exportTypedArrayStaticMethod:R,getTypedArrayConstructor:S,isView:z,isTypedArray:A,TypedArray:V,TypedArrayPrototype:E}},H=>{H.exports=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"},(H,s,t)=>{var r=t(81),o=t(23),C=t(18),W=t(35),D=W("toStringTag"),d=Object,b=C(function(){return arguments}())=="Arguments",c=function(x,h){try{return x[h]}catch(k){}};H.exports=r?C:function(x){var h,k,m;return x===void 0?"Undefined":x===null?"Null":typeof(k=c(h=d(x),D))=="string"?k:b?C(h):(m=C(h))=="Object"&&o(h.callee)?"Arguments":m}},(H,s,t)=>{var r=t(35),o=r("toStringTag"),C={};C[o]="z",H.exports=String(C)==="[object z]"},(H,s,t)=>{var r=t(40),o=t(23),C=t(41),W=t(55),D=t(83),d=W("IE_PROTO"),b=Object,c=b.prototype;H.exports=D?b.getPrototypeOf:function(x){var h=C(x);if(r(h,d))return h[d];var k=h.constructor;return o(k)&&h instanceof k?k.prototype:h instanceof b?c:null}},(H,s,t)=>{var r=t(10);H.exports=!r(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},(H,s,t)=>{var r=t(17),o=t(48),C=t(85);H.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var W=!1,D={},d;try{d=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),d(D,[]),W=D instanceof Array}catch(b){}return function(c,x){return o(c),C(x),W?d(c,x):c.__proto__=x,c}}():void 0)},(H,s,t)=>{var r=t(23),o=String,C=TypeError;H.exports=function(W){if(typeof W=="object"||r(W))return W;throw C("Can't set "+o(W)+" as a prototype")}},(H,s,t)=>{t(87),t(93),t(95),t(117),t(119);var r=t(128);H.exports=r.structuredClone},(H,s,t)=>{"use strict";var r=t(15),o=t(70),C=t(88),W=t(53),D=t(46).f,d=t(89),b=t(37),c=t(9),x="Array Iterator",h=W.set,k=W.getterFor(x);H.exports=d(Array,"Array",function(u,w){h(this,{type:x,target:r(u),index:0,kind:w})},function(){var u=k(this),w=u.target,f=u.kind,g=u.index++;return!w||g>=w.length?(u.target=void 0,{value:void 0,done:!0}):f=="keys"?{value:g,done:!1}:f=="values"?{value:w[g],done:!1}:{value:[g,w[g]],done:!1}},"values");var m=C.Arguments=C.Array;if(o("keys"),o("values"),o("entries"),!b&&c&&m.name!=="values")try{D(m,"name",{value:"values"})}catch(u){}},H=>{H.exports={}},(H,s,t)=>{"use strict";var r=t(6),o=t(11),C=t(37),W=t(51),D=t(23),d=t(90),b=t(82),c=t(84),x=t(92),h=t(45),k=t(49),m=t(35),u=t(88),w=t(91),f=W.PROPER,g=W.CONFIGURABLE,y=w.IteratorPrototype,l=w.BUGGY_SAFARI_ITERATORS,n=m("iterator"),a="keys",v="values",_="entries",I=function(){return this};H.exports=function(V,E,ee,K,O,L,T){d(ee,E,K);var B=function(j){if(j===O&&J)return J;if(!l&&j in Y)return Y[j];switch(j){case a:return function(){return new ee(this,j)};case v:return function(){return new ee(this,j)};case _:return function(){return new ee(this,j)}}return function(){return new ee(this)}},M=E+" Iterator",P=!1,Y=V.prototype,Z=Y[n]||Y["@@iterator"]||O&&Y[O],J=!l&&Z||B(O),_e=E=="Array"&&Y.entries||Z,z,S,A;if(_e&&(z=b(_e.call(new V)),z!==Object.prototype&&z.next&&(!C&&b(z)!==y&&(c?c(z,y):D(z[n])||k(z,n,I)),x(z,M,!0,!0),C&&(u[M]=I))),f&&O==v&&Z&&Z.name!==v&&(!C&&g?h(Y,"name",v):(P=!0,J=function(){return o(Z,this)})),O)if(S={values:B(v),keys:L?J:B(a),entries:B(_)},T)for(A in S)(l||P||!(A in Y))&&k(Y,A,S[A]);else r({target:E,proto:!0,forced:l||P},S);return(!C||T)&&Y[n]!==J&&k(Y,n,J,{name:O}),u[E]=J,S}},(H,s,t)=>{"use strict";var r=t(91).IteratorPrototype,o=t(71),C=t(14),W=t(92),D=t(88),d=function(){return this};H.exports=function(b,c,x,h){var k=c+" Iterator";return b.prototype=o(r,{next:C(+!h,x)}),W(b,k,!1,!0),D[k]=d,b}},(H,s,t)=>{"use strict";var r=t(10),o=t(23),C=t(71),W=t(82),D=t(49),d=t(35),b=t(37),c=d("iterator"),x=!1,h,k,m;[].keys&&(m=[].keys(),"next"in m?(k=W(W(m)),k!==Object.prototype&&(h=k)):x=!0);var u=h==null||r(function(){var w={};return h[c].call(w)!==w});u?h={}:b&&(h=C(h)),o(h[c])||D(h,c,function(){return this}),H.exports={IteratorPrototype:h,BUGGY_SAFARI_ITERATORS:x}},(H,s,t)=>{var r=t(46).f,o=t(40),C=t(35),W=C("toStringTag");H.exports=function(D,d,b){D&&!b&&(D=D.prototype),D&&!o(D,W)&&r(D,W,{configurable:!0,value:d})}},(H,s,t)=>{var r=t(81),o=t(49),C=t(94);r||o(Object.prototype,"toString",C,{unsafe:!0})},(H,s,t)=>{"use strict";var r=t(81),o=t(80);H.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},(H,s,t)=>{t(96)},(H,s,t)=>{"use strict";var r=t(97),o=t(114);r("Map",function(C){return function(){return C(this,arguments.length?arguments[0]:void 0)}},o)},(H,s,t)=>{"use strict";var r=t(6),o=t(7),C=t(17),W=t(69),D=t(49),d=t(98),b=t(105),c=t(111),x=t(23),h=t(22),k=t(10),m=t(112),u=t(92),w=t(113);H.exports=function(f,g,y){var l=f.indexOf("Map")!==-1,n=f.indexOf("Weak")!==-1,a=l?"set":"add",v=o[f],_=v&&v.prototype,I=v,V={},E=function(M){var P=C(_[M]);D(_,M,M=="add"?function(Z){return P(this,Z===0?0:Z),this}:M=="delete"?function(Y){return n&&!h(Y)?!1:P(this,Y===0?0:Y)}:M=="get"?function(Z){return n&&!h(Z)?void 0:P(this,Z===0?0:Z)}:M=="has"?function(Z){return n&&!h(Z)?!1:P(this,Z===0?0:Z)}:function(Z,J){return P(this,Z===0?0:Z,J),this})},ee=W(f,!x(v)||!(n||_.forEach&&!k(function(){new v().entries().next()})));if(ee)I=y.getConstructor(g,f,l,a),d.enable();else if(W(f,!0)){var K=new I,O=K[a](n?{}:-0,1)!=K,L=k(function(){K.has(1)}),T=m(function(M){new v(M)}),B=!n&&k(function(){for(var M=new v,P=5;P--;)M[a](P,P);return!M.has(-0)});T||(I=g(function(M,P){c(M,_);var Y=w(new v,M,I);return P!=null&&b(P,Y[a],{that:Y,AS_ENTRIES:l}),Y}),I.prototype=_,_.constructor=I),(L||B)&&(E("delete"),E("has"),l&&E("get")),(B||O)&&E(a),n&&_.clear&&delete _.clear}return V[f]=I,r({global:!0,constructor:!0,forced:I!=v},V),u(I,f),n||y.setStrong(I,f,l),I}},(H,s,t)=>{var r=t(6),o=t(17),C=t(56),W=t(22),D=t(40),d=t(46).f,b=t(59),c=t(99),x=t(102),h=t(42),k=t(104),m=!1,u=h("meta"),w=0,f=function(v){d(v,u,{value:{objectID:"O"+w++,weakData:{}}})},g=function(v,_){if(!W(v))return typeof v=="symbol"?v:(typeof v=="string"?"S":"P")+v;if(!D(v,u)){if(!x(v))return"F";if(!_)return"E";f(v)}return v[u].objectID},y=function(v,_){if(!D(v,u)){if(!x(v))return!0;if(!_)return!1;f(v)}return v[u].weakData},l=function(v){return k&&m&&x(v)&&!D(v,u)&&f(v),v},n=function(){a.enable=function(){},m=!0;var v=b.f,_=o([].splice),I={};I[u]=1,v(I).length&&(b.f=function(V){for(var E=v(V),ee=0,K=E.length;ee<K;ee++)if(E[ee]===u){_(E,ee,1);break}return E},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},a=H.exports={enable:n,fastKey:g,getWeakData:y,onFreeze:l};C[u]=!0},(H,s,t)=>{var r=t(18),o=t(15),C=t(59).f,W=t(100),D=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(b){try{return C(b)}catch(c){return W(D)}};H.exports.f=function(c){return D&&r(c)=="Window"?d(c):C(o(c))}},(H,s,t)=>{var r=t(62),o=t(65),C=t(101),W=Array,D=Math.max;H.exports=function(d,b,c){for(var x=o(d),h=r(b,x),k=r(c===void 0?x:c,x),m=W(D(k-h,0)),u=0;h<k;h++,u++)C(m,u,d[h]);return m.length=u,m}},(H,s,t)=>{"use strict";var r=t(20),o=t(46),C=t(14);H.exports=function(W,D,d){var b=r(D);b in W?o.f(W,b,C(0,d)):W[b]=d}},(H,s,t)=>{var r=t(10),o=t(22),C=t(18),W=t(103),D=Object.isExtensible,d=r(function(){D(1)});H.exports=d||W?function(c){return!o(c)||W&&C(c)=="ArrayBuffer"?!1:D?D(c):!0}:D},(H,s,t)=>{var r=t(10);H.exports=r(function(){if(typeof ArrayBuffer=="function"){var o=new ArrayBuffer(8);Object.isExtensible(o)&&Object.defineProperty(o,"a",{value:8})}})},(H,s,t)=>{var r=t(10);H.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},(H,s,t)=>{var r=t(106),o=t(11),C=t(48),W=t(33),D=t(107),d=t(65),b=t(26),c=t(108),x=t(109),h=t(110),k=TypeError,m=function(w,f){this.stopped=w,this.result=f},u=m.prototype;H.exports=function(w,f,g){var y=g&&g.that,l=!!(g&&g.AS_ENTRIES),n=!!(g&&g.IS_RECORD),a=!!(g&&g.IS_ITERATOR),v=!!(g&&g.INTERRUPTED),_=r(f,y),I,V,E,ee,K,O,L,T=function(M){return I&&h(I,"normal",M),new m(!0,M)},B=function(M){return l?(C(M),v?_(M[0],M[1],T):_(M[0],M[1])):v?_(M,T):_(M)};if(n)I=w.iterator;else if(a)I=w;else{if(V=x(w),!V)throw k(W(w)+" is not iterable");if(D(V)){for(E=0,ee=d(w);ee>E;E++)if(K=B(w[E]),K&&b(u,K))return K;return new m(!1)}I=c(w,V)}for(O=n?w.next:I.next;!(L=o(O,I)).done;){try{K=B(L.value)}catch(M){h(I,"throw",M)}if(typeof K=="object"&&K&&b(u,K))return K}return new m(!1)}},(H,s,t)=>{var r=t(17),o=t(32),C=t(12),W=r(r.bind);H.exports=function(D,d){return o(D),d===void 0?D:C?W(D,d):function(){return D.apply(d,arguments)}}},(H,s,t)=>{var r=t(35),o=t(88),C=r("iterator"),W=Array.prototype;H.exports=function(D){return D!==void 0&&(o.Array===D||W[C]===D)}},(H,s,t)=>{var r=t(11),o=t(32),C=t(48),W=t(33),D=t(109),d=TypeError;H.exports=function(b,c){var x=arguments.length<2?D(b):c;if(o(x))return C(r(x,b));throw d(W(b)+" is not iterable")}},(H,s,t)=>{var r=t(80),o=t(31),C=t(88),W=t(35),D=W("iterator");H.exports=function(d){if(d!=null)return o(d,D)||o(d,"@@iterator")||C[r(d)]}},(H,s,t)=>{var r=t(11),o=t(48),C=t(31);H.exports=function(W,D,d){var b,c;o(W);try{if(b=C(W,"return"),!b){if(D==="throw")throw d;return d}b=r(b,W)}catch(x){c=!0,b=x}if(D==="throw")throw d;if(c)throw b;return o(b),d}},(H,s,t)=>{var r=t(26),o=TypeError;H.exports=function(C,W){if(r(W,C))return C;throw o("Incorrect invocation")}},(H,s,t)=>{var r=t(35),o=r("iterator"),C=!1;try{var W=0,D={next:function(){return{done:!!W++}},return:function(){C=!0}};D[o]=function(){return this},Array.from(D,function(){throw 2})}catch(d){}H.exports=function(d,b){if(!b&&!C)return!1;var c=!1;try{var x={};x[o]=function(){return{next:function(){return{done:c=!0}}}},d(x)}catch(h){}return c}},(H,s,t)=>{var r=t(23),o=t(22),C=t(84);H.exports=function(W,D,d){var b,c;return C&&r(b=D.constructor)&&b!==d&&o(c=b.prototype)&&c!==d.prototype&&C(W,c),W}},(H,s,t)=>{"use strict";var r=t(46).f,o=t(71),C=t(115),W=t(106),D=t(111),d=t(105),b=t(89),c=t(116),x=t(9),h=t(98).fastKey,k=t(53),m=k.set,u=k.getterFor;H.exports={getConstructor:function(w,f,g,y){var l=w(function(I,V){D(I,n),m(I,{type:f,index:o(null),first:void 0,last:void 0,size:0}),x||(I.size=0),V!=null&&d(V,I[y],{that:I,AS_ENTRIES:g})}),n=l.prototype,a=u(f),v=function(I,V,E){var ee=a(I),K=_(I,V),O,L;return K?K.value=E:(ee.last=K={index:L=h(V,!0),key:V,value:E,previous:O=ee.last,next:void 0,removed:!1},ee.first||(ee.first=K),O&&(O.next=K),x?ee.size++:I.size++,L!=="F"&&(ee.index[L]=K)),I},_=function(I,V){var E=a(I),ee=h(V),K;if(ee!=="F")return E.index[ee];for(K=E.first;K;K=K.next)if(K.key==V)return K};return C(n,{clear:function(){for(var V=this,E=a(V),ee=E.index,K=E.first;K;)K.removed=!0,K.previous&&(K.previous=K.previous.next=void 0),delete ee[K.index],K=K.next;E.first=E.last=void 0,x?E.size=0:V.size=0},delete:function(I){var V=this,E=a(V),ee=_(V,I);if(ee){var K=ee.next,O=ee.previous;delete E.index[ee.index],ee.removed=!0,O&&(O.next=K),K&&(K.previous=O),E.first==ee&&(E.first=K),E.last==ee&&(E.last=O),x?E.size--:V.size--}return!!ee},forEach:function(V){for(var E=a(this),ee=W(V,arguments.length>1?arguments[1]:void 0),K;K=K?K.next:E.first;)for(ee(K.value,K.key,this);K&&K.removed;)K=K.previous},has:function(V){return!!_(this,V)}}),C(n,g?{get:function(V){var E=_(this,V);return E&&E.value},set:function(V,E){return v(this,V===0?0:V,E)}}:{add:function(V){return v(this,V=V===0?0:V,V)}}),x&&r(n,"size",{get:function(){return a(this).size}}),l},setStrong:function(w,f,g){var y=f+" Iterator",l=u(f),n=u(y);b(w,f,function(a,v){m(this,{type:y,target:a,state:l(a),kind:v,last:void 0})},function(){for(var a=n(this),v=a.kind,_=a.last;_&&_.removed;)_=_.previous;return!a.target||!(a.last=_=_?_.next:a.state.first)?(a.target=void 0,{value:void 0,done:!0}):v=="keys"?{value:_.key,done:!1}:v=="values"?{value:_.value,done:!1}:{value:[_.key,_.value],done:!1}},g?"entries":"values",!g,!0),c(f)}}},(H,s,t)=>{var r=t(49);H.exports=function(o,C,W){for(var D in C)r(o,D,C[D],W);return o}},(H,s,t)=>{"use strict";var r=t(25),o=t(46),C=t(35),W=t(9),D=C("species");H.exports=function(d){var b=r(d),c=o.f;W&&b&&!b[D]&&c(b,D,{configurable:!0,get:function(){return this}})}},(H,s,t)=>{t(118)},(H,s,t)=>{"use strict";var r=t(97),o=t(114);r("Set",function(C){return function(){return C(this,arguments.length?arguments[0]:void 0)}},o)},(H,s,t)=>{var r=t(37),o=t(6),C=t(7),W=t(25),D=t(17),d=t(10),b=t(42),c=t(23),x=t(120),h=t(22),k=t(24),m=t(105),u=t(48),w=t(80),f=t(40),g=t(101),y=t(45),l=t(65),n=t(121),a=t(122),v=t(124),_=t(29),I=t(125),V=t(126),E=t(127),ee=C.Object,K=C.Date,O=C.Error,L=C.EvalError,T=C.RangeError,B=C.ReferenceError,M=C.SyntaxError,P=C.TypeError,Y=C.URIError,Z=C.PerformanceMark,J=C.WebAssembly,_e=J&&J.CompileError||O,z=J&&J.LinkError||O,S=J&&J.RuntimeError||O,A=W("DOMException"),j=W("Set"),$=W("Map"),p=$.prototype,R=D(p.has),F=D(p.get),U=D(p.set),q=D(j.prototype.add),te=W("Object","keys"),le=D([].push),ge=D((!0).valueOf),Se=D(1 .valueOf),Ae=D("".valueOf),Pe=D(K.prototype.getTime),Ee=b("structuredClone"),ke="DataCloneError",Be="Transferring",Ue=function(oe){return!d(function(){var Te=new C.Set([7]),Fe=oe(Te),me=oe(ee(7));return Fe==Te||!Fe.has(7)||typeof me!="object"||me!=7})&&oe},$e=function(oe,Te){return!d(function(){var Fe=new Te,me=oe({a:Fe,b:Fe});return!(me&&me.a===me.b&&me.a instanceof Te&&me.a.stack===Fe.stack)})},qe=function(oe){return!d(function(){var Te=oe(new C.AggregateError([1],Ee,{cause:3}));return Te.name!="AggregateError"||Te.errors[0]!=1||Te.message!=Ee||Te.cause!=3})},We=C.structuredClone,Oe=r||!$e(We,O)||!$e(We,A)||!qe(We),Ne=!We&&Ue(function(oe){return new Z(Ee,{detail:oe}).detail}),ze=Ue(We)||Ne,xe=function(oe){throw new A("Uncloneable type: "+oe,ke)},he=function(oe,Te){throw new A((Te||"Cloning")+" of "+oe+" cannot be properly polyfilled in this engine",ke)},ye=function(oe,Te){if(k(oe)&&xe("Symbol"),!h(oe))return oe;if(Te){if(R(Te,oe))return F(Te,oe)}else Te=new $;var Fe=w(oe),me=!1,ae,ue,Me,je,Re,ce,de,Ce,De,Ve;switch(Fe){case"Array":Me=[],me=!0;break;case"Object":Me={},me=!0;break;case"Map":Me=new $,me=!0;break;case"Set":Me=new j,me=!0;break;case"RegExp":Me=new RegExp(oe.source,a(oe));break;case"Error":switch(ue=oe.name,ue){case"AggregateError":Me=W("AggregateError")([]);break;case"EvalError":Me=L();break;case"RangeError":Me=T();break;case"ReferenceError":Me=B();break;case"SyntaxError":Me=M();break;case"TypeError":Me=P();break;case"URIError":Me=Y();break;case"CompileError":Me=_e();break;case"LinkError":Me=z();break;case"RuntimeError":Me=S();break;default:Me=O()}me=!0;break;case"DOMException":Me=new A(oe.message,oe.name),me=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":ae=C[Fe],h(ae)||he(Fe),Me=new ae(ye(oe.buffer,Te),oe.byteOffset,Fe==="DataView"?oe.byteLength:oe.length);break;case"DOMQuad":try{Me=new DOMQuad(ye(oe.p1,Te),ye(oe.p2,Te),ye(oe.p3,Te),ye(oe.p4,Te))}catch(Ye){ze?Me=ze(oe):he(Fe)}break;case"FileList":if(ae=C.DataTransfer,x(ae)){for(je=new ae,Re=0,ce=l(oe);Re<ce;Re++)je.items.add(ye(oe[Re],Te));Me=je.files}else ze?Me=ze(oe):he(Fe);break;case"ImageData":try{Me=new ImageData(ye(oe.data,Te),oe.width,oe.height,{colorSpace:oe.colorSpace})}catch(Ye){ze?Me=ze(oe):he(Fe)}break;default:if(ze)Me=ze(oe);else switch(Fe){case"BigInt":Me=ee(oe.valueOf());break;case"Boolean":Me=ee(ge(oe));break;case"Number":Me=ee(Se(oe));break;case"String":Me=ee(Ae(oe));break;case"Date":Me=new K(Pe(oe));break;case"ArrayBuffer":ae=C.DataView,!ae&&typeof oe.slice!="function"&&he(Fe);try{if(typeof oe.slice=="function")Me=oe.slice(0);else for(ce=oe.byteLength,Me=new ArrayBuffer(ce),De=new ae(oe),Ve=new ae(Me),Re=0;Re<ce;Re++)Ve.setUint8(Re,De.getUint8(Re))}catch(Ye){throw new A("ArrayBuffer is detached",ke)}break;case"SharedArrayBuffer":Me=oe;break;case"Blob":try{Me=oe.slice(0,oe.size,oe.type)}catch(Ye){he(Fe)}break;case"DOMPoint":case"DOMPointReadOnly":ae=C[Fe];try{Me=ae.fromPoint?ae.fromPoint(oe):new ae(oe.x,oe.y,oe.z,oe.w)}catch(Ye){he(Fe)}break;case"DOMRect":case"DOMRectReadOnly":ae=C[Fe];try{Me=ae.fromRect?ae.fromRect(oe):new ae(oe.x,oe.y,oe.width,oe.height)}catch(Ye){he(Fe)}break;case"DOMMatrix":case"DOMMatrixReadOnly":ae=C[Fe];try{Me=ae.fromMatrix?ae.fromMatrix(oe):new ae(oe)}catch(Ye){he(Fe)}break;case"AudioData":case"VideoFrame":c(oe.clone)||he(Fe);try{Me=oe.clone()}catch(Ye){xe(Fe)}break;case"File":try{Me=new File([oe],oe.name,oe)}catch(Ye){he(Fe)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":he(Fe);default:xe(Fe)}}if(U(Te,oe,Me),me)switch(Fe){case"Array":case"Object":for(de=te(oe),Re=0,ce=l(de);Re<ce;Re++)Ce=de[Re],g(Me,Ce,ye(oe[Ce],Te));break;case"Map":oe.forEach(function(Ye,et){U(Me,ye(et,Te),ye(Ye,Te))});break;case"Set":oe.forEach(function(Ye){q(Me,ye(Ye,Te))});break;case"Error":y(Me,"message",ye(oe.message,Te)),f(oe,"cause")&&y(Me,"cause",ye(oe.cause,Te)),ue=="AggregateError"&&(Me.errors=ye(oe.errors,Te));case"DOMException":v&&y(Me,"stack",ye(oe.stack,Te))}return Me},Q=We&&!d(function(){if(V&&_>92||E&&_>94||I&&_>97)return!1;var oe=new ArrayBuffer(8),Te=We(oe,{transfer:[oe]});return oe.byteLength!=0||Te.byteLength!=8}),ve=function(oe,Te){if(!h(oe))throw P("Transfer option cannot be converted to a sequence");var Fe=[];m(oe,function(De){le(Fe,u(De))});var me=0,ae=l(Fe),ue,Me,je,Re,ce,de,Ce;if(Q)for(Re=We(Fe,{transfer:Fe});me<ae;)U(Te,Fe[me],Re[me++]);else for(;me<ae;){if(ue=Fe[me++],R(Te,ue))throw new A("Duplicate transferable",ke);switch(Me=w(ue),Me){case"ImageBitmap":je=C.OffscreenCanvas,x(je)||he(Me,Be);try{de=new je(ue.width,ue.height),Ce=de.getContext("bitmaprenderer"),Ce.transferFromImageBitmap(ue),ce=de.transferToImageBitmap()}catch(De){}break;case"AudioData":case"VideoFrame":(!c(ue.clone)||!c(ue.close))&&he(Me,Be);try{ce=ue.clone(),ue.close()}catch(De){}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":he(Me,Be)}if(ce===void 0)throw new A("This object cannot be transferred: "+Me,ke);U(Te,ue,ce)}};o({global:!0,enumerable:!0,sham:!Q,forced:Oe},{structuredClone:function(Te){var Fe=n(arguments.length,1)>1&&arguments[1]!=null?u(arguments[1]):void 0,me=Fe?Fe.transfer:void 0,ae;return me!==void 0&&(ae=new $,ve(me,ae)),ye(Te,ae)}})},(H,s,t)=>{var r=t(17),o=t(10),C=t(23),W=t(80),D=t(25),d=t(52),b=function(){},c=[],x=D("Reflect","construct"),h=/^\s*(?:class|function)\b/,k=r(h.exec),m=!h.exec(b),u=function(g){if(!C(g))return!1;try{return x(b,c,g),!0}catch(y){return!1}},w=function(g){if(!C(g))return!1;switch(W(g)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!k(h,d(g))}catch(y){return!0}};w.sham=!0,H.exports=!x||o(function(){var f;return u(u.call)||!u(Object)||!u(function(){f=!0})||f})?w:u},H=>{var s=TypeError;H.exports=function(t,r){if(t<r)throw s("Not enough arguments");return t}},(H,s,t)=>{var r=t(11),o=t(40),C=t(26),W=t(123),D=RegExp.prototype;H.exports=function(d){var b=d.flags;return b===void 0&&!("flags"in D)&&!o(d,"flags")&&C(D,d)?r(W,d):b}},(H,s,t)=>{"use strict";var r=t(48);H.exports=function(){var o=r(this),C="";return o.hasIndices&&(C+="d"),o.global&&(C+="g"),o.ignoreCase&&(C+="i"),o.multiline&&(C+="m"),o.dotAll&&(C+="s"),o.unicode&&(C+="u"),o.unicodeSets&&(C+="v"),o.sticky&&(C+="y"),C}},(H,s,t)=>{var r=t(10),o=t(14);H.exports=!r(function(){var C=Error("a");return"stack"in C?(Object.defineProperty(C,"stack",o(1,7)),C.stack!==7):!0})},(H,s,t)=>{var r=t(126),o=t(127);H.exports=!r&&!o&&typeof window=="object"&&typeof document=="object"},H=>{H.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},(H,s,t)=>{var r=t(18),o=t(7);H.exports=r(o.process)=="process"},(H,s,t)=>{var r=t(7);H.exports=r},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(130),_display_utils=__w_pdfjs_require__(133),_font_loader=__w_pdfjs_require__(136),_canvas=__w_pdfjs_require__(137),_worker_options=__w_pdfjs_require__(140),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(141),_metadata=__w_pdfjs_require__(142),_optional_content_config=__w_pdfjs_require__(143),_transport_stream=__w_pdfjs_require__(144),_xfa_text=__w_pdfjs_require__(145);function _classPrivateMethodInitSpec(H,s){_checkPrivateRedeclaration(H,s),s.add(H)}function _classPrivateMethodGet(H,s,t){if(!s.has(H))throw new TypeError("attempted to get private field on non-instance");return t}function _classPrivateFieldInitSpec(H,s,t){_checkPrivateRedeclaration(H,s),s.set(H,t)}function _checkPrivateRedeclaration(H,s){if(s.has(H))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(H,s,t){var r=_classExtractFieldDescriptor(H,s,"set");return _classApplyDescriptorSet(H,r,t),t}function _classPrivateFieldGet(H,s){var t=_classExtractFieldDescriptor(H,s,"get");return _classApplyDescriptorGet(H,t)}function _classExtractFieldDescriptor(H,s,t){if(!s.has(H))throw new TypeError("attempted to "+t+" private field on non-instance");return s.get(H)}function _classStaticPrivateFieldSpecSet(H,s,t,r){return _classCheckPrivateStaticAccess(H,s),_classCheckPrivateStaticFieldDescriptor(t,"set"),_classApplyDescriptorSet(H,t,r),r}function _classApplyDescriptorSet(H,s,t){if(s.set)s.set.call(H,t);else{if(!s.writable)throw new TypeError("attempted to set read only private field");s.value=t}}function _classStaticPrivateFieldSpecGet(H,s,t){return _classCheckPrivateStaticAccess(H,s),_classCheckPrivateStaticFieldDescriptor(t,"get"),_classApplyDescriptorGet(H,t)}function _classCheckPrivateStaticFieldDescriptor(H,s){if(H===void 0)throw new TypeError("attempted to "+s+" private static field before its declaration")}function _classCheckPrivateStaticAccess(H,s){if(H!==s)throw new TypeError("Private static access of wrong provenance")}function _classApplyDescriptorGet(H,s){return s.get?s.get.call(H):s.value}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:H,NodeCMapReaderFactory:s,NodeStandardFontDataFactory:t}=__w_pdfjs_require__(146);exports.DefaultCanvasFactory=DefaultCanvasFactory=H,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=s,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=t}let createPDFNetworkStream;function setPDFNetworkStreamFactory(H){createPDFNetworkStream=H}function getDocument(H){const s=new PDFDocumentLoadingTask;let t;if(typeof H=="string"||H instanceof URL)t={url:H};else if((0,_util.isArrayBuffer)(H))t={data:H};else if(H instanceof PDFDataRangeTransport)t={range:H};else{if(typeof H!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!H.url&&!H.data&&!H.range)throw new Error("Invalid parameter object: need either .data, .range or .url");t=H}const r=Object.create(null);let o=null,C=null;for(const D in t){const d=t[D];switch(D){case"url":if(typeof window!="undefined")try{r[D]=new URL(d,window.location).href;continue}catch(b){(0,_util.warn)(`Cannot create valid URL: "${b}".`)}else if(typeof d=="string"||d instanceof URL){r[D]=d.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":o=d;continue;case"worker":C=d;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer!="undefined"&&d instanceof Buffer)r[D]=new Uint8Array(d);else{if(d instanceof Uint8Array)break;if(typeof d=="string")r[D]=(0,_util.stringToBytes)(d);else if(typeof d=="object"&&d!==null&&!isNaN(d.length))r[D]=new Uint8Array(d);else if((0,_util.isArrayBuffer)(d))r[D]=new Uint8Array(d);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}r[D]=d}if(r.CMapReaderFactory=r.CMapReaderFactory||DefaultCMapReaderFactory,r.StandardFontDataFactory=r.StandardFontDataFactory||DefaultStandardFontDataFactory,r.ignoreErrors=r.stopAtErrors!==!0,r.fontExtraProperties=r.fontExtraProperties===!0,r.pdfBug=r.pdfBug===!0,r.enableXfa=r.enableXfa===!0,(!Number.isInteger(r.rangeChunkSize)||r.rangeChunkSize<1)&&(r.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof r.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(r.docBaseUrl))&&(r.docBaseUrl=null),(!Number.isInteger(r.maxImageSize)||r.maxImageSize<-1)&&(r.maxImageSize=-1),typeof r.cMapUrl!="string"&&(r.cMapUrl=null),typeof r.standardFontDataUrl!="string"&&(r.standardFontDataUrl=null),typeof r.useWorkerFetch!="boolean"&&(r.useWorkerFetch=r.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&r.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof r.isEvalSupported!="boolean"&&(r.isEvalSupported=!0),typeof r.disableFontFace!="boolean"&&(r.disableFontFace=_is_node.isNodeJS),typeof r.useSystemFonts!="boolean"&&(r.useSystemFonts=!_is_node.isNodeJS&&!r.disableFontFace),(typeof r.ownerDocument!="object"||r.ownerDocument===null)&&(r.ownerDocument=globalThis.document),typeof r.disableRange!="boolean"&&(r.disableRange=!1),typeof r.disableStream!="boolean"&&(r.disableStream=!1),typeof r.disableAutoFetch!="boolean"&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!C){const D={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};C=D.port?_PDFWorker.fromPort(D):new _PDFWorker(D),s._worker=C}const W=s.docId;return C.promise.then(function(){if(s.destroyed)throw new Error("Loading aborted");const D=_fetchDocument(C,r,o,W),d=new Promise(function(b){let c;o?c=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,contentDispositionFilename:r.contentDispositionFilename,disableRange:r.disableRange,disableStream:r.disableStream},o):r.data||(c=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),b(c)});return Promise.all([D,d]).then(function(b){let[c,x]=b;if(s.destroyed)throw new Error("Loading aborted");const h=new _message_handler.MessageHandler(W,c,C.port),k=new WorkerTransport(h,s,x,r);s._transport=k,h.send("Ready",null)})}).catch(s._capability.reject),s}function _fetchDocument(H,s,t,r){return st(this,null,function*(){if(H.destroyed)throw new Error("Worker was destroyed");t&&(s.length=t.length,s.initialData=t.initialData,s.progressiveDone=t.progressiveDone,s.contentDispositionFilename=t.contentDispositionFilename);const o=yield H.messageHandler.sendWithPromise("GetDocRequest",{docId:r,apiVersion:"2.16.105",source:{data:s.data,url:s.url,password:s.password,disableAutoFetch:s.disableAutoFetch,rangeChunkSize:s.rangeChunkSize,length:s.length},maxImageSize:s.maxImageSize,disableFontFace:s.disableFontFace,docBaseUrl:s.docBaseUrl,ignoreErrors:s.ignoreErrors,isEvalSupported:s.isEvalSupported,fontExtraProperties:s.fontExtraProperties,enableXfa:s.enableXfa,useSystemFonts:s.useSystemFonts,cMapUrl:s.useWorkerFetch?s.cMapUrl:null,standardFontDataUrl:s.useWorkerFetch?s.standardFontDataUrl:null});if(s.data&&(s.data=null),H.destroyed)throw new Error("Worker was destroyed");return o})}class PDFDocumentLoadingTask{constructor(){var s,t;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(s=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),t=s++,s)),t}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){return st(this,null,function*(){var s;this.destroyed=!0,yield(s=this._transport)===null||s===void 0?void 0:s.destroy(),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var _docId={writable:!0,value:0};class PDFDataRangeTransport{constructor(s,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this.length=s,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=o,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(s){this._rangeListeners.push(s)}addProgressListener(s){this._progressListeners.push(s)}addProgressiveReadListener(s){this._progressiveReadListeners.push(s)}addProgressiveDoneListener(s){this._progressiveDoneListeners.push(s)}onDataRange(s,t){for(const r of this._rangeListeners)r(s,t)}onDataProgress(s,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(s,t)})}onDataProgressiveRead(s){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(s)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const s of this._progressiveDoneListeners)s()})}transportReady(){this._readyCapability.resolve()}requestDataRange(s,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(s,t){this._pdfInfo=s,this._transport=t,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:()=>st(this,null,function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(s){return this._transport.getPage(s)}getPageIndex(s){return this._transport.getPageIndex(s)}getDestinations(){return this._transport.getDestinations()}getDestination(s){return this._transport.getDestination(s)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._transport.startCleanup(s||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(s,t,r,o){let C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;this._pageIndex=s,this._pageInfo=t,this._ownerDocument=o,this._transport=r,this._stats=C?new _display_utils.StatTimer:null,this._pdfBug=C,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:s,rotation:t=this.rotate,offsetX:r=0,offsetY:o=0,dontFlip:C=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:s,rotation:t,offsetX:r,offsetY:o,dontFlip:C})}getAnnotations(){let{intent:s="display"}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=this._transport.getRenderingIntent(s);let r=this._annotationPromises.get(t.cacheKey);return r||(r=this._transport.getAnnotations(this._pageIndex,t.renderingIntent),this._annotationPromises.set(t.cacheKey,r),r=r.then(o=>{for(const C of o)C.titleObj!==void 0&&Object.defineProperty(C,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),C.titleObj.str}}),C.contentsObj!==void 0&&Object.defineProperty(C,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),C.contentsObj.str}});return o})),r}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){return st(this,null,function*(){var s;return((s=this._transport._htmlForXfa)===null||s===void 0?void 0:s.children[this._pageIndex])||null})}render(s){var t,r,o;let{canvasContext:C,viewport:W,intent:D="display",annotationMode:d=_util.AnnotationMode.ENABLE,transform:b=null,imageLayer:c=null,canvasFactory:x=null,background:h=null,optionalContentConfigPromise:k=null,annotationCanvasMap:m=null,pageColors:u=null,printAnnotationStorage:w=null}=s;((t=arguments[0])===null||t===void 0?void 0:t.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&d===_util.AnnotationMode.ENABLE&&(d=_util.AnnotationMode.ENABLE_FORMS)),((r=arguments[0])===null||r===void 0?void 0:r.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&d===_util.AnnotationMode.ENABLE&&(d=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const f=this._transport.getRenderingIntent(D,d,w);this.pendingCleanup=!1,k||(k=this._transport.getOptionalContentConfig());let g=this._intentStates.get(f.cacheKey);g||(g=Object.create(null),this._intentStates.set(f.cacheKey,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const y=x||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),l=!!(f.renderingIntent&_util.RenderingIntentFlag.PRINT);g.displayReadyCapability||(g.displayReadyCapability=(0,_util.createPromiseCapability)(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(f));const n=_=>{g.renderTasks.delete(a),(this.cleanupAfterRender||l)&&(this.pendingCleanup=!0),this._tryCleanup(),_?(a.capability.reject(_),this._abortOperatorList({intentState:g,reason:_ instanceof Error?_:new Error(_)})):a.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},a=new InternalRenderTask({callback:n,params:{canvasContext:C,viewport:W,transform:b,imageLayer:c,background:h},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:m,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:y,useRequestAnimationFrame:!l,pdfBug:this._pdfBug,pageColors:u});((o=g).renderTasks||(o.renderTasks=new Set)).add(a);const v=a.task;return Promise.all([g.displayReadyCapability.promise,k]).then(_=>{let[I,V]=_;if(this.pendingCleanup){n();return}this._stats&&this._stats.time("Rendering"),a.initializeGraphics({transparency:I,optionalContentConfig:V}),a.operatorListChanged()}).catch(n),v}getOperatorList(){let{intent:s="display",annotationMode:t=_util.AnnotationMode.ENABLE,printAnnotationStorage:r=null}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function o(){W.operatorList.lastChunk&&(W.opListReadCapability.resolve(W.operatorList),W.renderTasks.delete(D))}const C=this._transport.getRenderingIntent(s,t,r,!0);let W=this._intentStates.get(C.cacheKey);W||(W=Object.create(null),this._intentStates.set(C.cacheKey,W));let D;if(!W.opListReadCapability){var d;D=Object.create(null),D.operatorListChanged=o,W.opListReadCapability=(0,_util.createPromiseCapability)(),((d=W).renderTasks||(d.renderTasks=new Set)).add(D),W.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(C)}return W.opListReadCapability.promise}streamTextContent(){let{disableCombineTextItems:s=!1,includeMarkedContent:t=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:s!==!0,includeMarkedContent:t===!0},{highWaterMark:r,size(o){return o.items.length}})}getTextContent(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(r=>_xfa_text.XfaText.textContent(r));const t=this.streamTextContent(s);return new Promise(function(r,o){function C(){W.read().then(function(d){let{value:b,done:c}=d;if(c){r(D);return}Object.assign(D.styles,b.styles),D.items.push(...b.items),C()},o)}const W=t.getReader(),D={items:[],styles:Object.create(null)};C()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const s=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)s.push(r.completed),r.cancel();this.objs.clear();for(const t of this._bitmaps)t.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(s)}cleanup(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.pendingCleanup=!0,this._tryCleanup(s)}_tryCleanup(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.pendingCleanup)return!1;for(const{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,s&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const t of this._bitmaps)t.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(s,t){const r=this._intentStates.get(t);r&&(this._stats&&this._stats.timeEnd("Page Request"),r.displayReadyCapability&&r.displayReadyCapability.resolve(s))}_renderPageChunk(s,t){for(let r=0,o=s.length;r<o;r++)t.operatorList.fnArray.push(s.fnArray[r]),t.operatorList.argsArray.push(s.argsArray[r]);t.operatorList.lastChunk=s.lastChunk,t.operatorList.separateAnnots=s.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();s.lastChunk&&this._tryCleanup()}_pumpOperatorList(s){let{renderingIntent:t,cacheKey:r,annotationStorageMap:o}=s;const W=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:r,annotationStorage:o}).getReader(),D=this._intentStates.get(r);D.streamReader=W;const d=()=>{W.read().then(b=>{let{value:c,done:x}=b;if(x){D.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(c,D),d())},b=>{if(D.streamReader=null,!this._transport.destroyed){if(D.operatorList){D.operatorList.lastChunk=!0;for(const c of D.renderTasks)c.operatorListChanged();this._tryCleanup()}if(D.displayReadyCapability)D.displayReadyCapability.reject(b);else if(D.opListReadCapability)D.opListReadCapability.reject(b);else throw b}})};d()}_abortOperatorList(s){let{intentState:t,reason:r,force:o=!1}=s;if(t.streamReader){if(!o){if(t.renderTasks.size>0)return;if(r instanceof _display_utils.RenderingCancelledException){t.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:t,reason:r,force:!0}),t.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(t.streamReader.cancel(new _util.AbortException(r.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[C,W]of this._intentStates)if(W===t){this._intentStates.delete(C);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(s,t){const r={data:structuredClone(s,t)};this._deferred.then(()=>{for(const o of this._listeners)o.call(this,r)})}addEventListener(s,t){this._listeners.push(t)}removeEventListener(s,t){const r=this._listeners.indexOf(t);this._listeners.splice(r,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){var _document,_document$currentScri;const H=(_document=document)===null||_document===void 0||(_document$currentScri=_document.currentScript)===null||_document$currentScri===void 0?void 0:_document$currentScri.src;H&&(PDFWorkerUtil.fallbackWorkerSrc=H.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(H,s){let t;try{if(t=new URL(H),!t.origin||t.origin==="null")return!1}catch(o){return!1}const r=new URL(s,t);return t.origin===r.origin},PDFWorkerUtil.createCDNWrapper=function(H){const s=`importScripts("${H}");`;return URL.createObjectURL(new Blob([s]))}}class _PDFWorker{constructor(){let{name:H=null,port:s=null,verbosity:t=(0,_util.getVerbosityLevel)()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(s&&_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).has(s))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=H,this.destroyed=!1,this.verbosity=t,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,s){_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).set(s,this),this._initializeFromPort(s);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(H){this._port=H,this._messageHandler=new _message_handler.MessageHandler("main","worker",H),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:H}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,H)||(H=PDFWorkerUtil.createCDNWrapper(new URL(H,window.location).href));const s=new Worker(H),t=new _message_handler.MessageHandler("main","worker",s),r=()=>{s.removeEventListener("error",o),t.destroy(),s.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=()=>{this._webWorker||r()};s.addEventListener("error",o),t.on("test",W=>{if(s.removeEventListener("error",o),this.destroyed){r();return}W?(this._messageHandler=t,this._port=s,this._webWorker=s,this._readyCapability.resolve(),t.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),t.destroy(),s.terminate())}),t.on("ready",W=>{if(s.removeEventListener("error",o),this.destroyed){r();return}try{C()}catch(D){this._setupFakeWorker()}});const C=()=>{const W=new Uint8Array;t.send("test",W,[W.buffer])};C();return}catch(s){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(H=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const s=new LoopbackPort;this._port=s;const t=`fake${PDFWorkerUtil.fakeWorkerId++}`,r=new _message_handler.MessageHandler(t+"_worker",t,s);H.setup(r,s);const o=new _message_handler.MessageHandler(t,t+"_worker",s);this._messageHandler=o,this._readyCapability.resolve(),o.send("configure",{verbosity:this.verbosity})}).catch(H=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${H.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(H){if(!(H!=null&&H.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).has(H.port)?_classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).get(H.port):new _PDFWorker(H)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{var H;return((H=globalThis.pdfjsWorker)===null||H===void 0?void 0:H.WorkerMessageHandler)||null}catch(s){return null}}static get _setupFakeWorkerGlobal(){const loader=()=>st(this,null,function*(){const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker;var _workerPorts={writable:!0,value:new WeakMap};_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(s,t,r,o){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=s,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:t.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:o.ownerDocument,styleElement:o.styleElement}),this._params=o,o.useWorkerFetch||(this.CMapReaderFactory=new o.CMapReaderFactory({baseUrl:o.cMapUrl,isCompressed:o.cMapPacked}),this.StandardFontDataFactory=new o.StandardFontDataFactory({baseUrl:o.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_util.AnnotationMode.ENABLE,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,C=_util.RenderingIntentFlag.DISPLAY,W=null;switch(s){case"any":C=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":C=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${s}`)}switch(t){case _util.AnnotationMode.DISABLE:C+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:C+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:C+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,W=(C&_util.RenderingIntentFlag.PRINT&&r instanceof _annotation_storage.PrintAnnotationStorage?r:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${t}`)}return o&&(C+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:C,cacheKey:`${C}_${_annotation_storage.AnnotationStorage.getHash(W)}`,annotationStorageMap:W}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const s=[];for(const r of _classPrivateFieldGet(this,_pageCache).values())s.push(r._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return s.push(t),Promise.all(s).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:s,loadingTask:t}=this;s.on("GetReader",(r,o)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=C=>{this._lastProgress={loaded:C.loaded,total:C.total}},o.onPull=()=>{this._fullReader.read().then(function(C){let{value:W,done:D}=C;if(D){o.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(W),"GetReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(W),1,[W])}).catch(C=>{o.error(C)})},o.onCancel=C=>{this._fullReader.cancel(C),o.ready.catch(W=>{if(!this.destroyed)throw W})}}),s.on("ReaderHeadersReady",r=>{const o=(0,_util.createPromiseCapability)(),C=this._fullReader;return C.headersReady.then(()=>{if(!C.isStreamingSupported||!C.isRangeSupported){if(this._lastProgress){var W;(W=t.onProgress)===null||W===void 0||W.call(t,this._lastProgress)}C.onProgress=D=>{var d;(d=t.onProgress)===null||d===void 0||d.call(t,{loaded:D.loaded,total:D.total})}}o.resolve({isStreamingSupported:C.isStreamingSupported,isRangeSupported:C.isRangeSupported,contentLength:C.contentLength})},o.reject),o.promise}),s.on("GetRangeReader",(r,o)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const C=this._networkStream.getRangeReader(r.begin,r.end);if(!C){o.close();return}o.onPull=()=>{C.read().then(function(W){let{value:D,done:d}=W;if(d){o.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(D),"GetRangeReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(D),1,[D])}).catch(W=>{o.error(W)})},o.onCancel=W=>{C.cancel(W),o.ready.catch(D=>{if(!this.destroyed)throw D})}}),s.on("GetDoc",r=>{let{pdfInfo:o}=r;this._numPages=o.numPages,this._htmlForXfa=o.htmlForXfa,delete o.htmlForXfa,t._capability.resolve(new PDFDocumentProxy(o,this))}),s.on("DocException",function(r){let o;switch(r.name){case"PasswordException":o=new _util.PasswordException(r.message,r.code);break;case"InvalidPDFException":o=new _util.InvalidPDFException(r.message);break;case"MissingPDFException":o=new _util.MissingPDFException(r.message);break;case"UnexpectedResponseException":o=new _util.UnexpectedResponseException(r.message,r.status);break;case"UnknownErrorException":o=new _util.UnknownErrorException(r.message,r.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}t._capability.reject(o)}),s.on("PasswordRequest",r=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),t.onPassword){const o=C=>{C instanceof Error?this._passwordCapability.reject(C):this._passwordCapability.resolve({password:C})};try{t.onPassword(o,r.code)}catch(C){this._passwordCapability.reject(C)}}else this._passwordCapability.reject(new _util.PasswordException(r.message,r.code));return this._passwordCapability.promise}),s.on("DataLoaded",r=>{var o;(o=t.onProgress)===null||o===void 0||o.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),s.on("StartRenderPage",r=>{if(this.destroyed)return;_classPrivateFieldGet(this,_pageCache).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),s.on("commonobj",r=>{var o;let[C,W,D]=r;if(!this.destroyed&&!this.commonObjs.has(C))switch(W){case"Font":const d=this._params;if("error"in D){const x=D.error;(0,_util.warn)(`Error during font loading: ${x}`),this.commonObjs.resolve(C,x);break}let b=null;d.pdfBug&&(o=globalThis.FontInspector)!==null&&o!==void 0&&o.enabled&&(b={registerFont(x,h){globalThis.FontInspector.fontAdded(x,h)}});const c=new _font_loader.FontFaceObject(D,{isEvalSupported:d.isEvalSupported,disableFontFace:d.disableFontFace,ignoreErrors:d.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:b});this.fontLoader.bind(c).catch(x=>s.sendWithPromise("FontFallback",{id:C})).finally(()=>{!d.fontExtraProperties&&c.data&&(c.data=null),this.commonObjs.resolve(C,c)});break;case"FontPath":case"Image":this.commonObjs.resolve(C,D);break;default:throw new Error(`Got unknown common object type ${W}`)}}),s.on("obj",r=>{let[o,C,W,D]=r;if(this.destroyed)return;const d=_classPrivateFieldGet(this,_pageCache).get(C);if(!d.objs.has(o))switch(W){case"Image":d.objs.resolve(o,D);const c=8e6;if(D){let x;if(D.bitmap){const{bitmap:h,width:k,height:m}=D;x=k*m*4,d._bitmaps.add(h)}else{var b;x=((b=D.data)===null||b===void 0?void 0:b.length)||0}x>c&&(d.cleanupAfterRender=!0)}break;case"Pattern":d.objs.resolve(o,D);break;default:throw new Error(`Got unknown object type ${W}`)}}),s.on("DocProgress",r=>{var o;this.destroyed||(o=t.onProgress)===null||o===void 0||o.call(t,{loaded:r.loaded,total:r.total})}),s.on("DocStats",r=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(r.streamTypes),fontTypes:Object.freeze(r.fontTypes)}))}),s.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),s.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),s.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature(s){var t,r;let{featureId:o}=s;this.destroyed||(t=(r=this.loadingTask).onUnsupportedFeature)===null||t===void 0||t.call(r,o)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(s){if(!Number.isInteger(s)||s<=0||s>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=s-1,r=_classPrivateFieldGet(this,_pagePromises).get(t);if(r)return r;const o=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(C=>{if(this.destroyed)throw new Error("Transport destroyed");const W=new PDFPageProxy(t,C,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(t,W),W});return _classPrivateFieldGet(this,_pagePromises).set(t,o),o}getPageIndex(s){return typeof s!="object"||s===null||!Number.isInteger(s.num)||s.num<0||!Number.isInteger(s.gen)||s.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:s.num,gen:s.gen})}getAnnotations(s,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:s,intent:t})}saveDocument(){var s,t;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(s=(t=this._fullReader)===null||t===void 0?void 0:t.filename)!==null&&s!==void 0?s:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(s){return typeof s!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:s})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(s){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:s})}getStructTree(s){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:s})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(s=>new _optional_content_config.OptionalContentConfig(s))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(s=>{var t,r,o,C;return{info:s[0],metadata:s[1]?new _metadata.Metadata(s[1]):null,contentDispositionFilename:(t=(r=this._fullReader)===null||r===void 0?void 0:r.filename)!==null&&t!==void 0?t:null,contentLength:(o=(C=this._fullReader)===null||C===void 0?void 0:C.contentLength)!==null&&o!==void 0?o:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(){return st(this,arguments,function*(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(yield this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const t of _classPrivateFieldGet(this,_pageCache).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),s||this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}})}get loadingParams(){const s=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:s.disableAutoFetch,enableXfa:s.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(t){const o=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,s);return o.capability.promise.then(()=>t(o.data)),null}const r=_classPrivateFieldGet(this,_objs)[s];if(!(r!=null&&r.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${s}.`);return r.data}has(s){const t=_classPrivateFieldGet(this,_objs)[s];return(t==null?void 0:t.capability.settled)||!1}resolve(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const r=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,s);r.data=t,r.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(H){const s=_classPrivateFieldGet(this,_objs)[H];return s||(_classPrivateFieldGet(this,_objs)[H]={capability:(0,_util.createPromiseCapability)(),data:null})}var _internalRenderTask=new WeakMap;class RenderTask{constructor(s){_classPrivateFieldInitSpec(this,_internalRenderTask,{writable:!0,value:null}),_classPrivateFieldSet(this,_internalRenderTask,s),this.onContinue=null}get promise(){return _classPrivateFieldGet(this,_internalRenderTask).capability.promise}cancel(){_classPrivateFieldGet(this,_internalRenderTask).cancel()}get separateAnnots(){const{separateAnnots:s}=_classPrivateFieldGet(this,_internalRenderTask).operatorList;if(!s)return!1;const{annotationCanvasMap:t}=_classPrivateFieldGet(this,_internalRenderTask);return s.form||s.canvas&&(t==null?void 0:t.size)>0}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor(s){let{callback:t,params:r,objs:o,commonObjs:C,annotationCanvasMap:W,operatorList:D,pageIndex:d,canvasFactory:b,useRequestAnimationFrame:c=!1,pdfBug:x=!1,pageColors:h=null}=s;this.callback=t,this.params=r,this.objs=o,this.commonObjs=C,this.annotationCanvasMap=W,this.operatorListIdx=null,this.operatorList=D,this._pageIndex=d,this.canvasFactory=b,this._pdfBug=x,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window!="undefined",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(s){var t;let{transparency:r=!1,optionalContentConfig:o}=s;if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&(t=globalThis.StepperManager)!==null&&t!==void 0&&t.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:C,viewport:W,transform:D,imageLayer:d,background:b}=this.params;this.gfx=new _canvas.CanvasGraphics(C,this.commonObjs,this.objs,this.canvasFactory,d,o,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:D,viewport:W,transparency:r,background:b}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(s||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){return st(this,null,function*(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback())))})}}var _canvasInUse={writable:!0,value:new WeakSet};const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.PrintAnnotationStorage=s.AnnotationStorage=void 0;var r=t(1),o=t(131),C=t(135);function W(l,n,a){k(l,n),n.set(l,a)}function D(l,n){var a=c(l,n,"get");return d(l,a)}function d(l,n){return n.get?n.get.call(l):n.value}function b(l,n,a){var v=c(l,n,"set");return x(l,v,a),a}function c(l,n,a){if(!n.has(l))throw new TypeError("attempted to "+a+" private field on non-instance");return n.get(l)}function x(l,n,a){if(n.set)n.set.call(l,a);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=a}}function h(l,n){k(l,n),n.add(l)}function k(l,n){if(n.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function m(l,n,a){if(!n.has(l))throw new TypeError("attempted to get private field on non-instance");return a}var u=new WeakSet;class w{constructor(){h(this,u),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(n,a){const v=this._storage.get(n);return v===void 0?a:Object.assign(a,v)}getRawValue(n){return this._storage.get(n)}remove(n){if(this._storage.delete(n),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const a of this._storage.values())if(a instanceof o.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(n,a){const v=this._storage.get(n);let _=!1;if(v!==void 0)for(const[I,V]of Object.entries(a))v[I]!==V&&(_=!0,v[I]=V);else _=!0,this._storage.set(n,a);_&&m(this,u,f).call(this),a instanceof o.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(a.constructor._type)}has(n){return this._storage.has(n)}getAll(){return this._storage.size>0?(0,r.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new y(this)}get serializable(){if(this._storage.size===0)return null;const n=new Map;for(const[a,v]of this._storage){const _=v instanceof o.AnnotationEditor?v.serialize():v;_&&n.set(a,_)}return n}static getHash(n){if(!n)return"";const a=new C.MurmurHash3_64;for(const[v,_]of n)a.update(`${v}:${JSON.stringify(_)}`);return a.hexdigest()}}s.AnnotationStorage=w;function f(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}var g=new WeakMap;class y extends w{constructor(n){super(),W(this,g,{writable:!0,value:null}),b(this,g,structuredClone(n.serializable))}get print(){(0,r.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return D(this,g)}}s.PrintAnnotationStorage=y},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditor=void 0;var r=t(132),o=t(1);function C(l,n,a){return n in l?Object.defineProperty(l,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):l[n]=a,l}function W(l,n,a){D(l,n),n.set(l,a)}function D(l,n){if(n.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function d(l,n,a){var v=x(l,n,"set");return b(l,v,a),a}function b(l,n,a){if(n.set)n.set.call(l,a);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=a}}function c(l,n){var a=x(l,n,"get");return h(l,a)}function x(l,n,a){if(!n.has(l))throw new TypeError("attempted to "+a+" private field on non-instance");return n.get(l)}function h(l,n){return n.get?n.get.call(l):n.value}var k=new WeakMap,m=new WeakMap,u=new WeakMap,w=new WeakMap,f=new WeakMap,g=new WeakMap;class y{constructor(n){W(this,k,{writable:!0,value:this.focusin.bind(this)}),W(this,m,{writable:!0,value:this.focusout.bind(this)}),W(this,u,{writable:!0,value:!1}),W(this,w,{writable:!0,value:!1}),W(this,f,{writable:!0,value:!1}),W(this,g,{writable:!0,value:y._zIndex++}),this.constructor===y&&(0,o.unreachable)("Cannot initialize AnnotationEditor."),this.parent=n.parent,this.id=n.id,this.width=this.height=null,this.pageIndex=n.parent.pageIndex,this.name=n.name,this.div=null;const[a,v]=this.parent.viewportBaseDimensions;this.x=n.x/a,this.y=n.y/v,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,o.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,g)}focusin(n){c(this,u)?d(this,u,!1):this.parent.setSelected(this)}focusout(n){if(!this.isAttachedToDOM)return;const a=n.relatedTarget;a!=null&&a.closest(`#${this.id}`)||(n.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(n){const a=this.parent.div.getBoundingClientRect();this.startX=n.clientX-a.x,this.startY=n.clientY-a.y,n.dataTransfer.setData("text/plain",this.id),n.dataTransfer.effectAllowed="move"}setAt(n,a,v,_){const[I,V]=this.parent.viewportBaseDimensions;[v,_]=this.screenToPageTranslation(v,_),this.x=(n+v)/I,this.y=(a+_)/V,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(n,a){const[v,_]=this.parent.viewportBaseDimensions;[n,a]=this.screenToPageTranslation(n,a),this.x+=n/v,this.y+=a/_,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(n,a){const{rotation:v}=this.parent.viewport;switch(v){case 90:return[a,-n];case 180:return[-n,-a];case 270:return[-a,n];default:return[n,a]}}setDims(n,a){const[v,_]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*n/v}%`,this.div.style.height=`${100*a/_}%`}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",c(this,k)),this.div.addEventListener("focusout",c(this,m));const[n,a]=this.getInitialTranslation();return this.translate(n,a),(0,r.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(n){const a=r.KeyboardManager.platform.isMac;if(n.button!==0||n.ctrlKey&&a){n.preventDefault();return}n.ctrlKey&&!a||n.shiftKey||n.metaKey&&a?this.parent.toggleSelected(this):this.parent.setSelected(this),d(this,u,!0)}getRect(n,a){const[v,_]=this.parent.viewportBaseDimensions,[I,V]=this.parent.pageDimensions,E=I*n/v,ee=V*a/_,K=this.x*I,O=this.y*V,L=this.width*I,T=this.height*V;switch(this.rotation){case 0:return[K+E,V-O-ee-T,K+E+L,V-O-ee];case 90:return[K+ee,V-O+E,K+ee+T,V-O+E+L];case 180:return[K-E-L,V-O+ee,K-E,V-O+ee+T];case 270:return[K-ee-T,V-O-E-L,K-ee,V-O-E];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(n,a){const[v,_,I,V]=n,E=I-v,ee=V-_;switch(this.rotation){case 0:return[v,a-V,E,ee];case 90:return[v,a-_,ee,E];case 180:return[I,a-_,E,ee];case 270:return[I,a-V,ee,E];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){d(this,f,!0)}disableEditMode(){d(this,f,!1)}isInEditMode(){return c(this,f)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var n;(n=this.div)===null||n===void 0||n.addEventListener("focusin",c(this,k))}serialize(){(0,o.unreachable)("An editor must be serializable")}static deserialize(n,a){const v=new this.prototype.constructor({parent:a,id:a.getNextId()});v.rotation=n.rotation;const[_,I]=a.pageDimensions,[V,E,ee,K]=v.getRectInCurrentCoords(n.rect,I);return v.x=V/_,v.y=E/I,v.width=ee/_,v.height=K/I,v}remove(){this.div.removeEventListener("focusin",c(this,k)),this.div.removeEventListener("focusout",c(this,m)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var n;(n=this.div)===null||n===void 0||n.classList.add("selectedEditor")}unselect(){var n;(n=this.div)===null||n===void 0||n.classList.remove("selectedEditor")}updateParams(n,a){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return c(this,w)}set isEditing(n){d(this,w,n),n?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}s.AnnotationEditor=y,C(y,"_colorManager",new r.ColorManager),C(y,"_zIndex",1)},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.KeyboardManager=s.CommandManager=s.ColorManager=s.AnnotationEditorUIManager=void 0,s.bindEvents=u,s.opacityToHex=w;var r=t(1),o=t(133);function C(xe,he,ye){return he in xe?Object.defineProperty(xe,he,{value:ye,enumerable:!0,configurable:!0,writable:!0}):xe[he]=ye,xe}function W(xe,he){b(xe,he),he.add(xe)}function D(xe,he,ye){if(!he.has(xe))throw new TypeError("attempted to get private field on non-instance");return ye}function d(xe,he,ye){b(xe,he),he.set(xe,ye)}function b(xe,he){if(he.has(xe))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(xe,he,ye){var Q=k(xe,he,"set");return x(xe,Q,ye),ye}function x(xe,he,ye){if(he.set)he.set.call(xe,ye);else{if(!he.writable)throw new TypeError("attempted to set read only private field");he.value=ye}}function h(xe,he){var ye=k(xe,he,"get");return m(xe,ye)}function k(xe,he,ye){if(!he.has(xe))throw new TypeError("attempted to "+ye+" private field on non-instance");return he.get(xe)}function m(xe,he){return he.get?he.get.call(xe):he.value}function u(xe,he,ye){for(const Q of ye)he.addEventListener(Q,xe[Q].bind(xe))}function w(xe){return Math.round(Math.min(255,Math.max(1,255*xe))).toString(16).padStart(2,"0")}var f=new WeakMap;class g{constructor(){d(this,f,{writable:!0,value:0})}getId(){var he,ye;return`${r.AnnotationEditorPrefix}${c(this,f,(he=h(this,f),ye=he++,he)),ye}`}}var y=new WeakMap,l=new WeakMap,n=new WeakMap,a=new WeakMap;class v{constructor(){let he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:128;d(this,y,{writable:!0,value:[]}),d(this,l,{writable:!0,value:!1}),d(this,n,{writable:!0,value:void 0}),d(this,a,{writable:!0,value:-1}),c(this,n,he)}add(he){let{cmd:ye,undo:Q,mustExec:ve,type:oe=NaN,overwriteIfSameType:Te=!1,keepUndo:Fe=!1}=he;if(ve&&ye(),h(this,l))return;const me={cmd:ye,undo:Q,type:oe};if(h(this,a)===-1){h(this,y).length>0&&(h(this,y).length=0),c(this,a,0),h(this,y).push(me);return}if(Te&&h(this,y)[h(this,a)].type===oe){Fe&&(me.undo=h(this,y)[h(this,a)].undo),h(this,y)[h(this,a)]=me;return}const ae=h(this,a)+1;ae===h(this,n)?h(this,y).splice(0,1):(c(this,a,ae),ae<h(this,y).length&&h(this,y).splice(ae)),h(this,y).push(me)}undo(){h(this,a)!==-1&&(c(this,l,!0),h(this,y)[h(this,a)].undo(),c(this,l,!1),c(this,a,h(this,a)-1))}redo(){h(this,a)<h(this,y).length-1&&(c(this,a,h(this,a)+1),c(this,l,!0),h(this,y)[h(this,a)].cmd(),c(this,l,!1))}hasSomethingToUndo(){return h(this,a)!==-1}hasSomethingToRedo(){return h(this,a)<h(this,y).length-1}destroy(){c(this,y,null)}}s.CommandManager=v;var _=new WeakSet;class I{constructor(he){W(this,_),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const ye=I.platform.isMac;for(const[Q,ve]of he)for(const oe of Q){const Te=oe.startsWith("mac+");ye&&Te?(this.callbacks.set(oe.slice(4),ve),this.allKeys.add(oe.split("+").at(-1))):!ye&&!Te&&(this.callbacks.set(oe,ve),this.allKeys.add(oe.split("+").at(-1)))}}static get platform(){const he=typeof navigator!="undefined"?navigator.platform:"";return(0,r.shadow)(this,"platform",{isWin:he.includes("Win"),isMac:he.includes("Mac")})}exec(he,ye){if(!this.allKeys.has(ye.key))return;const Q=this.callbacks.get(D(this,_,V).call(this,ye));Q&&(Q.bind(he)(),ye.stopPropagation(),ye.preventDefault())}}s.KeyboardManager=I;function V(xe){xe.altKey&&this.buffer.push("alt"),xe.ctrlKey&&this.buffer.push("ctrl"),xe.metaKey&&this.buffer.push("meta"),xe.shiftKey&&this.buffer.push("shift"),this.buffer.push(xe.key);const he=this.buffer.join("+");return this.buffer.length=0,he}var E=new WeakMap;class ee{constructor(){d(this,E,{writable:!0,value:null})}copy(he){he&&(Array.isArray(he)?c(this,E,he.map(ye=>ye.serialize())):c(this,E,[he.serialize()]),c(this,E,h(this,E).filter(ye=>!!ye)),h(this,E).length===0&&c(this,E,null))}paste(){return h(this,E)}isEmpty(){return h(this,E)===null}destroy(){c(this,E,null)}}class K{get _colors(){const he=new Map([["CanvasText",null],["Canvas",null]]);return(0,o.getColorValues)(he),(0,r.shadow)(this,"_colors",he)}convert(he){const ye=(0,o.getRGB)(he);if(!window.matchMedia("(forced-colors: active)").matches)return ye;for(const[Q,ve]of this._colors)if(ve.every((oe,Te)=>oe===ye[Te]))return K._colorsMapping.get(Q);return ye}getHexCode(he){const ye=this._colors.get(he);return ye?r.Util.makeHexColor(...ye):he}}s.ColorManager=K,C(K,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var O=new WeakMap,L=new WeakMap,T=new WeakMap,B=new WeakMap,M=new WeakMap,P=new WeakMap,Y=new WeakMap,Z=new WeakMap,J=new WeakMap,_e=new WeakMap,z=new WeakMap,S=new WeakMap,A=new WeakMap,j=new WeakMap,$=new WeakMap,p=new WeakMap,R=new WeakMap,F=new WeakSet,U=new WeakSet,q=new WeakSet,te=new WeakSet,le=new WeakSet,ge=new WeakSet,Se=new WeakSet,Ae=new WeakSet,Pe=new WeakSet;class Ee{constructor(he,ye){W(this,Pe),W(this,Ae),W(this,Se),W(this,ge),W(this,le),W(this,te),W(this,q),W(this,U),W(this,F),d(this,O,{writable:!0,value:null}),d(this,L,{writable:!0,value:new Map}),d(this,T,{writable:!0,value:new Map}),d(this,B,{writable:!0,value:new ee}),d(this,M,{writable:!0,value:new v}),d(this,P,{writable:!0,value:0}),d(this,Y,{writable:!0,value:null}),d(this,Z,{writable:!0,value:null}),d(this,J,{writable:!0,value:new g}),d(this,_e,{writable:!0,value:!1}),d(this,z,{writable:!0,value:r.AnnotationEditorType.NONE}),d(this,S,{writable:!0,value:new Set}),d(this,A,{writable:!0,value:this.keydown.bind(this)}),d(this,j,{writable:!0,value:this.onEditingAction.bind(this)}),d(this,$,{writable:!0,value:this.onPageChanging.bind(this)}),d(this,p,{writable:!0,value:{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}}),d(this,R,{writable:!0,value:null}),c(this,R,he),c(this,Z,ye),h(this,Z)._on("editingaction",h(this,j)),h(this,Z)._on("pagechanging",h(this,$))}destroy(){D(this,U,Be).call(this),h(this,Z)._off("editingaction",h(this,j)),h(this,Z)._off("pagechanging",h(this,$));for(const he of h(this,T).values())he.destroy();h(this,T).clear(),h(this,L).clear(),c(this,O,null),h(this,S).clear(),h(this,B).destroy(),h(this,M).destroy()}onPageChanging(he){let{pageNumber:ye}=he;c(this,P,ye-1)}focusMainContainer(){h(this,R).focus()}keydown(he){var ye;(ye=this.getActive())!==null&&ye!==void 0&&ye.shouldGetKeyboardEvents()||Ee._keyboardManager.exec(this,he)}onEditingAction(he){["undo","redo","cut","copy","paste","delete","selectAll"].includes(he.name)&&this[he.name]()}setEditingState(he){he?(D(this,F,ke).call(this),D(this,q,Ue).call(this,{isEditing:h(this,z)!==r.AnnotationEditorType.NONE,isEmpty:D(this,Ae,Ne).call(this),hasSomethingToUndo:h(this,M).hasSomethingToUndo(),hasSomethingToRedo:h(this,M).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:h(this,B).isEmpty()})):(D(this,U,Be).call(this),D(this,q,Ue).call(this,{isEditing:!1}))}registerEditorTypes(he){c(this,Y,he);for(const ye of h(this,Y))D(this,te,$e).call(this,ye.defaultPropertiesToUpdate)}getId(){return h(this,J).getId()}addLayer(he){h(this,T).set(he.pageIndex,he),h(this,_e)?he.enable():he.disable()}removeLayer(he){h(this,T).delete(he.pageIndex)}updateMode(he){if(c(this,z,he),he===r.AnnotationEditorType.NONE)this.setEditingState(!1),D(this,ge,We).call(this);else{this.setEditingState(!0),D(this,le,qe).call(this);for(const ye of h(this,T).values())ye.updateMode(he)}}updateToolbar(he){he!==h(this,z)&&h(this,Z).dispatch("switchannotationeditormode",{source:this,mode:he})}updateParams(he,ye){for(const Q of h(this,S))Q.updateParams(he,ye);for(const Q of h(this,Y))Q.updateDefaultParams(he,ye)}getEditors(he){const ye=[];for(const Q of h(this,L).values())Q.pageIndex===he&&ye.push(Q);return ye}getEditor(he){return h(this,L).get(he)}addEditor(he){h(this,L).set(he.id,he)}removeEditor(he){h(this,L).delete(he.id),this.unselect(he)}setActiveEditor(he){h(this,O)!==he&&(c(this,O,he),he&&D(this,te,$e).call(this,he.propertiesToUpdate))}toggleSelected(he){if(h(this,S).has(he)){h(this,S).delete(he),he.unselect(),D(this,q,Ue).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,S).add(he),he.select(),D(this,te,$e).call(this,he.propertiesToUpdate),D(this,q,Ue).call(this,{hasSelectedEditor:!0})}setSelected(he){for(const ye of h(this,S))ye!==he&&ye.unselect();h(this,S).clear(),h(this,S).add(he),he.select(),D(this,te,$e).call(this,he.propertiesToUpdate),D(this,q,Ue).call(this,{hasSelectedEditor:!0})}isSelected(he){return h(this,S).has(he)}unselect(he){he.unselect(),h(this,S).delete(he),D(this,q,Ue).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,S).size!==0}undo(){h(this,M).undo(),D(this,q,Ue).call(this,{hasSomethingToUndo:h(this,M).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:D(this,Ae,Ne).call(this)})}redo(){h(this,M).redo(),D(this,q,Ue).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,M).hasSomethingToRedo(),isEmpty:D(this,Ae,Ne).call(this)})}addCommands(he){h(this,M).add(he),D(this,q,Ue).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:D(this,Ae,Ne).call(this)})}delete(){if(h(this,O)&&h(this,O).commitOrRemove(),!this.hasSelection)return;const he=[...h(this,S)],ye=()=>{for(const ve of he)ve.remove()},Q=()=>{for(const ve of he)D(this,Se,Oe).call(this,ve)};this.addCommands({cmd:ye,undo:Q,mustExec:!0})}copy(){if(h(this,O)&&h(this,O).commitOrRemove(),this.hasSelection){const he=[];for(const ye of h(this,S))ye.isEmpty()||he.push(ye);if(he.length===0)return;h(this,B).copy(he),D(this,q,Ue).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(h(this,B).isEmpty())return;this.unselectAll();const he=h(this,T).get(h(this,P)),ye=h(this,B).paste().map(oe=>he.deserialize(oe)),Q=()=>{for(const oe of ye)D(this,Se,Oe).call(this,oe);D(this,Pe,ze).call(this,ye)},ve=()=>{for(const oe of ye)oe.remove()};this.addCommands({cmd:Q,undo:ve,mustExec:!0})}selectAll(){for(const he of h(this,S))he.commit();D(this,Pe,ze).call(this,h(this,L).values())}unselectAll(){if(h(this,O)){h(this,O).commitOrRemove();return}if(D(this,Pe,ze).size!==0){for(const he of h(this,S))he.unselect();h(this,S).clear(),D(this,q,Ue).call(this,{hasSelectedEditor:!1})}}isActive(he){return h(this,O)===he}getActive(){return h(this,O)}getMode(){return h(this,z)}}s.AnnotationEditorUIManager=Ee;function ke(){h(this,R).addEventListener("keydown",h(this,A))}function Be(){h(this,R).removeEventListener("keydown",h(this,A))}function Ue(xe){Object.entries(xe).some(ye=>{let[Q,ve]=ye;return h(this,p)[Q]!==ve})&&h(this,Z).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,p),xe)})}function $e(xe){h(this,Z).dispatch("annotationeditorparamschanged",{source:this,details:xe})}function qe(){if(!h(this,_e)){c(this,_e,!0);for(const xe of h(this,T).values())xe.enable()}}function We(){if(this.unselectAll(),h(this,_e)){c(this,_e,!1);for(const xe of h(this,T).values())xe.disable()}}function Oe(xe){const he=h(this,T).get(xe.pageIndex);he?he.addOrRebuild(xe):this.addEditor(xe)}function Ne(){if(h(this,L).size===0)return!0;if(h(this,L).size===1)for(const xe of h(this,L).values())return xe.isEmpty();return!1}function ze(xe){h(this,S).clear();for(const he of xe)he.isEmpty()||(h(this,S).add(he),he.select());D(this,q,Ue).call(this,{hasSelectedEditor:!0})}C(Ee,"_keyboardManager",new I([[["ctrl+a","mac+meta+a"],Ee.prototype.selectAll],[["ctrl+c","mac+meta+c"],Ee.prototype.copy],[["ctrl+v","mac+meta+v"],Ee.prototype.paste],[["ctrl+x","mac+meta+x"],Ee.prototype.cut],[["ctrl+z","mac+meta+z"],Ee.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],Ee.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],Ee.prototype.delete],[["Escape","mac+Escape"],Ee.prototype.unselectAll]]))},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.StatTimer=s.RenderingCancelledException=s.PixelsPerInch=s.PageViewport=s.PDFDateString=s.DOMStandardFontDataFactory=s.DOMSVGFactory=s.DOMCanvasFactory=s.DOMCMapReaderFactory=s.AnnotationPrefix=void 0,s.deprecated=v,s.getColorValues=ee,s.getCurrentTransform=K,s.getCurrentTransformInverse=O,s.getFilenameFromUrl=g,s.getPdfFilenameFromUrl=y,s.getRGB=E,s.getXfaPageViewport=V,s.isDataScheme=w,s.isPdfFile=f,s.isValidFetchUrl=n,s.loadScript=a;var r=t(134),o=t(1);function C(L,T,B){return T in L?Object.defineProperty(L,T,{value:B,enumerable:!0,configurable:!0,writable:!0}):L[T]=B,L}const W="http://www.w3.org/2000/svg",D="pdfjs_internal_id_";s.AnnotationPrefix=D;class d{}s.PixelsPerInch=d,C(d,"CSS",96),C(d,"PDF",72),C(d,"PDF_TO_CSS_UNITS",d.CSS/d.PDF);class b extends r.BaseCanvasFactory{constructor(){let{ownerDocument:T=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this._document=T}_createCanvas(T,B){const M=this._document.createElement("canvas");return M.width=T,M.height=B,M}}s.DOMCanvasFactory=b;function c(T){return st(this,arguments,function*(L){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n(L,document.baseURI)){const M=yield fetch(L);if(!M.ok)throw new Error(M.statusText);return B?new Uint8Array(yield M.arrayBuffer()):(0,o.stringToBytes)(yield M.text())}return new Promise((M,P)=>{const Y=new XMLHttpRequest;Y.open("GET",L,!0),B&&(Y.responseType="arraybuffer"),Y.onreadystatechange=()=>{if(Y.readyState===XMLHttpRequest.DONE){if(Y.status===200||Y.status===0){let Z;if(B&&Y.response?Z=new Uint8Array(Y.response):!B&&Y.responseText&&(Z=(0,o.stringToBytes)(Y.responseText)),Z){M(Z);return}}P(new Error(Y.statusText))}},Y.send(null)})})}class x extends r.BaseCMapReaderFactory{_fetchData(T,B){return c(T,this.isCompressed).then(M=>({cMapData:M,compressionType:B}))}}s.DOMCMapReaderFactory=x;class h extends r.BaseStandardFontDataFactory{_fetchData(T){return c(T,!0)}}s.DOMStandardFontDataFactory=h;class k extends r.BaseSVGFactory{_createSVG(T){return document.createElementNS(W,T)}}s.DOMSVGFactory=k;class m{constructor(T){let{viewBox:B,scale:M,rotation:P,offsetX:Y=0,offsetY:Z=0,dontFlip:J=!1}=T;this.viewBox=B,this.scale=M,this.rotation=P,this.offsetX=Y,this.offsetY=Z;const _e=(B[2]+B[0])/2,z=(B[3]+B[1])/2;let S,A,j,$;switch(P%=360,P<0&&(P+=360),P){case 180:S=-1,A=0,j=0,$=1;break;case 90:S=0,A=1,j=1,$=0;break;case 270:S=0,A=-1,j=-1,$=0;break;case 0:S=1,A=0,j=0,$=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}J&&(j=-j,$=-$);let p,R,F,U;S===0?(p=Math.abs(z-B[1])*M+Y,R=Math.abs(_e-B[0])*M+Z,F=Math.abs(B[3]-B[1])*M,U=Math.abs(B[2]-B[0])*M):(p=Math.abs(_e-B[0])*M+Y,R=Math.abs(z-B[1])*M+Z,F=Math.abs(B[2]-B[0])*M,U=Math.abs(B[3]-B[1])*M),this.transform=[S*M,A*M,j*M,$*M,p-S*M*_e-j*M*z,R-A*M*_e-$*M*z],this.width=F,this.height=U}clone(){let{scale:T=this.scale,rotation:B=this.rotation,offsetX:M=this.offsetX,offsetY:P=this.offsetY,dontFlip:Y=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new m({viewBox:this.viewBox.slice(),scale:T,rotation:B,offsetX:M,offsetY:P,dontFlip:Y})}convertToViewportPoint(T,B){return o.Util.applyTransform([T,B],this.transform)}convertToViewportRectangle(T){const B=o.Util.applyTransform([T[0],T[1]],this.transform),M=o.Util.applyTransform([T[2],T[3]],this.transform);return[B[0],B[1],M[0],M[1]]}convertToPdfPoint(T,B){return o.Util.applyInverseTransform([T,B],this.transform)}}s.PageViewport=m;class u extends o.BaseException{constructor(T,B){super(T,"RenderingCancelledException"),this.type=B}}s.RenderingCancelledException=u;function w(L){const T=L.length;let B=0;for(;B<T&&L[B].trim()==="";)B++;return L.substring(B,B+5).toLowerCase()==="data:"}function f(L){return typeof L=="string"&&/\.pdf$/i.test(L)}function g(L){const T=L.indexOf("#"),B=L.indexOf("?"),M=Math.min(T>0?T:L.length,B>0?B:L.length);return L.substring(L.lastIndexOf("/",M)+1,M)}function y(L){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf";if(typeof L!="string")return T;if(w(L))return(0,o.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),T;const B=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,M=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,P=B.exec(L);let Y=M.exec(P[1])||M.exec(P[2])||M.exec(P[3]);if(Y&&(Y=Y[0],Y.includes("%")))try{Y=M.exec(decodeURIComponent(Y))[0]}catch(Z){}return Y||T}class l{constructor(){this.started=Object.create(null),this.times=[]}time(T){T in this.started&&(0,o.warn)(`Timer is already running for ${T}`),this.started[T]=Date.now()}timeEnd(T){T in this.started||(0,o.warn)(`Timer has not been started for ${T}`),this.times.push({name:T,start:this.started[T],end:Date.now()}),delete this.started[T]}toString(){const T=[];let B=0;for(const M of this.times){const P=M.name;P.length>B&&(B=P.length)}for(const M of this.times){const P=M.end-M.start;T.push(`${M.name.padEnd(B)} ${P}ms
`)}return T.join("")}}s.StatTimer=l;function n(L,T){try{const{protocol:B}=T?new URL(L,T):new URL(L);return B==="http:"||B==="https:"}catch(B){return!1}}function a(L){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new Promise((B,M)=>{const P=document.createElement("script");P.src=L,P.onload=function(Y){T&&P.remove(),B(Y)},P.onerror=function(){M(new Error(`Cannot load script at: ${P.src}`))},(document.head||document.documentElement).append(P)})}function v(L){console.log("Deprecated API usage: "+L)}let _;class I{static toDateObject(T){if(!T||typeof T!="string")return null;_||(_=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const B=_.exec(T);if(!B)return null;const M=parseInt(B[1],10);let P=parseInt(B[2],10);P=P>=1&&P<=12?P-1:0;let Y=parseInt(B[3],10);Y=Y>=1&&Y<=31?Y:1;let Z=parseInt(B[4],10);Z=Z>=0&&Z<=23?Z:0;let J=parseInt(B[5],10);J=J>=0&&J<=59?J:0;let _e=parseInt(B[6],10);_e=_e>=0&&_e<=59?_e:0;const z=B[7]||"Z";let S=parseInt(B[8],10);S=S>=0&&S<=23?S:0;let A=parseInt(B[9],10)||0;return A=A>=0&&A<=59?A:0,z==="-"?(Z+=S,J+=A):z==="+"&&(Z-=S,J-=A),new Date(Date.UTC(M,P,Y,Z,J,_e))}}s.PDFDateString=I;function V(L,T){let{scale:B=1,rotation:M=0}=T;const{width:P,height:Y}=L.attributes.style,Z=[0,0,parseInt(P),parseInt(Y)];return new m({viewBox:Z,scale:B,rotation:M})}function E(L){if(L.startsWith("#")){const T=parseInt(L.slice(1),16);return[(T&16711680)>>16,(T&65280)>>8,T&255]}return L.startsWith("rgb(")?L.slice(4,-1).split(",").map(T=>parseInt(T)):L.startsWith("rgba(")?L.slice(5,-1).split(",").map(T=>parseInt(T)).slice(0,3):((0,o.warn)(`Not a valid color format: "${L}"`),[0,0,0])}function ee(L){const T=document.createElement("span");T.style.visibility="hidden",document.body.append(T);for(const B of L.keys()){T.style.color=B;const M=window.getComputedStyle(T).color;L.set(B,E(M))}T.remove()}function K(L){const{a:T,b:B,c:M,d:P,e:Y,f:Z}=L.getTransform();return[T,B,M,P,Y,Z]}function O(L){const{a:T,b:B,c:M,d:P,e:Y,f:Z}=L.getTransform().invertSelf();return[T,B,M,P,Y,Z]}},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.BaseStandardFontDataFactory=s.BaseSVGFactory=s.BaseCanvasFactory=s.BaseCMapReaderFactory=void 0;var r=t(1);class o{constructor(){this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(b,c){if(b<=0||c<=0)throw new Error("Invalid canvas size");const x=this._createCanvas(b,c);return{canvas:x,context:x.getContext("2d")}}reset(b,c,x){if(!b.canvas)throw new Error("Canvas is not specified");if(c<=0||x<=0)throw new Error("Invalid canvas size");b.canvas.width=c,b.canvas.height=x}destroy(b){if(!b.canvas)throw new Error("Canvas is not specified");b.canvas.width=0,b.canvas.height=0,b.canvas=null,b.context=null}_createCanvas(b,c){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}s.BaseCanvasFactory=o;class C{constructor(b){let{baseUrl:c=null,isCompressed:x=!1}=b;this.constructor===C&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=c,this.isCompressed=x}fetch(b){return st(this,null,function*(){let{name:c}=b;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!c)throw new Error("CMap name must be specified.");const x=this.baseUrl+c+(this.isCompressed?".bcmap":""),h=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(x,h).catch(k=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${x}`)})})}_fetchData(b,c){(0,r.unreachable)("Abstract method `_fetchData` called.")}}s.BaseCMapReaderFactory=C;class W{constructor(b){let{baseUrl:c=null}=b;this.constructor===W&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=c}fetch(b){return st(this,null,function*(){let{filename:c}=b;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!c)throw new Error("Font filename must be specified.");const x=`${this.baseUrl}${c}`;return this._fetchData(x).catch(h=>{throw new Error(`Unable to load font data at: ${x}`)})})}_fetchData(b){(0,r.unreachable)("Abstract method `_fetchData` called.")}}s.BaseStandardFontDataFactory=W;class D{constructor(){this.constructor===D&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(b,c){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(b<=0||c<=0)throw new Error("Invalid SVG dimensions");const h=this._createSVG("svg:svg");return h.setAttribute("version","1.1"),x||(h.setAttribute("width",`${b}px`),h.setAttribute("height",`${c}px`)),h.setAttribute("preserveAspectRatio","none"),h.setAttribute("viewBox",`0 0 ${b} ${c}`),h}createElement(b){if(typeof b!="string")throw new Error("Invalid SVG element type");return this._createSVG(b)}_createSVG(b){(0,r.unreachable)("Abstract method `_createSVG` called.")}}s.BaseSVGFactory=D},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.MurmurHash3_64=void 0;var r=t(1);const o=3285377520,C=4294901760,W=65535;class D{constructor(b){this.h1=b?b&4294967295:o,this.h2=b?b&4294967295:o}update(b){let c,x;if(typeof b=="string"){c=new Uint8Array(b.length*2),x=0;for(let v=0,_=b.length;v<_;v++){const I=b.charCodeAt(v);I<=255?c[x++]=I:(c[x++]=I>>>8,c[x++]=I&255)}}else if((0,r.isArrayBuffer)(b))c=b.slice(),x=c.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const h=x>>2,k=x-h*4,m=new Uint32Array(c.buffer,0,h);let u=0,w=0,f=this.h1,g=this.h2;const y=3432918353,l=461845907,n=y&W,a=l&W;for(let v=0;v<h;v++)v&1?(u=m[v],u=u*y&C|u*n&W,u=u<<15|u>>>17,u=u*l&C|u*a&W,f^=u,f=f<<13|f>>>19,f=f*5+3864292196):(w=m[v],w=w*y&C|w*n&W,w=w<<15|w>>>17,w=w*l&C|w*a&W,g^=w,g=g<<13|g>>>19,g=g*5+3864292196);switch(u=0,k){case 3:u^=c[h*4+2]<<16;case 2:u^=c[h*4+1]<<8;case 1:u^=c[h*4],u=u*y&C|u*n&W,u=u<<15|u>>>17,u=u*l&C|u*a&W,h&1?f^=u:g^=u}this.h1=f,this.h2=g}hexdigest(){let b=this.h1,c=this.h2;b^=c>>>1,b=b*3981806797&C|b*36045&W,c=c*4283543511&C|((c<<16|b>>>16)*2950163797&C)>>>16,b^=c>>>1,b=b*444984403&C|b*60499&W,c=c*3301882366&C|((c<<16|b>>>16)*3120437893&C)>>>16,b^=c>>>1;const x=(b>>>0).toString(16),h=(c>>>0).toString(16);return x.padStart(8,"0")+h.padStart(8,"0")}}s.MurmurHash3_64=D},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.FontLoader=s.FontFaceObject=void 0;var r=t(1);class o{constructor(d){let{docId:b,onUnsupportedFeature:c,ownerDocument:x=globalThis.document,styleElement:h=null}=d;this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseFontLoader."),this.docId=b,this._onUnsupportedFeature=c,this._document=x,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(d){this.nativeFontFaces.push(d),this._document.fonts.add(d)}insertRule(d){let b=this.styleElement;b||(b=this.styleElement=this._document.createElement("style"),b.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(b));const c=b.sheet;c.insertRule(d,c.cssRules.length)}clear(){for(const d of this.nativeFontFaces)this._document.fonts.delete(d);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(d){return st(this,null,function*(){if(d.attached||d.missingFile)return;if(d.attached=!0,this.isFontLoadingAPISupported){const c=d.createNativeFontFace();if(c){this.addNativeFontFace(c);try{yield c.loaded}catch(x){throw this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,r.warn)(`Failed to load font '${c.family}': '${x}'.`),d.disableFontFace=!0,x}}return}const b=d.createFontFaceRule();if(b){if(this.insertRule(b),this.isSyncFontLoadingSupported)return;yield new Promise(c=>{const x=this._queueLoadingCallback(c);this._prepareFontLoadEvent([b],[d],x)})}})}_queueLoadingCallback(d){(0,r.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var d;const b=!!((d=this._document)!==null&&d!==void 0&&d.fonts);return(0,r.shadow)(this,"isFontLoadingAPISupported",b)}get isSyncFontLoadingSupported(){(0,r.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,r.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(d,b,c){(0,r.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let C;s.FontLoader=C,s.FontLoader=C=class extends o{constructor(d){super(d),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let d=!1;if(typeof navigator=="undefined")d=!0;else{const b=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(b==null?void 0:b[1])>=14&&(d=!0)}return(0,r.shadow)(this,"isSyncFontLoadingSupported",d)}_queueLoadingCallback(d){function b(){for((0,r.assert)(!x.done,"completeRequest() cannot be called twice."),x.done=!0;c.requests.length>0&&c.requests[0].done;){const h=c.requests.shift();setTimeout(h.callback,0)}}const c=this.loadingContext,x={id:`pdfjs-font-loading-${c.nextRequestId++}`,done:!1,complete:b,callback:d};return c.requests.push(x),x}get _loadTestFont(){const d=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,r.shadow)(this,"_loadTestFont",d())}_prepareFontLoadEvent(d,b,c){function x(K,O){return K.charCodeAt(O)<<24|K.charCodeAt(O+1)<<16|K.charCodeAt(O+2)<<8|K.charCodeAt(O+3)&255}function h(K,O,L,T){const B=K.substring(0,O),M=K.substring(O+L);return B+T+M}let k,m;const u=this._document.createElement("canvas");u.width=1,u.height=1;const w=u.getContext("2d");let f=0;function g(K,O){if(f++,f>30){(0,r.warn)("Load test font never loaded."),O();return}if(w.font="30px "+K,w.fillText(".",0,20),w.getImageData(0,0,1,1).data[3]>0){O();return}setTimeout(g.bind(null,K,O))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let l=this._loadTestFont;l=h(l,976,y.length,y);const a=16,v=1482184792;let _=x(l,a);for(k=0,m=y.length-3;k<m;k+=4)_=_-v+x(y,k)|0;k<y.length&&(_=_-v+x(y+"XXX",k)|0),l=h(l,a,4,(0,r.string32)(_));const I=`url(data:font/opentype;base64,${btoa(l)});`,V=`@font-face {font-family:"${y}";src:${I}}`;this.insertRule(V);const E=[];for(const K of b)E.push(K.loadedName);E.push(y);const ee=this._document.createElement("div");ee.style.visibility="hidden",ee.style.width=ee.style.height="10px",ee.style.position="absolute",ee.style.top=ee.style.left="0px";for(const K of E){const O=this._document.createElement("span");O.textContent="Hi",O.style.fontFamily=K,ee.append(O)}this._document.body.append(ee),g(y,()=>{ee.remove(),c.complete()})}};class W{constructor(d,b){let{isEvalSupported:c=!0,disableFontFace:x=!1,ignoreErrors:h=!1,onUnsupportedFeature:k,fontRegistry:m=null}=b;this.compiledGlyphs=Object.create(null);for(const u in d)this[u]=d[u];this.isEvalSupported=c!==!1,this.disableFontFace=x===!0,this.ignoreErrors=h===!0,this._onUnsupportedFeature=k,this.fontRegistry=m}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let d;if(!this.cssFontInfo)d=new FontFace(this.loadedName,this.data,{});else{const b={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(b.style=`oblique ${this.cssFontInfo.italicAngle}deg`),d=new FontFace(this.cssFontInfo.fontFamily,this.data,b)}return this.fontRegistry&&this.fontRegistry.registerFont(this),d}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const d=(0,r.bytesToString)(this.data),b=`url(data:${this.mimetype};base64,${btoa(d)});`;let c;if(!this.cssFontInfo)c=`@font-face {font-family:"${this.loadedName}";src:${b}}`;else{let x=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(x+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),c=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${x}src:${b}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,b),c}getPathGenerator(d,b){if(this.compiledGlyphs[b]!==void 0)return this.compiledGlyphs[b];let c;try{c=d.get(this.loadedName+"_path_"+b)}catch(x){if(!this.ignoreErrors)throw x;return this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,r.warn)(`getPathGenerator - ignoring character: "${x}".`),this.compiledGlyphs[b]=function(h,k){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){const x=[];for(const h of c){const k=h.args!==void 0?h.args.join(","):"";x.push("c.",h.cmd,"(",k,`);
`)}return this.compiledGlyphs[b]=new Function("c","size",x.join(""))}return this.compiledGlyphs[b]=function(x,h){for(const k of c)k.cmd==="scale"&&(k.args=[h,-h]),x[k.cmd].apply(x,k.args)}}}s.FontFaceObject=W},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.CanvasGraphics=void 0;var r=t(133),o=t(1),C=t(138),W=t(139),D=t(3);function d(z,S){b(z,S),S.add(z)}function b(z,S){if(S.has(z))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(z,S,A){if(!S.has(z))throw new TypeError("attempted to get private field on non-instance");return A}const x=16,h=100,k=4096,m=15,u=10,w=D.isNodeJS&&typeof Path2D=="undefined"?-1:1e3,f=16;function g(z,S){if(z._removeMirroring)throw new Error("Context is already forwarding operations.");z.__originalSave=z.save,z.__originalRestore=z.restore,z.__originalRotate=z.rotate,z.__originalScale=z.scale,z.__originalTranslate=z.translate,z.__originalTransform=z.transform,z.__originalSetTransform=z.setTransform,z.__originalResetTransform=z.resetTransform,z.__originalClip=z.clip,z.__originalMoveTo=z.moveTo,z.__originalLineTo=z.lineTo,z.__originalBezierCurveTo=z.bezierCurveTo,z.__originalRect=z.rect,z.__originalClosePath=z.closePath,z.__originalBeginPath=z.beginPath,z._removeMirroring=()=>{z.save=z.__originalSave,z.restore=z.__originalRestore,z.rotate=z.__originalRotate,z.scale=z.__originalScale,z.translate=z.__originalTranslate,z.transform=z.__originalTransform,z.setTransform=z.__originalSetTransform,z.resetTransform=z.__originalResetTransform,z.clip=z.__originalClip,z.moveTo=z.__originalMoveTo,z.lineTo=z.__originalLineTo,z.bezierCurveTo=z.__originalBezierCurveTo,z.rect=z.__originalRect,z.closePath=z.__originalClosePath,z.beginPath=z.__originalBeginPath,delete z._removeMirroring},z.save=function(){S.save(),this.__originalSave()},z.restore=function(){S.restore(),this.__originalRestore()},z.translate=function(j,$){S.translate(j,$),this.__originalTranslate(j,$)},z.scale=function(j,$){S.scale(j,$),this.__originalScale(j,$)},z.transform=function(j,$,p,R,F,U){S.transform(j,$,p,R,F,U),this.__originalTransform(j,$,p,R,F,U)},z.setTransform=function(j,$,p,R,F,U){S.setTransform(j,$,p,R,F,U),this.__originalSetTransform(j,$,p,R,F,U)},z.resetTransform=function(){S.resetTransform(),this.__originalResetTransform()},z.rotate=function(j){S.rotate(j),this.__originalRotate(j)},z.clip=function(j){S.clip(j),this.__originalClip(j)},z.moveTo=function(A,j){S.moveTo(A,j),this.__originalMoveTo(A,j)},z.lineTo=function(A,j){S.lineTo(A,j),this.__originalLineTo(A,j)},z.bezierCurveTo=function(A,j,$,p,R,F){S.bezierCurveTo(A,j,$,p,R,F),this.__originalBezierCurveTo(A,j,$,p,R,F)},z.rect=function(A,j,$,p){S.rect(A,j,$,p),this.__originalRect(A,j,$,p)},z.closePath=function(){S.closePath(),this.__originalClosePath()},z.beginPath=function(){S.beginPath(),this.__originalBeginPath()}}class y{constructor(S){this.canvasFactory=S,this.cache=Object.create(null)}getCanvas(S,A,j){let $;return this.cache[S]!==void 0?($=this.cache[S],this.canvasFactory.reset($,A,j)):($=this.canvasFactory.create(A,j),this.cache[S]=$),$}delete(S){delete this.cache[S]}clear(){for(const S in this.cache){const A=this.cache[S];this.canvasFactory.destroy(A),delete this.cache[S]}}}function l(z,S,A,j,$,p,R,F,U,q){const[te,le,ge,Se,Ae,Pe]=(0,r.getCurrentTransform)(z);if(le===0&&ge===0){const Be=R*te+Ae,Ue=Math.round(Be),$e=F*Se+Pe,qe=Math.round($e),We=(R+U)*te+Ae,Oe=Math.abs(Math.round(We)-Ue)||1,Ne=(F+q)*Se+Pe,ze=Math.abs(Math.round(Ne)-qe)||1;return z.setTransform(Math.sign(te),0,0,Math.sign(Se),Ue,qe),z.drawImage(S,A,j,$,p,0,0,Oe,ze),z.setTransform(te,le,ge,Se,Ae,Pe),[Oe,ze]}if(te===0&&Se===0){const Be=F*ge+Ae,Ue=Math.round(Be),$e=R*le+Pe,qe=Math.round($e),We=(F+q)*ge+Ae,Oe=Math.abs(Math.round(We)-Ue)||1,Ne=(R+U)*le+Pe,ze=Math.abs(Math.round(Ne)-qe)||1;return z.setTransform(0,Math.sign(le),Math.sign(ge),0,Ue,qe),z.drawImage(S,A,j,$,p,0,0,ze,Oe),z.setTransform(te,le,ge,Se,Ae,Pe),[ze,Oe]}z.drawImage(S,A,j,$,p,R,F,U,q);const Ee=Math.hypot(te,le),ke=Math.hypot(ge,Se);return[Ee*U,ke*q]}function n(z){const{width:S,height:A}=z;if(S>w||A>w)return null;const j=1e3,$=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),p=S+1;let R=new Uint8Array(p*(A+1)),F,U,q;const te=S+7&-8;let le=new Uint8Array(te*A),ge=0;for(const ke of z.data){let Be=128;for(;Be>0;)le[ge++]=ke&Be?0:255,Be>>=1}let Se=0;for(ge=0,le[ge]!==0&&(R[0]=1,++Se),U=1;U<S;U++)le[ge]!==le[ge+1]&&(R[U]=le[ge]?2:1,++Se),ge++;for(le[ge]!==0&&(R[U]=2,++Se),F=1;F<A;F++){ge=F*te,q=F*p,le[ge-te]!==le[ge]&&(R[q]=le[ge]?1:8,++Se);let ke=(le[ge]?4:0)+(le[ge-te]?8:0);for(U=1;U<S;U++)ke=(ke>>2)+(le[ge+1]?4:0)+(le[ge-te+1]?8:0),$[ke]&&(R[q+U]=$[ke],++Se),ge++;if(le[ge-te]!==le[ge]&&(R[q+U]=le[ge]?2:4,++Se),Se>j)return null}for(ge=te*(A-1),q=F*p,le[ge]!==0&&(R[q]=8,++Se),U=1;U<S;U++)le[ge]!==le[ge+1]&&(R[q+U]=le[ge]?4:8,++Se),ge++;if(le[ge]!==0&&(R[q+U]=4,++Se),Se>j)return null;const Ae=new Int32Array([0,p,-1,0,-p,0,0,0,1]),Pe=new Path2D;for(F=0;Se&&F<=A;F++){let ke=F*p;const Be=ke+S;for(;ke<Be&&!R[ke];)ke++;if(ke===Be)continue;Pe.moveTo(ke%p,F);const Ue=ke;let $e=R[ke];do{const qe=Ae[$e];do ke+=qe;while(!R[ke]);const We=R[ke];We!==5&&We!==10?($e=We,R[ke]=0):($e=We&51*$e>>4,R[ke]&=$e>>2|$e<<2),Pe.lineTo(ke%p,ke/p|0),R[ke]||--Se}while(Ue!==ke);--F}return le=null,R=null,function(ke){ke.save(),ke.scale(1/S,-1/A),ke.translate(0,-A),ke.fill(Pe),ke.beginPath(),ke.restore()}}class a{constructor(S,A){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,S,A])}clone(){const S=Object.create(this);return S.clipBox=this.clipBox.slice(),S}setCurrentPoint(S,A){this.x=S,this.y=A}updatePathMinMax(S,A,j){[A,j]=o.Util.applyTransform([A,j],S),this.minX=Math.min(this.minX,A),this.minY=Math.min(this.minY,j),this.maxX=Math.max(this.maxX,A),this.maxY=Math.max(this.maxY,j)}updateRectMinMax(S,A){const j=o.Util.applyTransform(A,S),$=o.Util.applyTransform(A.slice(2),S);this.minX=Math.min(this.minX,j[0],$[0]),this.minY=Math.min(this.minY,j[1],$[1]),this.maxX=Math.max(this.maxX,j[0],$[0]),this.maxY=Math.max(this.maxY,j[1],$[1])}updateScalingPathMinMax(S,A){o.Util.scaleMinMax(S,A),this.minX=Math.min(this.minX,A[0]),this.maxX=Math.max(this.maxX,A[1]),this.minY=Math.min(this.minY,A[2]),this.maxY=Math.max(this.maxY,A[3])}updateCurvePathMinMax(S,A,j,$,p,R,F,U,q,te){const le=o.Util.bezierBoundingBox(A,j,$,p,R,F,U,q);if(te){te[0]=Math.min(te[0],le[0],le[2]),te[1]=Math.max(te[1],le[0],le[2]),te[2]=Math.min(te[2],le[1],le[3]),te[3]=Math.max(te[3],le[1],le[3]);return}this.updateRectMinMax(S,le)}getPathBoundingBox(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C.PathType.FILL,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const j=[this.minX,this.minY,this.maxX,this.maxY];if(S===C.PathType.STROKE){A||(0,o.unreachable)("Stroke bounding box must include transform.");const $=o.Util.singularValueDecompose2dScale(A),p=$[0]*this.lineWidth/2,R=$[1]*this.lineWidth/2;j[0]-=p,j[1]-=R,j[2]+=p,j[3]+=R}return j}updateClipFromPath(){const S=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(S||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(S){this.clipBox=S,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C.PathType.FILL,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return o.Util.intersect(this.clipBox,this.getPathBoundingBox(S,A))}}function v(z,S){let A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof ImageData!="undefined"&&S instanceof ImageData){z.putImageData(S,0,0);return}const j=S.height,$=S.width,p=j%f,R=(j-p)/f,F=p===0?R:R+1,U=z.createImageData($,f);let q=0,te;const le=S.data,ge=U.data;let Se,Ae,Pe,Ee,ke,Be,Ue,$e;if(A)switch(A.length){case 1:ke=A[0],Be=A[0],Ue=A[0],$e=A[0];break;case 4:ke=A[0],Be=A[1],Ue=A[2],$e=A[3];break}if(S.kind===o.ImageKind.GRAYSCALE_1BPP){const qe=le.byteLength,We=new Uint32Array(ge.buffer,0,ge.byteLength>>2),Oe=We.length,Ne=$+7>>3;let ze=4294967295,xe=o.FeatureTest.isLittleEndian?4278190080:255;for($e&&$e[0]===255&&$e[255]===0&&([ze,xe]=[xe,ze]),Se=0;Se<F;Se++){for(Pe=Se<R?f:p,te=0,Ae=0;Ae<Pe;Ae++){const he=qe-q;let ye=0;const Q=he>Ne?$:he*8-7,ve=Q&-8;let oe=0,Te=0;for(;ye<ve;ye+=8)Te=le[q++],We[te++]=Te&128?ze:xe,We[te++]=Te&64?ze:xe,We[te++]=Te&32?ze:xe,We[te++]=Te&16?ze:xe,We[te++]=Te&8?ze:xe,We[te++]=Te&4?ze:xe,We[te++]=Te&2?ze:xe,We[te++]=Te&1?ze:xe;for(;ye<Q;ye++)oe===0&&(Te=le[q++],oe=128),We[te++]=Te&oe?ze:xe,oe>>=1}for(;te<Oe;)We[te++]=0;z.putImageData(U,0,Se*f)}}else if(S.kind===o.ImageKind.RGBA_32BPP){const qe=!!(ke||Be||Ue);for(Ae=0,Ee=$*f*4,Se=0;Se<R;Se++){if(ge.set(le.subarray(q,q+Ee)),q+=Ee,qe)for(let We=0;We<Ee;We+=4)ke&&(ge[We+0]=ke[ge[We+0]]),Be&&(ge[We+1]=Be[ge[We+1]]),Ue&&(ge[We+2]=Ue[ge[We+2]]);z.putImageData(U,0,Ae),Ae+=f}if(Se<F){if(Ee=$*p*4,ge.set(le.subarray(q,q+Ee)),qe)for(let We=0;We<Ee;We+=4)ke&&(ge[We+0]=ke[ge[We+0]]),Be&&(ge[We+1]=Be[ge[We+1]]),Ue&&(ge[We+2]=Ue[ge[We+2]]);z.putImageData(U,0,Ae)}}else if(S.kind===o.ImageKind.RGB_24BPP){const qe=!!(ke||Be||Ue);for(Pe=f,Ee=$*Pe,Se=0;Se<F;Se++){for(Se>=R&&(Pe=p,Ee=$*Pe),te=0,Ae=Ee;Ae--;)ge[te++]=le[q++],ge[te++]=le[q++],ge[te++]=le[q++],ge[te++]=255;if(qe)for(let We=0;We<te;We+=4)ke&&(ge[We+0]=ke[ge[We+0]]),Be&&(ge[We+1]=Be[ge[We+1]]),Ue&&(ge[We+2]=Ue[ge[We+2]]);z.putImageData(U,0,Se*f)}}else throw new Error(`bad image kind: ${S.kind}`)}function _(z,S){if(S.bitmap){z.drawImage(S.bitmap,0,0);return}const A=S.height,j=S.width,$=A%f,p=(A-$)/f,R=$===0?p:p+1,F=z.createImageData(j,f);let U=0;const q=S.data,te=F.data;for(let le=0;le<R;le++){const ge=le<p?f:$;({srcPos:U}=(0,W.applyMaskImageData)({src:q,srcPos:U,dest:te,width:j,height:ge})),z.putImageData(F,0,le*f)}}function I(z,S){const A=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let j=0,$=A.length;j<$;j++){const p=A[j];z[p]!==void 0&&(S[p]=z[p])}z.setLineDash!==void 0&&(S.setLineDash(z.getLineDash()),S.lineDashOffset=z.lineDashOffset)}function V(z,S){z.strokeStyle=z.fillStyle=S||"#000000",z.fillRule="nonzero",z.globalAlpha=1,z.lineWidth=1,z.lineCap="butt",z.lineJoin="miter",z.miterLimit=10,z.globalCompositeOperation="source-over",z.font="10px sans-serif",z.setLineDash!==void 0&&(z.setLineDash([]),z.lineDashOffset=0)}function E(z,S,A,j){const $=z.length;for(let p=3;p<$;p+=4){const R=z[p];if(R===0)z[p-3]=S,z[p-2]=A,z[p-1]=j;else if(R<255){const F=255-R;z[p-3]=z[p-3]*R+S*F>>8,z[p-2]=z[p-2]*R+A*F>>8,z[p-1]=z[p-1]*R+j*F>>8}}}function ee(z,S,A){const j=z.length,$=1/255;for(let p=3;p<j;p+=4){const R=A?A[z[p]]:z[p];S[p]=S[p]*R*$|0}}function K(z,S,A){const j=z.length;for(let $=3;$<j;$+=4){const p=z[$-3]*77+z[$-2]*152+z[$-1]*28;S[$]=A?S[$]*A[p>>8]>>8:S[$]*p>>16}}function O(z,S,A,j,$,p,R,F,U,q,te){const le=!!p,ge=le?p[0]:0,Se=le?p[1]:0,Ae=le?p[2]:0;let Pe;$==="Luminosity"?Pe=K:Pe=ee;const ke=Math.min(j,Math.ceil(1048576/A));for(let Be=0;Be<j;Be+=ke){const Ue=Math.min(ke,j-Be),$e=z.getImageData(F-q,Be+(U-te),A,Ue),qe=S.getImageData(F,Be+U,A,Ue);le&&E($e.data,ge,Se,Ae),Pe($e.data,qe.data,R),S.putImageData(qe,F,Be+U)}}function L(z,S,A,j){const $=j[0],p=j[1],R=j[2]-$,F=j[3]-p;R===0||F===0||(O(S.context,A,R,F,S.subtype,S.backdrop,S.transferMap,$,p,S.offsetX,S.offsetY),z.save(),z.globalAlpha=1,z.globalCompositeOperation="source-over",z.setTransform(1,0,0,1,0,0),z.drawImage(A.canvas,0,0),z.restore())}function T(z,S){const A=o.Util.singularValueDecompose2dScale(z);A[0]=Math.fround(A[0]),A[1]=Math.fround(A[1]);const j=Math.fround((globalThis.devicePixelRatio||1)*r.PixelsPerInch.PDF_TO_CSS_UNITS);return S!==void 0?S:A[0]<=j||A[1]<=j}const B=["butt","round","square"],M=["miter","round","bevel"],P={},Y={};var Z=new WeakSet;class J{constructor(S,A,j,$,p,R,F,U){d(this,Z),this.ctx=S,this.current=new a(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=A,this.objs=j,this.canvasFactory=$,this.imageLayer=p,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=R,this.cachedCanvases=new y(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=F,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(U==null?void 0:U.background)||null,this.foregroundColor=(U==null?void 0:U.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(S){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof S=="string"?S.startsWith("g_")?this.commonObjs.get(S):this.objs.get(S):A}beginDrawing(S){let{transform:A,viewport:j,transparency:$=!1,background:p=null}=S;const R=this.ctx.canvas.width,F=this.ctx.canvas.height,U=p||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const q=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const te=this.backgroundColor=this.ctx.fillStyle;let le=!0,ge=U;if(this.ctx.fillStyle=U,ge=this.ctx.fillStyle,le=typeof ge=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ge),q==="#000000"&&te==="#ffffff"||q===te||!le)this.foregroundColor=this.backgroundColor=null;else{const[Se,Ae,Pe]=(0,r.getRGB)(ge),Ee=Be=>(Be/=255,Be<=.03928?Be/12.92:sn((Be+.055)/1.055,2.4)),ke=Math.round(.2126*Ee(Se)+.7152*Ee(Ae)+.0722*Ee(Pe));this.selectColor=(Be,Ue,$e)=>{const qe=.2126*Ee(Be)+.7152*Ee(Ue)+.0722*Ee($e);return Math.round(qe)===ke?te:q}}}if(this.ctx.fillStyle=this.backgroundColor||U,this.ctx.fillRect(0,0,R,F),this.ctx.restore(),$){const q=this.cachedCanvases.getCanvas("transparent",R,F);this.compositeCtx=this.ctx,this.transparentCanvas=q.canvas,this.ctx=q.context,this.ctx.save(),this.ctx.transform(...(0,r.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),V(this.ctx,this.foregroundColor),A&&(this.ctx.transform(...A),this.outputScaleX=A[0],this.outputScaleY=A[0]),this.ctx.transform(...j.transform),this.viewportScale=j.scale,this.baseTransform=(0,r.getCurrentTransform)(this.ctx),this.imageLayer&&((0,r.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(S,A,j,$){const p=S.argsArray,R=S.fnArray;let F=A||0;const U=p.length;if(U===F)return F;const q=U-F>u&&typeof j=="function",te=q?Date.now()+m:0;let le=0;const ge=this.commonObjs,Se=this.objs;let Ae;for(;;){if($!==void 0&&F===$.nextBreakPoint)return $.breakIt(F,j),F;if(Ae=R[F],Ae!==o.OPS.dependency)this[Ae].apply(this,p[F]);else for(const Pe of p[F]){const Ee=Pe.startsWith("g_")?ge:Se;if(!Ee.has(Pe))return Ee.get(Pe,j),F}if(F++,F===U)return F;if(q&&++le>u){if(Date.now()>te)return j(),F;le=0}}}endDrawing(){c(this,Z,_e).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const S of this._cachedBitmapsMap.values()){for(const A of S.values())typeof HTMLCanvasElement!="undefined"&&A instanceof HTMLCanvasElement&&(A.width=A.height=0);S.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(S,A){const j=S.width,$=S.height;let p=Math.max(Math.hypot(A[0],A[1]),1),R=Math.max(Math.hypot(A[2],A[3]),1),F=j,U=$,q="prescale1",te,le;for(;p>2&&F>1||R>2&&U>1;){let ge=F,Se=U;p>2&&F>1&&(ge=Math.ceil(F/2),p/=F/ge),R>2&&U>1&&(Se=Math.ceil(U/2),R/=U/Se),te=this.cachedCanvases.getCanvas(q,ge,Se),le=te.context,le.clearRect(0,0,ge,Se),le.drawImage(S,0,0,F,U,0,0,ge,Se),S=te.canvas,F=ge,U=Se,q=q==="prescale1"?"prescale2":"prescale1"}return{img:S,paintWidth:F,paintHeight:U}}_createMaskCanvas(S){const A=this.ctx,{width:j,height:$}=S,p=this.current.fillColor,R=this.current.patternFill,F=(0,r.getCurrentTransform)(A);let U,q,te,le;if((S.bitmap||S.data)&&S.count>1){const Oe=S.bitmap||S.data.buffer,Ne=F.slice(0,4);q=JSON.stringify(R?Ne:[Ne,p]),U=this._cachedBitmapsMap.get(Oe),U||(U=new Map,this._cachedBitmapsMap.set(Oe,U));const ze=U.get(q);if(ze&&!R){const xe=Math.round(Math.min(F[0],F[2])+F[4]),he=Math.round(Math.min(F[1],F[3])+F[5]);return{canvas:ze,offsetX:xe,offsetY:he}}te=ze}te||(le=this.cachedCanvases.getCanvas("maskCanvas",j,$),_(le.context,S));let ge=o.Util.transform(F,[1/j,0,0,-1/$,0,0]);ge=o.Util.transform(ge,[1,0,0,1,0,-$]);const Se=o.Util.applyTransform([0,0],ge),Ae=o.Util.applyTransform([j,$],ge),Pe=o.Util.normalizeRect([Se[0],Se[1],Ae[0],Ae[1]]),Ee=Math.round(Pe[2]-Pe[0])||1,ke=Math.round(Pe[3]-Pe[1])||1,Be=this.cachedCanvases.getCanvas("fillCanvas",Ee,ke),Ue=Be.context,$e=Math.min(Se[0],Ae[0]),qe=Math.min(Se[1],Ae[1]);Ue.translate(-$e,-qe),Ue.transform(...ge),te||(te=this._scaleImage(le.canvas,(0,r.getCurrentTransformInverse)(Ue)),te=te.img,U&&R&&U.set(q,te)),Ue.imageSmoothingEnabled=T((0,r.getCurrentTransform)(Ue),S.interpolate),l(Ue,te,0,0,te.width,te.height,0,0,j,$),Ue.globalCompositeOperation="source-in";const We=o.Util.transform((0,r.getCurrentTransformInverse)(Ue),[1,0,0,1,-$e,-qe]);return Ue.fillStyle=R?p.getPattern(A,this,We,C.PathType.FILL):p,Ue.fillRect(0,0,j,$),U&&!R&&(this.cachedCanvases.delete("fillCanvas"),U.set(q,Be.canvas)),{canvas:Be.canvas,offsetX:Math.round($e),offsetY:Math.round(qe)}}setLineWidth(S){S!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=S,this.ctx.lineWidth=S}setLineCap(S){this.ctx.lineCap=B[S]}setLineJoin(S){this.ctx.lineJoin=M[S]}setMiterLimit(S){this.ctx.miterLimit=S}setDash(S,A){const j=this.ctx;j.setLineDash!==void 0&&(j.setLineDash(S),j.lineDashOffset=A)}setRenderingIntent(S){}setFlatness(S){}setGState(S){for(let A=0,j=S.length;A<j;A++){const $=S[A],p=$[0],R=$[1];switch(p){case"LW":this.setLineWidth(R);break;case"LC":this.setLineCap(R);break;case"LJ":this.setLineJoin(R);break;case"ML":this.setMiterLimit(R);break;case"D":this.setDash(R[0],R[1]);break;case"RI":this.setRenderingIntent(R);break;case"FL":this.setFlatness(R);break;case"Font":this.setFont(R[0],R[1]);break;case"CA":this.current.strokeAlpha=$[1];break;case"ca":this.current.fillAlpha=$[1],this.ctx.globalAlpha=$[1];break;case"BM":this.ctx.globalCompositeOperation=R;break;case"SMask":this.current.activeSMask=R?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=R}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const S=this.inSMaskMode;this.current.activeSMask&&!S?this.beginSMaskMode():!this.current.activeSMask&&S&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const S=this.ctx.canvas.width,A=this.ctx.canvas.height,j="smaskGroupAt"+this.groupLevel,$=this.cachedCanvases.getCanvas(j,S,A);this.suspendedCtx=this.ctx,this.ctx=$.context;const p=this.ctx;p.setTransform(...(0,r.getCurrentTransform)(this.suspendedCtx)),I(this.suspendedCtx,p),g(p,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),I(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(S){if(!this.current.activeSMask)return;S?(S[0]=Math.floor(S[0]),S[1]=Math.floor(S[1]),S[2]=Math.ceil(S[2]),S[3]=Math.ceil(S[3])):S=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const A=this.current.activeSMask,j=this.suspendedCtx;L(j,A,this.ctx,S),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(I(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const S=this.current;this.stateStack.push(S),this.current=S.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),I(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(S,A,j,$,p,R){this.ctx.transform(S,A,j,$,p,R),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(S,A,j){const $=this.ctx,p=this.current;let R=p.x,F=p.y,U,q;const te=(0,r.getCurrentTransform)($),le=te[0]===0&&te[3]===0||te[1]===0&&te[2]===0,ge=le?j.slice(0):null;for(let Se=0,Ae=0,Pe=S.length;Se<Pe;Se++)switch(S[Se]|0){case o.OPS.rectangle:R=A[Ae++],F=A[Ae++];const Ee=A[Ae++],ke=A[Ae++],Be=R+Ee,Ue=F+ke;$.moveTo(R,F),Ee===0||ke===0?$.lineTo(Be,Ue):($.lineTo(Be,F),$.lineTo(Be,Ue),$.lineTo(R,Ue)),le||p.updateRectMinMax(te,[R,F,Be,Ue]),$.closePath();break;case o.OPS.moveTo:R=A[Ae++],F=A[Ae++],$.moveTo(R,F),le||p.updatePathMinMax(te,R,F);break;case o.OPS.lineTo:R=A[Ae++],F=A[Ae++],$.lineTo(R,F),le||p.updatePathMinMax(te,R,F);break;case o.OPS.curveTo:U=R,q=F,R=A[Ae+4],F=A[Ae+5],$.bezierCurveTo(A[Ae],A[Ae+1],A[Ae+2],A[Ae+3],R,F),p.updateCurvePathMinMax(te,U,q,A[Ae],A[Ae+1],A[Ae+2],A[Ae+3],R,F,ge),Ae+=6;break;case o.OPS.curveTo2:U=R,q=F,$.bezierCurveTo(R,F,A[Ae],A[Ae+1],A[Ae+2],A[Ae+3]),p.updateCurvePathMinMax(te,U,q,R,F,A[Ae],A[Ae+1],A[Ae+2],A[Ae+3],ge),R=A[Ae+2],F=A[Ae+3],Ae+=4;break;case o.OPS.curveTo3:U=R,q=F,R=A[Ae+2],F=A[Ae+3],$.bezierCurveTo(A[Ae],A[Ae+1],R,F,R,F),p.updateCurvePathMinMax(te,U,q,A[Ae],A[Ae+1],R,F,R,F,ge),Ae+=4;break;case o.OPS.closePath:$.closePath();break}le&&p.updateScalingPathMinMax(te,ge),p.setCurrentPoint(R,F)}closePath(){this.ctx.closePath()}stroke(S){S=typeof S!="undefined"?S:!0;const A=this.ctx,j=this.current.strokeColor;A.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof j=="object"&&j!==null&&j!==void 0&&j.getPattern?(A.save(),A.strokeStyle=j.getPattern(A,this,(0,r.getCurrentTransformInverse)(A),C.PathType.STROKE),this.rescaleAndStroke(!1),A.restore()):this.rescaleAndStroke(!0)),S&&this.consumePath(this.current.getClippedPathBoundingBox()),A.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(S){S=typeof S!="undefined"?S:!0;const A=this.ctx,j=this.current.fillColor,$=this.current.patternFill;let p=!1;$&&(A.save(),A.fillStyle=j.getPattern(A,this,(0,r.getCurrentTransformInverse)(A),C.PathType.FILL),p=!0);const R=this.current.getClippedPathBoundingBox();this.contentVisible&&R!==null&&(this.pendingEOFill?(A.fill("evenodd"),this.pendingEOFill=!1):A.fill()),p&&A.restore(),S&&this.consumePath(R)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=P}eoClip(){this.pendingClip=Y}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const S=this.pendingTextPaths,A=this.ctx;if(S===void 0){A.beginPath();return}A.save(),A.beginPath();for(const j of S)A.setTransform(...j.transform),A.translate(j.x,j.y),j.addToPath(A,j.fontSize);A.restore(),A.clip(),A.beginPath(),delete this.pendingTextPaths}setCharSpacing(S){this.current.charSpacing=S}setWordSpacing(S){this.current.wordSpacing=S}setHScale(S){this.current.textHScale=S/100}setLeading(S){this.current.leading=-S}setFont(S,A){const j=this.commonObjs.get(S),$=this.current;if(!j)throw new Error(`Can't find font for ${S}`);if($.fontMatrix=j.fontMatrix||o.FONT_IDENTITY_MATRIX,($.fontMatrix[0]===0||$.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+S),A<0?(A=-A,$.fontDirection=-1):$.fontDirection=1,this.current.font=j,this.current.fontSize=A,j.isType3Font)return;const p=j.loadedName||"sans-serif";let R="normal";j.black?R="900":j.bold&&(R="bold");const F=j.italic?"italic":"normal",U=`"${p}", ${j.fallbackName}`;let q=A;A<x?q=x:A>h&&(q=h),this.current.fontSizeScale=A/q,this.ctx.font=`${F} ${R} ${q}px ${U}`}setTextRenderingMode(S){this.current.textRenderingMode=S}setTextRise(S){this.current.textRise=S}moveText(S,A){this.current.x=this.current.lineX+=S,this.current.y=this.current.lineY+=A}setLeadingMoveText(S,A){this.setLeading(-A),this.moveText(S,A)}setTextMatrix(S,A,j,$,p,R){this.current.textMatrix=[S,A,j,$,p,R],this.current.textMatrixScale=Math.hypot(S,A),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(S,A,j,$){const p=this.ctx,R=this.current,F=R.font,U=R.textRenderingMode,q=R.fontSize/R.fontSizeScale,te=U&o.TextRenderingMode.FILL_STROKE_MASK,le=!!(U&o.TextRenderingMode.ADD_TO_PATH_FLAG),ge=R.patternFill&&!F.missingFile;let Se;(F.disableFontFace||le||ge)&&(Se=F.getPathGenerator(this.commonObjs,S)),F.disableFontFace||ge?(p.save(),p.translate(A,j),p.beginPath(),Se(p,q),$&&p.setTransform(...$),(te===o.TextRenderingMode.FILL||te===o.TextRenderingMode.FILL_STROKE)&&p.fill(),(te===o.TextRenderingMode.STROKE||te===o.TextRenderingMode.FILL_STROKE)&&p.stroke(),p.restore()):((te===o.TextRenderingMode.FILL||te===o.TextRenderingMode.FILL_STROKE)&&p.fillText(S,A,j),(te===o.TextRenderingMode.STROKE||te===o.TextRenderingMode.FILL_STROKE)&&p.strokeText(S,A,j)),le&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,r.getCurrentTransform)(p),x:A,y:j,fontSize:q,addToPath:Se})}get isFontSubpixelAAEnabled(){const{context:S}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);S.scale(1.5,1),S.fillText("I",0,10);const A=S.getImageData(0,0,10,10).data;let j=!1;for(let $=3;$<A.length;$+=4)if(A[$]>0&&A[$]<255){j=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",j)}showText(S){const A=this.current,j=A.font;if(j.isType3Font)return this.showType3Text(S);const $=A.fontSize;if($===0)return;const p=this.ctx,R=A.fontSizeScale,F=A.charSpacing,U=A.wordSpacing,q=A.fontDirection,te=A.textHScale*q,le=S.length,ge=j.vertical,Se=ge?1:-1,Ae=j.defaultVMetrics,Pe=$*A.fontMatrix[0],Ee=A.textRenderingMode===o.TextRenderingMode.FILL&&!j.disableFontFace&&!A.patternFill;p.save(),p.transform(...A.textMatrix),p.translate(A.x,A.y+A.textRise),q>0?p.scale(te,-1):p.scale(te,1);let ke;if(A.patternFill){p.save();const We=A.fillColor.getPattern(p,this,(0,r.getCurrentTransformInverse)(p),C.PathType.FILL);ke=(0,r.getCurrentTransform)(p),p.restore(),p.fillStyle=We}let Be=A.lineWidth;const Ue=A.textMatrixScale;if(Ue===0||Be===0){const We=A.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(We===o.TextRenderingMode.STROKE||We===o.TextRenderingMode.FILL_STROKE)&&(Be=this.getSinglePixelWidth())}else Be/=Ue;R!==1&&(p.scale(R,R),Be/=R),p.lineWidth=Be;let $e=0,qe;for(qe=0;qe<le;++qe){const We=S[qe];if(typeof We=="number"){$e+=Se*We*$/1e3;continue}let Oe=!1;const Ne=(We.isSpace?U:0)+F,ze=We.fontChar,xe=We.accent;let he,ye,Q=We.width;if(ge){const oe=We.vmetric||Ae,Te=-(We.vmetric?oe[1]:Q*.5)*Pe,Fe=oe[2]*Pe;Q=oe?-oe[0]:Q,he=Te/R,ye=($e+Fe)/R}else he=$e/R,ye=0;if(j.remeasure&&Q>0){const oe=p.measureText(ze).width*1e3/$*R;if(Q<oe&&this.isFontSubpixelAAEnabled){const Te=Q/oe;Oe=!0,p.save(),p.scale(Te,1),he/=Te}else Q!==oe&&(he+=(Q-oe)/2e3*$/R)}if(this.contentVisible&&(We.isInFont||j.missingFile)){if(Ee&&!xe)p.fillText(ze,he,ye);else if(this.paintChar(ze,he,ye,ke),xe){const oe=he+$*xe.offset.x/R,Te=ye-$*xe.offset.y/R;this.paintChar(xe.fontChar,oe,Te,ke)}}let ve;ge?ve=Q*Pe-Ne*q:ve=Q*Pe+Ne*q,$e+=ve,Oe&&p.restore()}ge?A.y-=$e:A.x+=$e*te,p.restore(),this.compose()}showType3Text(S){const A=this.ctx,j=this.current,$=j.font,p=j.fontSize,R=j.fontDirection,F=$.vertical?1:-1,U=j.charSpacing,q=j.wordSpacing,te=j.textHScale*R,le=j.fontMatrix||o.FONT_IDENTITY_MATRIX,ge=S.length,Se=j.textRenderingMode===o.TextRenderingMode.INVISIBLE;let Ae,Pe,Ee,ke;if(!(Se||p===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,A.save(),A.transform(...j.textMatrix),A.translate(j.x,j.y),A.scale(te,R),Ae=0;Ae<ge;++Ae){if(Pe=S[Ae],typeof Pe=="number"){ke=F*Pe*p/1e3,this.ctx.translate(ke,0),j.x+=ke*te;continue}const Be=(Pe.isSpace?q:0)+U,Ue=$.charProcOperatorList[Pe.operatorListId];if(!Ue){(0,o.warn)(`Type3 character "${Pe.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Pe,this.save(),A.scale(p,p),A.transform(...le),this.executeOperatorList(Ue),this.restore()),Ee=o.Util.applyTransform([Pe.width,0],le)[0]*p+Be,A.translate(Ee,0),j.x+=Ee*te}A.restore(),this.processingType3=null}}setCharWidth(S,A){}setCharWidthAndBounds(S,A,j,$,p,R){this.ctx.rect(j,$,p-j,R-$),this.ctx.clip(),this.endPath()}getColorN_Pattern(S){let A;if(S[0]==="TilingPattern"){const j=S[1],$=this.baseTransform||(0,r.getCurrentTransform)(this.ctx),p={createCanvasGraphics:R=>new J(R,this.commonObjs,this.objs,this.canvasFactory)};A=new C.TilingPattern(S,j,this.ctx,p,$)}else A=this._getPattern(S[1],S[2]);return A}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(S,A,j){var $;const p=(($=this.selectColor)===null||$===void 0?void 0:$.call(this,S,A,j))||o.Util.makeHexColor(S,A,j);this.ctx.strokeStyle=p,this.current.strokeColor=p}setFillRGBColor(S,A,j){var $;const p=(($=this.selectColor)===null||$===void 0?void 0:$.call(this,S,A,j))||o.Util.makeHexColor(S,A,j);this.ctx.fillStyle=p,this.current.fillColor=p,this.current.patternFill=!1}_getPattern(S){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,j;return this.cachedPatterns.has(S)?j=this.cachedPatterns.get(S):(j=(0,C.getShadingPattern)(this.objs.get(S)),this.cachedPatterns.set(S,j)),A&&(j.matrix=A),j}shadingFill(S){if(!this.contentVisible)return;const A=this.ctx;this.save();const j=this._getPattern(S);A.fillStyle=j.getPattern(A,this,(0,r.getCurrentTransformInverse)(A),C.PathType.SHADING);const $=(0,r.getCurrentTransformInverse)(A);if($){const p=A.canvas,R=p.width,F=p.height,U=o.Util.applyTransform([0,0],$),q=o.Util.applyTransform([0,F],$),te=o.Util.applyTransform([R,0],$),le=o.Util.applyTransform([R,F],$),ge=Math.min(U[0],q[0],te[0],le[0]),Se=Math.min(U[1],q[1],te[1],le[1]),Ae=Math.max(U[0],q[0],te[0],le[0]),Pe=Math.max(U[1],q[1],te[1],le[1]);this.ctx.fillRect(ge,Se,Ae-ge,Pe-Se)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(S,A){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(S)&&S.length===6&&this.transform(...S),this.baseTransform=(0,r.getCurrentTransform)(this.ctx),A)){const j=A[2]-A[0],$=A[3]-A[1];this.ctx.rect(A[0],A[1],j,$),this.current.updateRectMinMax((0,r.getCurrentTransform)(this.ctx),A),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(S){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const A=this.ctx;S.isolated||(0,o.info)("TODO: Support non-isolated groups."),S.knockout&&(0,o.warn)("Knockout groups not supported.");const j=(0,r.getCurrentTransform)(A);if(S.matrix&&A.transform(...S.matrix),!S.bbox)throw new Error("Bounding box is required.");let $=o.Util.getAxialAlignedBoundingBox(S.bbox,(0,r.getCurrentTransform)(A));const p=[0,0,A.canvas.width,A.canvas.height];$=o.Util.intersect($,p)||[0,0,0,0];const R=Math.floor($[0]),F=Math.floor($[1]);let U=Math.max(Math.ceil($[2])-R,1),q=Math.max(Math.ceil($[3])-F,1),te=1,le=1;U>k&&(te=U/k,U=k),q>k&&(le=q/k,q=k),this.current.startNewPathAndClipBox([0,0,U,q]);let ge="groupAt"+this.groupLevel;S.smask&&(ge+="_smask_"+this.smaskCounter++%2);const Se=this.cachedCanvases.getCanvas(ge,U,q),Ae=Se.context;Ae.scale(1/te,1/le),Ae.translate(-R,-F),Ae.transform(...j),S.smask?this.smaskStack.push({canvas:Se.canvas,context:Ae,offsetX:R,offsetY:F,scaleX:te,scaleY:le,subtype:S.smask.subtype,backdrop:S.smask.backdrop,transferMap:S.smask.transferMap||null,startTransformInverse:null}):(A.setTransform(1,0,0,1,0,0),A.translate(R,F),A.scale(te,le),A.save()),I(A,Ae),this.ctx=Ae,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(A),this.groupLevel++}endGroup(S){if(!this.contentVisible)return;this.groupLevel--;const A=this.ctx,j=this.groupStack.pop();if(this.ctx=j,this.ctx.imageSmoothingEnabled=!1,S.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const $=(0,r.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...$);const p=o.Util.getAxialAlignedBoundingBox([0,0,A.canvas.width,A.canvas.height],$);this.ctx.drawImage(A.canvas,0,0),this.ctx.restore(),this.compose(p)}}beginAnnotation(S,A,j,$,p){if(c(this,Z,_e).call(this),V(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(A)&&A.length===4){const R=A[2]-A[0],F=A[3]-A[1];if(p&&this.annotationCanvasMap){j=j.slice(),j[4]-=A[0],j[5]-=A[1],A=A.slice(),A[0]=A[1]=0,A[2]=R,A[3]=F;const[U,q]=o.Util.singularValueDecompose2dScale((0,r.getCurrentTransform)(this.ctx)),{viewportScale:te}=this,le=Math.ceil(R*this.outputScaleX*te),ge=Math.ceil(F*this.outputScaleY*te);this.annotationCanvas=this.canvasFactory.create(le,ge);const{canvas:Se,context:Ae}=this.annotationCanvas;this.annotationCanvasMap.set(S,Se),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Ae,this.ctx.setTransform(U,0,0,-q,0,F*q),V(this.ctx,this.foregroundColor)}else V(this.ctx,this.foregroundColor),this.ctx.rect(A[0],A[1],R,F),this.ctx.clip(),this.endPath()}this.current=new a(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...j),this.transform(...$)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(S){if(!this.contentVisible)return;const A=S.count;S=this.getObject(S.data,S),S.count=A;const j=this.ctx,$=this.processingType3;if($&&($.compiled===void 0&&($.compiled=n(S)),$.compiled)){$.compiled(j);return}const p=this._createMaskCanvas(S),R=p.canvas;j.save(),j.setTransform(1,0,0,1,0,0),j.drawImage(R,p.offsetX,p.offsetY),j.restore(),this.compose()}paintImageMaskXObjectRepeat(S,A){let j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,p=arguments.length>4?arguments[4]:void 0,R=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;S=this.getObject(S.data,S);const F=this.ctx;F.save();const U=(0,r.getCurrentTransform)(F);F.transform(A,j,$,p,0,0);const q=this._createMaskCanvas(S);F.setTransform(1,0,0,1,0,0);for(let te=0,le=R.length;te<le;te+=2){const ge=o.Util.transform(U,[A,j,$,p,R[te],R[te+1]]),[Se,Ae]=o.Util.applyTransform([0,0],ge);F.drawImage(q.canvas,Se,Ae)}F.restore(),this.compose()}paintImageMaskXObjectGroup(S){if(!this.contentVisible)return;const A=this.ctx,j=this.current.fillColor,$=this.current.patternFill;for(const p of S){const{data:R,width:F,height:U,transform:q}=p,te=this.cachedCanvases.getCanvas("maskCanvas",F,U),le=te.context;le.save();const ge=this.getObject(R,p);_(le,ge),le.globalCompositeOperation="source-in",le.fillStyle=$?j.getPattern(le,this,(0,r.getCurrentTransformInverse)(A),C.PathType.FILL):j,le.fillRect(0,0,F,U),le.restore(),A.save(),A.transform(...q),A.scale(1,-1),l(A,te.canvas,0,0,F,U,0,-1,1,1),A.restore()}this.compose()}paintImageXObject(S){if(!this.contentVisible)return;const A=this.getObject(S);if(!A){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(A)}paintImageXObjectRepeat(S,A,j,$){if(!this.contentVisible)return;const p=this.getObject(S);if(!p){(0,o.warn)("Dependent image isn't ready yet");return}const R=p.width,F=p.height,U=[];for(let q=0,te=$.length;q<te;q+=2)U.push({transform:[A,0,0,j,$[q],$[q+1]],x:0,y:0,w:R,h:F});this.paintInlineImageXObjectGroup(p,U)}paintInlineImageXObject(S){if(!this.contentVisible)return;const A=S.width,j=S.height,$=this.ctx;this.save(),$.scale(1/A,-1/j);let p;if(typeof HTMLElement=="function"&&S instanceof HTMLElement||!S.data)p=S;else{const q=this.cachedCanvases.getCanvas("inlineImage",A,j),te=q.context;v(te,S,this.current.transferMaps),p=q.canvas}const R=this._scaleImage(p,(0,r.getCurrentTransformInverse)($));$.imageSmoothingEnabled=T((0,r.getCurrentTransform)($),S.interpolate);const[F,U]=l($,R.img,0,0,R.paintWidth,R.paintHeight,0,-j,A,j);if(this.imageLayer){const[q,te]=o.Util.applyTransform([0,-j],(0,r.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:S,left:q,top:te,width:F,height:U})}this.compose(),this.restore()}paintInlineImageXObjectGroup(S,A){if(!this.contentVisible)return;const j=this.ctx,$=S.width,p=S.height,R=this.cachedCanvases.getCanvas("inlineImage",$,p),F=R.context;v(F,S,this.current.transferMaps);for(const U of A){if(j.save(),j.transform(...U.transform),j.scale(1,-1),l(j,R.canvas,U.x,U.y,U.w,U.h,0,-1,1,1),this.imageLayer){const[q,te]=o.Util.applyTransform([U.x,U.y],(0,r.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:S,left:q,top:te,width:$,height:p})}j.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(S){}markPointProps(S,A){}beginMarkedContent(S){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(S,A){S==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(A)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(S){const A=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(S);const j=this.ctx;this.pendingClip&&(A||(this.pendingClip===Y?j.clip("evenodd"):j.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),j.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const S=(0,r.getCurrentTransform)(this.ctx);if(S[1]===0&&S[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(S[0]),Math.abs(S[3]));else{const A=Math.abs(S[0]*S[3]-S[2]*S[1]),j=Math.hypot(S[0],S[2]),$=Math.hypot(S[1],S[3]);this._cachedGetSinglePixelWidth=Math.max(j,$)/A}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:S}=this.current,A=(0,r.getCurrentTransform)(this.ctx);let j,$;if(A[1]===0&&A[2]===0){const p=Math.abs(A[0]),R=Math.abs(A[3]);if(S===0)j=1/p,$=1/R;else{const F=p*S,U=R*S;j=F<1?1/F:1,$=U<1?1/U:1}}else{const p=Math.abs(A[0]*A[3]-A[2]*A[1]),R=Math.hypot(A[0],A[1]),F=Math.hypot(A[2],A[3]);if(S===0)j=F/p,$=R/p;else{const U=S*p;j=F>U?F/U:1,$=R>U?R/U:1}}this._cachedScaleForStroking=[j,$]}return this._cachedScaleForStroking}rescaleAndStroke(S){const{ctx:A}=this,{lineWidth:j}=this.current,[$,p]=this.getScaleForStroking();if(A.lineWidth=j||1,$===1&&p===1){A.stroke();return}let R,F,U;S&&(R=(0,r.getCurrentTransform)(A),F=A.getLineDash().slice(),U=A.lineDashOffset),A.scale($,p);const q=Math.max($,p);A.setLineDash(A.getLineDash().map(te=>te/q)),A.lineDashOffset/=q,A.stroke(),S&&(A.setTransform(...R),A.setLineDash(F),A.lineDashOffset=U)}isContentVisible(){for(let S=this.markedContentStack.length-1;S>=0;S--)if(!this.markedContentStack[S].visible)return!1;return!0}}s.CanvasGraphics=J;function _e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}for(const z in o.OPS)J.prototype[z]!==void 0&&(J.prototype[o.OPS[z]]=J.prototype[z])},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.TilingPattern=s.PathType=void 0,s.getShadingPattern=m;var r=t(1),o=t(133),C=t(3);const W={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};s.PathType=W;function D(f,g){if(!g||C.isNodeJS)return;const y=g[2]-g[0],l=g[3]-g[1],n=new Path2D;n.rect(g[0],g[1],y,l),f.clip(n)}class d{constructor(){this.constructor===d&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class b extends d{constructor(g){super(),this._type=g[1],this._bbox=g[2],this._colorStops=g[3],this._p0=g[4],this._p1=g[5],this._r0=g[6],this._r1=g[7],this.matrix=null}_createGradient(g){let y;this._type==="axial"?y=g.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(y=g.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const l of this._colorStops)y.addColorStop(l[0],l[1]);return y}getPattern(g,y,l,n){let a;if(n===W.STROKE||n===W.FILL){const v=y.current.getClippedPathBoundingBox(n,(0,o.getCurrentTransform)(g))||[0,0,0,0],_=Math.ceil(v[2]-v[0])||1,I=Math.ceil(v[3]-v[1])||1,V=y.cachedCanvases.getCanvas("pattern",_,I,!0),E=V.context;E.clearRect(0,0,E.canvas.width,E.canvas.height),E.beginPath(),E.rect(0,0,E.canvas.width,E.canvas.height),E.translate(-v[0],-v[1]),l=r.Util.transform(l,[1,0,0,1,v[0],v[1]]),E.transform(...y.baseTransform),this.matrix&&E.transform(...this.matrix),D(E,this._bbox),E.fillStyle=this._createGradient(E),E.fill(),a=g.createPattern(V.canvas,"no-repeat");const ee=new DOMMatrix(l);try{a.setTransform(ee)}catch(K){(0,r.warn)(`RadialAxialShadingPattern.getPattern: "${K==null?void 0:K.message}".`)}}else D(g,this._bbox),a=this._createGradient(g);return a}}function c(f,g,y,l,n,a,v,_){const I=g.coords,V=g.colors,E=f.data,ee=f.width*4;let K;I[y+1]>I[l+1]&&(K=y,y=l,l=K,K=a,a=v,v=K),I[l+1]>I[n+1]&&(K=l,l=n,n=K,K=v,v=_,_=K),I[y+1]>I[l+1]&&(K=y,y=l,l=K,K=a,a=v,v=K);const O=(I[y]+g.offsetX)*g.scaleX,L=(I[y+1]+g.offsetY)*g.scaleY,T=(I[l]+g.offsetX)*g.scaleX,B=(I[l+1]+g.offsetY)*g.scaleY,M=(I[n]+g.offsetX)*g.scaleX,P=(I[n+1]+g.offsetY)*g.scaleY;if(L>=P)return;const Y=V[a],Z=V[a+1],J=V[a+2],_e=V[v],z=V[v+1],S=V[v+2],A=V[_],j=V[_+1],$=V[_+2],p=Math.round(L),R=Math.round(P);let F,U,q,te,le,ge,Se,Ae;for(let Pe=p;Pe<=R;Pe++){if(Pe<B){let $e;Pe<L?$e=0:$e=(L-Pe)/(L-B),F=O-(O-T)*$e,U=Y-(Y-_e)*$e,q=Z-(Z-z)*$e,te=J-(J-S)*$e}else{let $e;Pe>P?$e=1:B===P?$e=0:$e=(B-Pe)/(B-P),F=T-(T-M)*$e,U=_e-(_e-A)*$e,q=z-(z-j)*$e,te=S-(S-$)*$e}let Ee;Pe<L?Ee=0:Pe>P?Ee=1:Ee=(L-Pe)/(L-P),le=O-(O-M)*Ee,ge=Y-(Y-A)*Ee,Se=Z-(Z-j)*Ee,Ae=J-(J-$)*Ee;const ke=Math.round(Math.min(F,le)),Be=Math.round(Math.max(F,le));let Ue=ee*Pe+ke*4;for(let $e=ke;$e<=Be;$e++)Ee=(F-$e)/(F-le),Ee<0?Ee=0:Ee>1&&(Ee=1),E[Ue++]=U-(U-ge)*Ee|0,E[Ue++]=q-(q-Se)*Ee|0,E[Ue++]=te-(te-Ae)*Ee|0,E[Ue++]=255}}function x(f,g,y){const l=g.coords,n=g.colors;let a,v;switch(g.type){case"lattice":const _=g.verticesPerRow,I=Math.floor(l.length/_)-1,V=_-1;for(a=0;a<I;a++){let E=a*_;for(let ee=0;ee<V;ee++,E++)c(f,y,l[E],l[E+1],l[E+_],n[E],n[E+1],n[E+_]),c(f,y,l[E+_+1],l[E+1],l[E+_],n[E+_+1],n[E+1],n[E+_])}break;case"triangles":for(a=0,v=l.length;a<v;a+=3)c(f,y,l[a],l[a+1],l[a+2],n[a],n[a+1],n[a+2]);break;default:throw new Error("illegal figure")}}class h extends d{constructor(g){super(),this._coords=g[2],this._colors=g[3],this._figures=g[4],this._bounds=g[5],this._bbox=g[7],this._background=g[8],this.matrix=null}_createMeshCanvas(g,y,l){const _=Math.floor(this._bounds[0]),I=Math.floor(this._bounds[1]),V=Math.ceil(this._bounds[2])-_,E=Math.ceil(this._bounds[3])-I,ee=Math.min(Math.ceil(Math.abs(V*g[0]*1.1)),3e3),K=Math.min(Math.ceil(Math.abs(E*g[1]*1.1)),3e3),O=V/ee,L=E/K,T={coords:this._coords,colors:this._colors,offsetX:-_,offsetY:-I,scaleX:1/O,scaleY:1/L},B=ee+2*2,M=K+2*2,P=l.getCanvas("mesh",B,M,!1),Y=P.context,Z=Y.createImageData(ee,K);if(y){const _e=Z.data;for(let z=0,S=_e.length;z<S;z+=4)_e[z]=y[0],_e[z+1]=y[1],_e[z+2]=y[2],_e[z+3]=255}for(const _e of this._figures)x(Z,_e,T);return Y.putImageData(Z,2,2),{canvas:P.canvas,offsetX:_-2*O,offsetY:I-2*L,scaleX:O,scaleY:L}}getPattern(g,y,l,n){D(g,this._bbox);let a;if(n===W.SHADING)a=r.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(g));else if(a=r.Util.singularValueDecompose2dScale(y.baseTransform),this.matrix){const _=r.Util.singularValueDecompose2dScale(this.matrix);a=[a[0]*_[0],a[1]*_[1]]}const v=this._createMeshCanvas(a,n===W.SHADING?null:this._background,y.cachedCanvases);return n!==W.SHADING&&(g.setTransform(...y.baseTransform),this.matrix&&g.transform(...this.matrix)),g.translate(v.offsetX,v.offsetY),g.scale(v.scaleX,v.scaleY),g.createPattern(v.canvas,"no-repeat")}}class k extends d{getPattern(){return"hotpink"}}function m(f){switch(f[0]){case"RadialAxial":return new b(f);case"Mesh":return new h(f);case"Dummy":return new k}throw new Error(`Unknown IR type: ${f[0]}`)}const u={COLORED:1,UNCOLORED:2};class w{static get MAX_PATTERN_SIZE(){return(0,r.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(g,y,l,n,a){this.operatorList=g[2],this.matrix=g[3]||[1,0,0,1,0,0],this.bbox=g[4],this.xstep=g[5],this.ystep=g[6],this.paintType=g[7],this.tilingType=g[8],this.color=y,this.ctx=l,this.canvasGraphicsFactory=n,this.baseTransform=a}createPatternCanvas(g){const y=this.operatorList,l=this.bbox,n=this.xstep,a=this.ystep,v=this.paintType,_=this.tilingType,I=this.color,V=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+_);const E=l[0],ee=l[1],K=l[2],O=l[3],L=r.Util.singularValueDecompose2dScale(this.matrix),T=r.Util.singularValueDecompose2dScale(this.baseTransform),B=[L[0]*T[0],L[1]*T[1]],M=this.getSizeAndScale(n,this.ctx.canvas.width,B[0]),P=this.getSizeAndScale(a,this.ctx.canvas.height,B[1]),Y=g.cachedCanvases.getCanvas("pattern",M.size,P.size,!0),Z=Y.context,J=V.createCanvasGraphics(Z);J.groupLevel=g.groupLevel,this.setFillAndStrokeStyleToContext(J,v,I);let _e=E,z=ee,S=K,A=O;return E<0&&(_e=0,S+=Math.abs(E)),ee<0&&(z=0,A+=Math.abs(ee)),Z.translate(-(M.scale*_e),-(P.scale*z)),J.transform(M.scale,0,0,P.scale,0,0),Z.save(),this.clipBbox(J,_e,z,S,A),J.baseTransform=(0,o.getCurrentTransform)(J.ctx),J.executeOperatorList(y),J.endDrawing(),{canvas:Y.canvas,scaleX:M.scale,scaleY:P.scale,offsetX:_e,offsetY:z}}getSizeAndScale(g,y,l){g=Math.abs(g);const n=Math.max(w.MAX_PATTERN_SIZE,y);let a=Math.ceil(g*l);return a>=n?a=n:l=a/g,{scale:l,size:a}}clipBbox(g,y,l,n,a){const v=n-y,_=a-l;g.ctx.rect(y,l,v,_),g.current.updateRectMinMax((0,o.getCurrentTransform)(g.ctx),[y,l,n,a]),g.clip(),g.endPath()}setFillAndStrokeStyleToContext(g,y,l){const n=g.ctx,a=g.current;switch(y){case u.COLORED:const v=this.ctx;n.fillStyle=v.fillStyle,n.strokeStyle=v.strokeStyle,a.fillColor=v.fillStyle,a.strokeColor=v.strokeStyle;break;case u.UNCOLORED:const _=r.Util.makeHexColor(l[0],l[1],l[2]);n.fillStyle=_,n.strokeStyle=_,a.fillColor=_,a.strokeColor=_;break;default:throw new r.FormatError(`Unsupported paint type: ${y}`)}}getPattern(g,y,l,n){let a=l;n!==W.SHADING&&(a=r.Util.transform(a,y.baseTransform),this.matrix&&(a=r.Util.transform(a,this.matrix)));const v=this.createPatternCanvas(y);let _=new DOMMatrix(a);_=_.translate(v.offsetX,v.offsetY),_=_.scale(1/v.scaleX,1/v.scaleY);const I=g.createPattern(v.canvas,"repeat");try{I.setTransform(_)}catch(V){(0,r.warn)(`TilingPattern.getPattern: "${V==null?void 0:V.message}".`)}return I}}s.TilingPattern=w},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.applyMaskImageData=o;var r=t(1);function o(C){let{src:W,srcPos:D=0,dest:d,destPos:b=0,width:c,height:x,inverseDecode:h=!1}=C;const k=r.FeatureTest.isLittleEndian?4278190080:255,[m,u]=h?[0,k]:[k,0],w=c>>3,f=c&7,g=W.length;d=new Uint32Array(d.buffer);for(let y=0;y<x;y++){for(const n=D+w;D<n;D++){const a=D<g?W[D]:255;d[b++]=a&128?u:m,d[b++]=a&64?u:m,d[b++]=a&32?u:m,d[b++]=a&16?u:m,d[b++]=a&8?u:m,d[b++]=a&4?u:m,d[b++]=a&2?u:m,d[b++]=a&1?u:m}if(f===0)continue;const l=D<g?W[D++]:255;for(let n=0;n<f;n++)d[b++]=l&1<<7-n?u:m}return{srcPos:D,destPos:b}}},(H,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.GlobalWorkerOptions=void 0;const t=Object.create(null);s.GlobalWorkerOptions=t,t.workerPort=t.workerPort===void 0?null:t.workerPort,t.workerSrc=t.workerSrc===void 0?"":t.workerSrc},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.MessageHandler=void 0;var r=t(1);const o={UNKNOWN:0,DATA:1,ERROR:2},C={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function W(d){switch(d instanceof Error||typeof d=="object"&&d!==null||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),d.name){case"AbortException":return new r.AbortException(d.message);case"MissingPDFException":return new r.MissingPDFException(d.message);case"PasswordException":return new r.PasswordException(d.message,d.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(d.message,d.status);case"UnknownErrorException":return new r.UnknownErrorException(d.message,d.details);default:return new r.UnknownErrorException(d.message,d.toString())}}class D{constructor(b,c,x){this.sourceName=b,this.targetName=c,this.comObj=x,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=h=>{const k=h.data;if(k.targetName!==this.sourceName)return;if(k.stream){this._processStreamMessage(k);return}if(k.callback){const u=k.callbackId,w=this.callbackCapabilities[u];if(!w)throw new Error(`Cannot resolve callback ${u}`);if(delete this.callbackCapabilities[u],k.callback===o.DATA)w.resolve(k.data);else if(k.callback===o.ERROR)w.reject(W(k.reason));else throw new Error("Unexpected callback case");return}const m=this.actionHandler[k.action];if(!m)throw new Error(`Unknown action from worker: ${k.action}`);if(k.callbackId){const u=this.sourceName,w=k.sourceName;new Promise(function(f){f(m(k.data))}).then(function(f){x.postMessage({sourceName:u,targetName:w,callback:o.DATA,callbackId:k.callbackId,data:f})},function(f){x.postMessage({sourceName:u,targetName:w,callback:o.ERROR,callbackId:k.callbackId,reason:W(f)})});return}if(k.streamId){this._createStreamSink(k);return}m(k.data)},x.addEventListener("message",this._onComObjOnMessage)}on(b,c){const x=this.actionHandler;if(x[b])throw new Error(`There is already an actionName called "${b}"`);x[b]=c}send(b,c,x){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:b,data:c},x)}sendWithPromise(b,c,x){const h=this.callbackId++,k=(0,r.createPromiseCapability)();this.callbackCapabilities[h]=k;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:b,callbackId:h,data:c},x)}catch(m){k.reject(m)}return k.promise}sendWithStream(b,c,x,h){const k=this.streamId++,m=this.sourceName,u=this.targetName,w=this.comObj;return new ReadableStream({start:f=>{const g=(0,r.createPromiseCapability)();return this.streamControllers[k]={controller:f,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},w.postMessage({sourceName:m,targetName:u,action:b,streamId:k,data:c,desiredSize:f.desiredSize},h),g.promise},pull:f=>{const g=(0,r.createPromiseCapability)();return this.streamControllers[k].pullCall=g,w.postMessage({sourceName:m,targetName:u,stream:C.PULL,streamId:k,desiredSize:f.desiredSize}),g.promise},cancel:f=>{(0,r.assert)(f instanceof Error,"cancel must have a valid reason");const g=(0,r.createPromiseCapability)();return this.streamControllers[k].cancelCall=g,this.streamControllers[k].isClosed=!0,w.postMessage({sourceName:m,targetName:u,stream:C.CANCEL,streamId:k,reason:W(f)}),g.promise}},x)}_createStreamSink(b){const c=b.streamId,x=this.sourceName,h=b.sourceName,k=this.comObj,m=this,u=this.actionHandler[b.action],w={enqueue(f){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,y=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const l=this.desiredSize;this.desiredSize-=g,l>0&&this.desiredSize<=0&&(this.sinkCapability=(0,r.createPromiseCapability)(),this.ready=this.sinkCapability.promise),k.postMessage({sourceName:x,targetName:h,stream:C.ENQUEUE,streamId:c,chunk:f},y)},close(){this.isCancelled||(this.isCancelled=!0,k.postMessage({sourceName:x,targetName:h,stream:C.CLOSE,streamId:c}),delete m.streamSinks[c])},error(f){(0,r.assert)(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,k.postMessage({sourceName:x,targetName:h,stream:C.ERROR,streamId:c,reason:W(f)}))},sinkCapability:(0,r.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:b.desiredSize,ready:null};w.sinkCapability.resolve(),w.ready=w.sinkCapability.promise,this.streamSinks[c]=w,new Promise(function(f){f(u(b.data,w))}).then(function(){k.postMessage({sourceName:x,targetName:h,stream:C.START_COMPLETE,streamId:c,success:!0})},function(f){k.postMessage({sourceName:x,targetName:h,stream:C.START_COMPLETE,streamId:c,reason:W(f)})})}_processStreamMessage(b){const c=b.streamId,x=this.sourceName,h=b.sourceName,k=this.comObj,m=this.streamControllers[c],u=this.streamSinks[c];switch(b.stream){case C.START_COMPLETE:b.success?m.startCall.resolve():m.startCall.reject(W(b.reason));break;case C.PULL_COMPLETE:b.success?m.pullCall.resolve():m.pullCall.reject(W(b.reason));break;case C.PULL:if(!u){k.postMessage({sourceName:x,targetName:h,stream:C.PULL_COMPLETE,streamId:c,success:!0});break}u.desiredSize<=0&&b.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=b.desiredSize,new Promise(function(w){w(u.onPull&&u.onPull())}).then(function(){k.postMessage({sourceName:x,targetName:h,stream:C.PULL_COMPLETE,streamId:c,success:!0})},function(w){k.postMessage({sourceName:x,targetName:h,stream:C.PULL_COMPLETE,streamId:c,reason:W(w)})});break;case C.ENQUEUE:if((0,r.assert)(m,"enqueue should have stream controller"),m.isClosed)break;m.controller.enqueue(b.chunk);break;case C.CLOSE:if((0,r.assert)(m,"close should have stream controller"),m.isClosed)break;m.isClosed=!0,m.controller.close(),this._deleteStreamController(m,c);break;case C.ERROR:(0,r.assert)(m,"error should have stream controller"),m.controller.error(W(b.reason)),this._deleteStreamController(m,c);break;case C.CANCEL_COMPLETE:b.success?m.cancelCall.resolve():m.cancelCall.reject(W(b.reason)),this._deleteStreamController(m,c);break;case C.CANCEL:if(!u)break;new Promise(function(w){w(u.onCancel&&u.onCancel(W(b.reason)))}).then(function(){k.postMessage({sourceName:x,targetName:h,stream:C.CANCEL_COMPLETE,streamId:c,success:!0})},function(w){k.postMessage({sourceName:x,targetName:h,stream:C.CANCEL_COMPLETE,streamId:c,reason:W(w)})}),u.sinkCapability.reject(W(b.reason)),u.isCancelled=!0,delete this.streamSinks[c];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(b,c){return st(this,null,function*(){yield Promise.allSettled([b.startCall&&b.startCall.promise,b.pullCall&&b.pullCall.promise,b.cancelCall&&b.cancelCall.promise]),delete this.streamControllers[c]})}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}s.MessageHandler=D},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var r=t(1);function o(m,u,w){C(m,u),u.set(m,w)}function C(m,u){if(u.has(m))throw new TypeError("Cannot initialize the same private elements twice on an object")}function W(m,u){var w=b(m,u,"get");return D(m,w)}function D(m,u){return u.get?u.get.call(m):u.value}function d(m,u,w){var f=b(m,u,"set");return c(m,f,w),w}function b(m,u,w){if(!u.has(m))throw new TypeError("attempted to "+w+" private field on non-instance");return u.get(m)}function c(m,u,w){if(u.set)u.set.call(m,w);else{if(!u.writable)throw new TypeError("attempted to set read only private field");u.value=w}}var x=new WeakMap,h=new WeakMap;class k{constructor(u){let{parsedData:w,rawData:f}=u;o(this,x,{writable:!0,value:void 0}),o(this,h,{writable:!0,value:void 0}),d(this,x,w),d(this,h,f)}getRaw(){return W(this,h)}get(u){var w;return(w=W(this,x).get(u))!==null&&w!==void 0?w:null}getAll(){return(0,r.objectFromMap)(W(this,x))}has(u){return W(this,x).has(u)}}s.Metadata=k},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.OptionalContentConfig=void 0;var r=t(1);function o(v,_){D(v,_),_.add(v)}function C(v,_,I){if(!_.has(v))throw new TypeError("attempted to get private field on non-instance");return I}function W(v,_,I){D(v,_),_.set(v,I)}function D(v,_){if(_.has(v))throw new TypeError("Cannot initialize the same private elements twice on an object")}function d(v,_,I){var V=x(v,_,"set");return b(v,V,I),I}function b(v,_,I){if(_.set)_.set.call(v,I);else{if(!_.writable)throw new TypeError("attempted to set read only private field");_.value=I}}function c(v,_){var I=x(v,_,"get");return h(v,I)}function x(v,_,I){if(!_.has(v))throw new TypeError("attempted to "+I+" private field on non-instance");return _.get(v)}function h(v,_){return _.get?_.get.call(v):_.value}const k=Symbol("INTERNAL");var m=new WeakMap;class u{constructor(_,I){W(this,m,{writable:!0,value:!0}),this.name=_,this.intent=I}get visible(){return c(this,m)}_setVisible(_,I){_!==k&&(0,r.unreachable)("Internal method `_setVisible` called."),d(this,m,I)}}var w=new WeakMap,f=new WeakMap,g=new WeakMap,y=new WeakMap,l=new WeakSet;class n{constructor(_){if(o(this,l),W(this,w,{writable:!0,value:!0}),W(this,f,{writable:!0,value:new Map}),W(this,g,{writable:!0,value:null}),W(this,y,{writable:!0,value:null}),this.name=null,this.creator=null,_!==null){this.name=_.name,this.creator=_.creator,d(this,y,_.order);for(const I of _.groups)c(this,f).set(I.id,new u(I.name,I.intent));if(_.baseState==="OFF")for(const I of c(this,f).values())I._setVisible(k,!1);for(const I of _.on)c(this,f).get(I)._setVisible(k,!0);for(const I of _.off)c(this,f).get(I)._setVisible(k,!1);d(this,g,new Map);for(const[I,V]of c(this,f))c(this,g).set(I,V.visible)}}isVisible(_){if(c(this,f).size===0)return!0;if(!_)return(0,r.warn)("Optional content group not defined."),!0;if(_.type==="OCG")return c(this,f).has(_.id)?c(this,f).get(_.id).visible:((0,r.warn)(`Optional content group not found: ${_.id}`),!0);if(_.type==="OCMD"){if(_.expression)return C(this,l,a).call(this,_.expression);if(!_.policy||_.policy==="AnyOn"){for(const I of _.ids){if(!c(this,f).has(I))return(0,r.warn)(`Optional content group not found: ${I}`),!0;if(c(this,f).get(I).visible)return!0}return!1}else if(_.policy==="AllOn"){for(const I of _.ids){if(!c(this,f).has(I))return(0,r.warn)(`Optional content group not found: ${I}`),!0;if(!c(this,f).get(I).visible)return!1}return!0}else if(_.policy==="AnyOff"){for(const I of _.ids){if(!c(this,f).has(I))return(0,r.warn)(`Optional content group not found: ${I}`),!0;if(!c(this,f).get(I).visible)return!0}return!1}else if(_.policy==="AllOff"){for(const I of _.ids){if(!c(this,f).has(I))return(0,r.warn)(`Optional content group not found: ${I}`),!0;if(c(this,f).get(I).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${_.policy}.`),!0}return(0,r.warn)(`Unknown group type ${_.type}.`),!0}setVisibility(_){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!c(this,f).has(_)){(0,r.warn)(`Optional content group not found: ${_}`);return}c(this,f).get(_)._setVisible(k,!!I),d(this,w,null)}get hasInitialVisibility(){if(c(this,w)!==null)return c(this,w);for(const[_,I]of c(this,f)){const V=c(this,g).get(_);if(I.visible!==V)return d(this,w,!1)}return d(this,w,!0)}getOrder(){return c(this,f).size?c(this,y)?c(this,y).slice():[...c(this,f).keys()]:null}getGroups(){return c(this,f).size>0?(0,r.objectFromMap)(c(this,f)):null}getGroup(_){return c(this,f).get(_)||null}}s.OptionalContentConfig=n;function a(v){const _=v.length;if(_<2)return!0;const I=v[0];for(let V=1;V<_;V++){const E=v[V];let ee;if(Array.isArray(E))ee=C(this,l,a).call(this,E);else if(c(this,f).has(E))ee=c(this,f).get(E).visible;else return(0,r.warn)(`Optional content group not found: ${E}`),!0;switch(I){case"And":if(!ee)return!1;break;case"Or":if(ee)return!0;break;case"Not":return!ee;default:return!0}}return I==="And"}},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.PDFDataTransportStream=void 0;var r=t(1),o=t(133);class C{constructor(b,c){(0,r.assert)(c,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=b.progressiveDone||!1,this._contentDispositionFilename=b.contentDispositionFilename||null;const x=b.initialData;if((x==null?void 0:x.length)>0){const h=new Uint8Array(x).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=c,this._isStreamingSupported=!b.disableStream,this._isRangeSupported=!b.disableRange,this._contentLength=b.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((h,k)=>{this._onReceiveData({begin:h,chunk:k})}),this._pdfDataRangeTransport.addProgressListener((h,k)=>{this._onProgress({loaded:h,total:k})}),this._pdfDataRangeTransport.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(b){const c=new Uint8Array(b.chunk).buffer;if(b.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(c):this._queuedChunks.push(c);else{const x=this._rangeReaders.some(function(h){return h._begin!==b.begin?!1:(h._enqueue(c),!0)});(0,r.assert)(x,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var b,c;return(b=(c=this._fullRequestReader)===null||c===void 0?void 0:c._loaded)!==null&&b!==void 0?b:0}_onProgress(b){if(b.total===void 0){const c=this._rangeReaders[0];c!=null&&c.onProgress&&c.onProgress({loaded:b.loaded})}else{const c=this._fullRequestReader;c!=null&&c.onProgress&&c.onProgress({loaded:b.loaded,total:b.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(b){const c=this._rangeReaders.indexOf(b);c>=0&&this._rangeReaders.splice(c,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const b=this._queuedChunks;return this._queuedChunks=null,new W(this,b,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(b,c){if(c<=this._progressiveDataLength)return null;const x=new D(this,b,c);return this._pdfDataRangeTransport.requestDataRange(b,c),this._rangeReaders.push(x),x}cancelAllRequests(b){this._fullRequestReader&&this._fullRequestReader.cancel(b);for(const c of this._rangeReaders.slice(0))c.cancel(b);this._pdfDataRangeTransport.abort()}}s.PDFDataTransportStream=C;class W{constructor(b,c){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this._stream=b,this._done=x||!1,this._filename=(0,o.isPdfFile)(h)?h:null,this._queuedChunks=c||[],this._loaded=0;for(const k of this._queuedChunks)this._loaded+=k.byteLength;this._requests=[],this._headersReady=Promise.resolve(),b._fullRequestReader=this,this.onProgress=null}_enqueue(b){this._done||(this._requests.length>0?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunks.push(b),this._loaded+=b.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){return st(this,null,function*(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const b=(0,r.createPromiseCapability)();return this._requests.push(b),b.promise})}cancel(b){this._done=!0;for(const c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class D{constructor(b,c,x){this._stream=b,this._begin=c,this._end=x,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(b){if(!this._done){if(this._requests.length===0)this._queuedChunk=b;else{this._requests.shift().resolve({value:b,done:!1});for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){return st(this,null,function*(){if(this._queuedChunk){const c=this._queuedChunk;return this._queuedChunk=null,{value:c,done:!1}}if(this._done)return{value:void 0,done:!0};const b=(0,r.createPromiseCapability)();return this._requests.push(b),b.promise})}cancel(b){this._done=!0;for(const c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(H,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.XfaText=void 0;class t{static textContent(o){const C=[],W={items:C,styles:Object.create(null)};function D(d){var b;if(!d)return;let c=null;const x=d.name;if(x==="#text")c=d.value;else if(t.shouldBuildText(x))d!=null&&(b=d.attributes)!==null&&b!==void 0&&b.textContent?c=d.attributes.textContent:d.value&&(c=d.value);else return;if(c!==null&&C.push({str:c}),!!d.children)for(const h of d.children)D(h)}return D(o),W}static shouldBuildText(o){return!(o==="textarea"||o==="input"||o==="option"||o==="select")}}s.XfaText=t},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.NodeStandardFontDataFactory=s.NodeCanvasFactory=s.NodeCMapReaderFactory=void 0;var r=t(134);const o=function(d){return new Promise((b,c)=>{__webpack_require__(27922).readFile(d,(h,k)=>{if(h||!k){c(new Error(h));return}b(new Uint8Array(k))})})};class C extends r.BaseCanvasFactory{_createCanvas(b,c){return __webpack_require__(64838).createCanvas(b,c)}}s.NodeCanvasFactory=C;class W extends r.BaseCMapReaderFactory{_fetchData(b,c){return o(b).then(x=>({cMapData:x,compressionType:c}))}}s.NodeCMapReaderFactory=W;class D extends r.BaseStandardFontDataFactory{_fetchData(b){return o(b)}}s.NodeStandardFontDataFactory=D},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayer=void 0;var r=t(132),o=t(1),C=t(148),W=t(149);function D(M,P){c(M,P),P.add(M)}function d(M,P,Y){return P in M?Object.defineProperty(M,P,{value:Y,enumerable:!0,configurable:!0,writable:!0}):M[P]=Y,M}function b(M,P,Y){c(M,P),P.set(M,Y)}function c(M,P){if(P.has(M))throw new TypeError("Cannot initialize the same private elements twice on an object")}function x(M,P,Y){if(!P.has(M))throw new TypeError("attempted to get private field on non-instance");return Y}function h(M,P){var Y=u(M,P,"get");return k(M,Y)}function k(M,P){return P.get?P.get.call(M):P.value}function m(M,P,Y){var Z=u(M,P,"set");return w(M,Z,Y),Y}function u(M,P,Y){if(!P.has(M))throw new TypeError("attempted to "+Y+" private field on non-instance");return P.get(M)}function w(M,P,Y){if(P.set)P.set.call(M,Y);else{if(!P.writable)throw new TypeError("attempted to set read only private field");P.value=Y}}var f=new WeakMap,g=new WeakMap,y=new WeakMap,l=new WeakMap,n=new WeakMap,a=new WeakMap,v=new WeakMap,_=new WeakMap,I=new WeakSet,V=new WeakSet,E=new WeakSet,ee=new WeakSet;class K{constructor(P){D(this,ee),D(this,E),D(this,V),D(this,I),b(this,f,{writable:!0,value:void 0}),b(this,g,{writable:!0,value:!1}),b(this,y,{writable:!0,value:this.pointerup.bind(this)}),b(this,l,{writable:!0,value:this.pointerdown.bind(this)}),b(this,n,{writable:!0,value:new Map}),b(this,a,{writable:!0,value:!1}),b(this,v,{writable:!0,value:!1}),b(this,_,{writable:!0,value:void 0}),K._initialized||(K._initialized=!0,C.FreeTextEditor.initialize(P.l10n),W.InkEditor.initialize(P.l10n),P.uiManager.registerEditorTypes([C.FreeTextEditor,W.InkEditor])),m(this,_,P.uiManager),this.annotationStorage=P.annotationStorage,this.pageIndex=P.pageIndex,this.div=P.div,m(this,f,P.accessibilityManager),h(this,_).addLayer(this)}updateToolbar(P){h(this,_).updateToolbar(P)}updateMode(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h(this,_).getMode();x(this,ee,B).call(this),P===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),h(this,_).unselectAll()}addInkEditorIfNeeded(P){if(!P&&h(this,_).getMode()!==o.AnnotationEditorType.INK)return;if(!P){for(const Z of h(this,n).values())if(Z.isEmpty()){Z.setInBackground();return}}x(this,E,T).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(P){h(this,_).setEditingState(P)}addCommands(P){h(this,_).addCommands(P)}enable(){this.div.style.pointerEvents="auto";for(const P of h(this,n).values())P.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const P of h(this,n).values())P.disableEditing()}setActiveEditor(P){h(this,_).getActive()!==P&&h(this,_).setActiveEditor(P)}enableClick(){this.div.addEventListener("pointerdown",h(this,l)),this.div.addEventListener("pointerup",h(this,y))}disableClick(){this.div.removeEventListener("pointerdown",h(this,l)),this.div.removeEventListener("pointerup",h(this,y))}attach(P){h(this,n).set(P.id,P)}detach(P){var Y;h(this,n).delete(P.id),(Y=h(this,f))===null||Y===void 0||Y.removePointerInTextLayer(P.contentDiv)}remove(P){h(this,_).removeEditor(P),this.detach(P),this.annotationStorage.remove(P.id),P.div.style.display="none",setTimeout(()=>{P.div.style.display="",P.div.remove(),P.isAttachedToDOM=!1,document.activeElement===document.body&&h(this,_).focusMainContainer()},0),h(this,v)||this.addInkEditorIfNeeded(!1)}add(P){if(x(this,I,O).call(this,P),h(this,_).addEditor(P),this.attach(P),!P.isAttachedToDOM){const Y=P.render();this.div.append(Y),P.isAttachedToDOM=!0}this.moveEditorInDOM(P),P.onceAdded(),this.addToAnnotationStorage(P)}moveEditorInDOM(P){var Y;(Y=h(this,f))===null||Y===void 0||Y.moveElementInDOM(this.div,P.div,P.contentDiv,!0)}addToAnnotationStorage(P){!P.isEmpty()&&!this.annotationStorage.has(P.id)&&this.annotationStorage.setValue(P.id,P)}addOrRebuild(P){P.needsToBeRebuilt()?P.rebuild():this.add(P)}addANewEditor(P){const Y=()=>{this.addOrRebuild(P)},Z=()=>{P.remove()};this.addCommands({cmd:Y,undo:Z,mustExec:!0})}addUndoableEditor(P){const Y=()=>{this.addOrRebuild(P)},Z=()=>{P.remove()};this.addCommands({cmd:Y,undo:Z,mustExec:!1})}getNextId(){return h(this,_).getId()}deserialize(P){switch(P.annotationType){case o.AnnotationEditorType.FREETEXT:return C.FreeTextEditor.deserialize(P,this);case o.AnnotationEditorType.INK:return W.InkEditor.deserialize(P,this)}return null}setSelected(P){h(this,_).setSelected(P)}toggleSelected(P){h(this,_).toggleSelected(P)}isSelected(P){return h(this,_).isSelected(P)}unselect(P){h(this,_).unselect(P)}pointerup(P){const Y=r.KeyboardManager.platform.isMac;if(!(P.button!==0||P.ctrlKey&&Y)&&P.target===this.div&&h(this,a)){if(m(this,a,!1),!h(this,g)){m(this,g,!0);return}x(this,E,T).call(this,P)}}pointerdown(P){const Y=r.KeyboardManager.platform.isMac;if(P.button!==0||P.ctrlKey&&Y||P.target!==this.div)return;m(this,a,!0);const Z=h(this,_).getActive();m(this,g,!Z||Z.isEmpty())}drop(P){const Y=P.dataTransfer.getData("text/plain"),Z=h(this,_).getEditor(Y);if(!Z)return;P.preventDefault(),P.dataTransfer.dropEffect="move",x(this,I,O).call(this,Z);const J=this.div.getBoundingClientRect(),_e=P.clientX-J.x,z=P.clientY-J.y;Z.translate(_e-Z.startX,z-Z.startY),this.moveEditorInDOM(Z),Z.div.focus()}dragover(P){P.preventDefault()}destroy(){var P;((P=h(this,_).getActive())===null||P===void 0?void 0:P.parent)===this&&h(this,_).setActiveEditor(null);for(const Z of h(this,n).values()){var Y;(Y=h(this,f))===null||Y===void 0||Y.removePointerInTextLayer(Z.contentDiv),Z.isAttachedToDOM=!1,Z.div.remove(),Z.parent=null}this.div=null,h(this,n).clear(),h(this,_).removeLayer(this)}render(P){this.viewport=P.viewport,(0,r.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const Y of h(this,_).getEditors(this.pageIndex))this.add(Y);this.updateMode()}update(P){this.viewport=P.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[P,Y,Z,J]=this.viewport.viewBox,_e=Z-P,z=J-Y;return[_e,z]}get viewportBaseDimensions(){const{width:P,height:Y,rotation:Z}=this.viewport;return Z%180===0?[P,Y]:[Y,P]}setDimensions(){const{width:P,height:Y,rotation:Z}=this.viewport,J=Z%180!==0,_e=Math.floor(P)+"px",z=Math.floor(Y)+"px";this.div.style.width=J?z:_e,this.div.style.height=J?_e:z,this.div.setAttribute("data-main-rotation",Z)}}s.AnnotationEditorLayer=K;function O(M){var P;M.parent!==this&&(this.attach(M),M.pageIndex=this.pageIndex,(P=M.parent)===null||P===void 0||P.detach(M),M.parent=this,M.div&&M.isAttachedToDOM&&(M.div.remove(),this.div.append(M.div)))}function L(M){switch(h(this,_).getMode()){case o.AnnotationEditorType.FREETEXT:return new C.FreeTextEditor(M);case o.AnnotationEditorType.INK:return new W.InkEditor(M)}return null}function T(M){const P=this.getNextId(),Y=x(this,V,L).call(this,{parent:this,id:P,x:M.offsetX,y:M.offsetY});return Y&&this.add(Y),Y}function B(){m(this,v,!0);for(const M of h(this,n).values())M.isEmpty()&&M.remove();m(this,v,!1)}d(K,"_initialized",!1)},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.FreeTextEditor=void 0;var r=t(1),o=t(132),C=t(131);function W(T,B){b(T,B),B.add(T)}function D(T,B,M){return B in T?Object.defineProperty(T,B,{value:M,enumerable:!0,configurable:!0,writable:!0}):T[B]=M,T}function d(T,B,M){b(T,B),B.set(T,M)}function b(T,B){if(B.has(T))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(T,B){var M=m(T,B,"get");return x(T,M)}function x(T,B){return B.get?B.get.call(T):B.value}function h(T,B,M){if(!B.has(T))throw new TypeError("attempted to get private field on non-instance");return M}function k(T,B,M){var P=m(T,B,"set");return u(T,P,M),M}function m(T,B,M){if(!B.has(T))throw new TypeError("attempted to "+M+" private field on non-instance");return B.get(T)}function u(T,B,M){if(B.set)B.set.call(T,M);else{if(!B.writable)throw new TypeError("attempted to set read only private field");B.value=M}}var w=new WeakMap,f=new WeakMap,g=new WeakMap,y=new WeakMap,l=new WeakMap,n=new WeakMap,a=new WeakMap,v=new WeakSet,_=new WeakSet,I=new WeakSet,V=new WeakSet;class E extends C.AnnotationEditor{constructor(B){super(xn(Tn({},B),{name:"freeTextEditor"})),W(this,V),W(this,I),W(this,_),W(this,v),d(this,w,{writable:!0,value:this.editorDivBlur.bind(this)}),d(this,f,{writable:!0,value:this.editorDivFocus.bind(this)}),d(this,g,{writable:!0,value:this.editorDivKeydown.bind(this)}),d(this,y,{writable:!0,value:void 0}),d(this,l,{writable:!0,value:""}),d(this,n,{writable:!0,value:!1}),d(this,a,{writable:!0,value:void 0}),k(this,y,B.color||E._defaultColor||C.AnnotationEditor._defaultLineColor),k(this,a,B.fontSize||E._defaultFontSize)}static initialize(B){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(P=>[P,B.get(P)]));const M=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(M.getPropertyValue("--freetext-padding"))}static updateDefaultParams(B,M){switch(B){case r.AnnotationEditorParamsType.FREETEXT_SIZE:E._defaultFontSize=M;break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:E._defaultColor=M;break}}updateParams(B,M){switch(B){case r.AnnotationEditorParamsType.FREETEXT_SIZE:h(this,v,ee).call(this,M);break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:h(this,_,K).call(this,M);break}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,E._defaultFontSize],[r.AnnotationEditorParamsType.FREETEXT_COLOR,E._defaultColor||C.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,c(this,a)],[r.AnnotationEditorParamsType.FREETEXT_COLOR,c(this,y)]]}getInitialTranslation(){return[-E._internalPadding*this.parent.scaleFactor,-(E._internalPadding+c(this,a))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(r.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",c(this,g)),this.editorDiv.addEventListener("focus",c(this,f)),this.editorDiv.addEventListener("blur",c(this,w)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",c(this,g)),this.editorDiv.removeEventListener("focus",c(this,f)),this.editorDiv.removeEventListener("blur",c(this,w)),this.div.focus(),this.isEditing=!1)}focusin(B){super.focusin(B),B.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),c(this,n)||(k(this,n,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),k(this,l,h(this,I,O).call(this).trimEnd()),h(this,V,L).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(B){this.enableEditMode(),this.editorDiv.focus()}keydown(B){B.target===this.div&&B.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(B){E._keyboardManager.exec(this,B)}editorDivFocus(B){this.isEditing=!0}editorDivBlur(B){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let B,M;this.width&&(B=this.x,M=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),E._l10nPromise.get("editor_free_text_aria_label").then(Y=>{var Z;return(Z=this.editorDiv)===null||Z===void 0?void 0:Z.setAttribute("aria-label",Y)}),E._l10nPromise.get("free_text_default_content").then(Y=>{var Z;return(Z=this.editorDiv)===null||Z===void 0?void 0:Z.setAttribute("default-content",Y)}),this.editorDiv.contentEditable=!0;const{style:P}=this.editorDiv;if(P.fontSize=`calc(${c(this,a)}px * var(--scale-factor))`,P.color=c(this,y),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,o.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Y,Z]=this.parent.viewportBaseDimensions;this.setAt(B*Y,M*Z,this.width*Y,this.height*Z);for(const J of c(this,l).split(`
`)){const _e=document.createElement("div");_e.append(J?document.createTextNode(J):document.createElement("br")),this.editorDiv.append(_e)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(B,M){const P=super.deserialize(B,M);return k(P,a,B.fontSize),k(P,y,r.Util.makeHexColor(...B.color)),k(P,l,B.value),P}serialize(){if(this.isEmpty())return null;const B=E._internalPadding*this.parent.scaleFactor,M=this.getRect(B,B),P=C.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:r.AnnotationEditorType.FREETEXT,color:P,fontSize:c(this,a),value:c(this,l),pageIndex:this.parent.pageIndex,rect:M,rotation:this.rotation}}}s.FreeTextEditor=E;function ee(T){const B=P=>{this.editorDiv.style.fontSize=`calc(${P}px * var(--scale-factor))`,this.translate(0,-(P-c(this,a))*this.parent.scaleFactor),k(this,a,P),h(this,V,L).call(this)},M=c(this,a);this.parent.addCommands({cmd:()=>{B(T)},undo:()=>{B(M)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function K(T){const B=c(this,y);this.parent.addCommands({cmd:()=>{k(this,y,T),this.editorDiv.style.color=T},undo:()=>{k(this,y,B),this.editorDiv.style.color=B},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function O(){const T=this.editorDiv.getElementsByTagName("div");if(T.length===0)return this.editorDiv.innerText;const B=[];for(let M=0,P=T.length;M<P;M++){const Z=T[M].firstChild;(Z==null?void 0:Z.nodeName)==="#text"?B.push(Z.data):B.push("")}return B.join(`
`)}function L(){const[T,B]=this.parent.viewportBaseDimensions,M=this.div.getBoundingClientRect();this.width=M.width/T,this.height=M.height/B}D(E,"_freeTextDefaultContent",""),D(E,"_l10nPromise",void 0),D(E,"_internalPadding",0),D(E,"_defaultColor",null),D(E,"_defaultFontSize",10),D(E,"_keyboardManager",new o.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],E.prototype.commitOrRemove]])),D(E,"_type","freetext")},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.InkEditor=void 0,Object.defineProperty(s,"fitCurve",{enumerable:!0,get:function(){return C.fitCurve}});var r=t(1),o=t(131),C=t(150),W=t(132);function D(ce,de){c(ce,de),de.add(ce)}function d(ce,de,Ce){return de in ce?Object.defineProperty(ce,de,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):ce[de]=Ce,ce}function b(ce,de,Ce){c(ce,de),de.set(ce,Ce)}function c(ce,de){if(de.has(ce))throw new TypeError("Cannot initialize the same private elements twice on an object")}function x(ce,de,Ce){return h(ce,de),Ce}function h(ce,de){if(ce!==de)throw new TypeError("Private static access of wrong provenance")}function k(ce,de,Ce){var De=w(ce,de,"set");return m(ce,De,Ce),Ce}function m(ce,de,Ce){if(de.set)de.set.call(ce,Ce);else{if(!de.writable)throw new TypeError("attempted to set read only private field");de.value=Ce}}function u(ce,de){var Ce=w(ce,de,"get");return f(ce,Ce)}function w(ce,de,Ce){if(!de.has(ce))throw new TypeError("attempted to "+Ce+" private field on non-instance");return de.get(ce)}function f(ce,de){return de.get?de.get.call(ce):de.value}function g(ce,de,Ce){if(!de.has(ce))throw new TypeError("attempted to get private field on non-instance");return Ce}const y=16;var l=new WeakMap,n=new WeakMap,a=new WeakMap,v=new WeakMap,_=new WeakMap,I=new WeakMap,V=new WeakMap,E=new WeakMap,ee=new WeakMap,K=new WeakMap,O=new WeakMap,L=new WeakMap,T=new WeakMap,B=new WeakMap,M=new WeakSet,P=new WeakSet,Y=new WeakSet,Z=new WeakSet,J=new WeakSet,_e=new WeakSet,z=new WeakSet,S=new WeakSet,A=new WeakSet,j=new WeakSet,$=new WeakSet,p=new WeakSet,R=new WeakSet,F=new WeakSet,U=new WeakSet,q=new WeakSet,te=new WeakSet,le=new WeakSet,ge=new WeakSet,Se=new WeakSet,Ae=new WeakSet,Pe=new WeakSet;class Ee extends o.AnnotationEditor{constructor(de){super(xn(Tn({},de),{name:"inkEditor"})),D(this,Pe),D(this,Ae),D(this,Se),D(this,ge),D(this,le),D(this,te),D(this,q),D(this,U),D(this,F),D(this,R),D(this,p),D(this,$),D(this,j),D(this,A),D(this,S),D(this,z),D(this,_e),D(this,J),D(this,Z),D(this,Y),D(this,P),D(this,M),b(this,l,{writable:!0,value:0}),b(this,n,{writable:!0,value:0}),b(this,a,{writable:!0,value:0}),b(this,v,{writable:!0,value:this.canvasPointermove.bind(this)}),b(this,_,{writable:!0,value:this.canvasPointerleave.bind(this)}),b(this,I,{writable:!0,value:this.canvasPointerup.bind(this)}),b(this,V,{writable:!0,value:this.canvasPointerdown.bind(this)}),b(this,E,{writable:!0,value:!1}),b(this,ee,{writable:!0,value:!1}),b(this,K,{writable:!0,value:null}),b(this,O,{writable:!0,value:null}),b(this,L,{writable:!0,value:0}),b(this,T,{writable:!0,value:0}),b(this,B,{writable:!0,value:null}),this.color=de.color||null,this.thickness=de.thickness||null,this.opacity=de.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(de){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(Ce=>[Ce,de.get(Ce)]))}static updateDefaultParams(de,Ce){switch(de){case r.AnnotationEditorParamsType.INK_THICKNESS:Ee._defaultThickness=Ce;break;case r.AnnotationEditorParamsType.INK_COLOR:Ee._defaultColor=Ce;break;case r.AnnotationEditorParamsType.INK_OPACITY:Ee._defaultOpacity=Ce/100;break}}updateParams(de,Ce){switch(de){case r.AnnotationEditorParamsType.INK_THICKNESS:g(this,M,ke).call(this,Ce);break;case r.AnnotationEditorParamsType.INK_COLOR:g(this,P,Be).call(this,Ce);break;case r.AnnotationEditorParamsType.INK_OPACITY:g(this,Y,Ue).call(this,Ce);break}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,Ee._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,Ee._defaultColor||o.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(Ee._defaultOpacity*100)]]}get propertiesToUpdate(){var de;return[[r.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Ee._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,this.color||Ee._defaultColor||o.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((de=this.opacity)!==null&&de!==void 0?de:Ee._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(g(this,$,he).call(this),g(this,p,ye).call(this)),this.isAttachedToDOM||(this.parent.add(this),g(this,R,Q).call(this)),g(this,Ae,je).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,u(this,O).disconnect(),k(this,O,null),super.remove())}enableEditMode(){u(this,E)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",u(this,V)),this.canvas.addEventListener("pointerup",u(this,I)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",u(this,V)),this.canvas.removeEventListener("pointerup",u(this,I)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){u(this,E)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),k(this,E,!0),this.div.classList.add("disabled"),g(this,Ae,je).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(de){super.focusin(de),this.enableEditMode()}canvasPointerdown(de){de.button!==0||!this.isInEditMode()||u(this,E)||(this.setInForeground(),de.type!=="mouse"&&this.div.focus(),de.stopPropagation(),this.canvas.addEventListener("pointerleave",u(this,_)),this.canvas.addEventListener("pointermove",u(this,v)),g(this,_e,We).call(this,de.offsetX,de.offsetY))}canvasPointermove(de){de.stopPropagation(),g(this,z,Oe).call(this,de.offsetX,de.offsetY)}canvasPointerup(de){de.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(de.stopPropagation(),g(this,j,xe).call(this,de),this.setInBackground())}canvasPointerleave(de){g(this,j,xe).call(this,de),this.setInBackground()}render(){if(this.div)return this.div;let de,Ce;this.width&&(de=this.x,Ce=this.y),super.render(),Ee._l10nPromise.get("editor_ink_aria_label").then(it=>{var Ge;return(Ge=this.div)===null||Ge===void 0?void 0:Ge.setAttribute("aria-label",it)});const[De,Ve,Ye,et]=g(this,Z,$e).call(this);if(this.setAt(De,Ve,0,0),this.setDims(Ye,et),g(this,$,he).call(this),this.width){const[it,Ge]=this.parent.viewportBaseDimensions;this.setAt(de*it,Ce*Ge,this.width*it,this.height*Ge),k(this,ee,!0),g(this,R,Q).call(this),this.setDims(this.width*it,this.height*Ge),g(this,A,ze).call(this),g(this,Pe,Re).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return g(this,p,ye).call(this),this.div}setDimensions(de,Ce){const De=Math.round(de),Ve=Math.round(Ce);if(u(this,L)===De&&u(this,T)===Ve)return;k(this,L,De),k(this,T,Ve),this.canvas.style.visibility="hidden",u(this,l)&&Math.abs(u(this,l)-de/Ce)>.01&&(Ce=Math.ceil(de/u(this,l)),this.setDims(de,Ce));const[Ye,et]=this.parent.viewportBaseDimensions;this.width=de/Ye,this.height=Ce/et,u(this,E)&&g(this,F,ve).call(this,de,Ce),g(this,R,Q).call(this),g(this,A,ze).call(this),this.canvas.style.visibility="visible"}static deserialize(de,Ce){const De=super.deserialize(de,Ce);De.thickness=de.thickness,De.color=r.Util.makeHexColor(...de.color),De.opacity=de.opacity;const[Ve,Ye]=Ce.pageDimensions,et=De.width*Ve,it=De.height*Ye,Ge=Ce.scaleFactor,nt=de.thickness/2;k(De,l,et/it),k(De,E,!0),k(De,L,Math.round(et)),k(De,T,Math.round(it));for(const{bezier:ne}of de.paths){const X=[];De.paths.push(X);let G=Ge*(ne[0]-nt),ie=Ge*(it-ne[1]-nt);for(let fe=2,Ie=ne.length;fe<Ie;fe+=6){const He=Ge*(ne[fe]-nt),Ke=Ge*(it-ne[fe+1]-nt),Xe=Ge*(ne[fe+2]-nt),Ze=Ge*(it-ne[fe+3]-nt),tt=Ge*(ne[fe+4]-nt),rt=Ge*(it-ne[fe+5]-nt);X.push([[G,ie],[He,Ke],[Xe,Ze],[tt,rt]]),G=tt,ie=rt}const pe=x(this,Ee,Te).call(this,X);De.bezierPath2D.push(pe)}const se=g(De,ge,ue).call(De);return k(De,a,Math.max(y,se[2]-se[0])),k(De,n,Math.max(y,se[3]-se[1])),g(De,F,ve).call(De,et,it),De}serialize(){if(this.isEmpty())return null;const de=this.getRect(0,0),Ce=this.rotation%180===0?de[3]-de[1]:de[2]-de[0],De=o.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:r.AnnotationEditorType.INK,color:De,thickness:this.thickness,opacity:this.opacity,paths:g(this,q,Fe).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,Ce),pageIndex:this.parent.pageIndex,rect:de,rotation:this.rotation}}}s.InkEditor=Ee;function ke(ce){const de=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=ce,g(this,Ae,je).call(this)},undo:()=>{this.thickness=de,g(this,Ae,je).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function Be(ce){const de=this.color;this.parent.addCommands({cmd:()=>{this.color=ce,g(this,A,ze).call(this)},undo:()=>{this.color=de,g(this,A,ze).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function Ue(ce){ce/=100;const de=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=ce,g(this,A,ze).call(this)},undo:()=>{this.opacity=de,g(this,A,ze).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function $e(){const{width:ce,height:de,rotation:Ce}=this.parent.viewport;switch(Ce){case 90:return[0,ce,ce,de];case 180:return[ce,de,ce,de];case 270:return[de,0,ce,de];default:return[0,0,ce,de]}}function qe(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,W.opacityToHex)(this.opacity)}`}function We(ce,de){if(this.isEditing=!0,!u(this,ee)){var Ce;k(this,ee,!0),g(this,R,Q).call(this),this.thickness||(this.thickness=Ee._defaultThickness),this.color||(this.color=Ee._defaultColor||o.AnnotationEditor._defaultLineColor),(Ce=this.opacity)!==null&&Ce!==void 0||(this.opacity=Ee._defaultOpacity)}this.currentPath.push([ce,de]),k(this,K,null),g(this,J,qe).call(this),this.ctx.beginPath(),this.ctx.moveTo(ce,de),k(this,B,()=>{u(this,B)&&(u(this,K)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):g(this,A,ze).call(this),this.ctx.lineTo(...u(this,K)),k(this,K,null),this.ctx.stroke()),window.requestAnimationFrame(u(this,B)))}),window.requestAnimationFrame(u(this,B))}function Oe(ce,de){const[Ce,De]=this.currentPath.at(-1);ce===Ce&&de===De||(this.currentPath.push([ce,de]),k(this,K,[ce,de]))}function Ne(ce,de){this.ctx.closePath(),k(this,B,null),ce=Math.min(Math.max(ce,0),this.canvas.width),de=Math.min(Math.max(de,0),this.canvas.height);const[Ce,De]=this.currentPath.at(-1);(ce!==Ce||de!==De)&&this.currentPath.push([ce,de]);let Ve;if(this.currentPath.length!==1)Ve=(0,C.fitCurve)(this.currentPath,30,null);else{const Ge=[ce,de];Ve=[[Ge,Ge.slice(),Ge.slice(),Ge]]}const Ye=x(Ee,Ee,Te).call(Ee,Ve);this.currentPath.length=0;const et=()=>{this.paths.push(Ve),this.bezierPath2D.push(Ye),this.rebuild()},it=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(g(this,$,he).call(this),g(this,p,ye).call(this)),g(this,Ae,je).call(this))};this.parent.addCommands({cmd:et,undo:it,mustExec:!0})}function ze(){if(this.isEmpty()){g(this,U,oe).call(this);return}g(this,J,qe).call(this);const{canvas:ce,ctx:de}=this;de.setTransform(1,0,0,1,0,0),de.clearRect(0,0,ce.width,ce.height),g(this,U,oe).call(this);for(const Ce of this.bezierPath2D)de.stroke(Ce)}function xe(ce){g(this,S,Ne).call(this,ce.offsetX,ce.offsetY),this.canvas.removeEventListener("pointerleave",u(this,_)),this.canvas.removeEventListener("pointermove",u(this,v)),this.parent.addToAnnotationStorage(this)}function he(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",Ee._l10nPromise.get("editor_ink_canvas_aria_label").then(ce=>{var de;return(de=this.canvas)===null||de===void 0?void 0:de.setAttribute("aria-label",ce)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function ye(){k(this,O,new ResizeObserver(ce=>{const de=ce[0].contentRect;de.width&&de.height&&this.setDimensions(de.width,de.height)})),u(this,O).observe(this.div)}function Q(){if(!u(this,ee))return;const[ce,de]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*ce),this.canvas.height=Math.ceil(this.height*de),g(this,U,oe).call(this)}function ve(ce,de){const Ce=g(this,Se,Me).call(this),De=(ce-Ce)/u(this,a),Ve=(de-Ce)/u(this,n);this.scaleFactor=Math.min(De,Ve)}function oe(){const ce=g(this,Se,Me).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+ce,this.translationY*this.scaleFactor+ce)}function Te(ce){const de=new Path2D;for(let Ce=0,De=ce.length;Ce<De;Ce++){const[Ve,Ye,et,it]=ce[Ce];Ce===0&&de.moveTo(...Ve),de.bezierCurveTo(Ye[0],Ye[1],et[0],et[1],it[0],it[1])}return de}function Fe(ce,de,Ce,De){const Ye=[],et=this.thickness/2;let it,Ge;for(const nt of this.paths){it=[],Ge=[];for(let se=0,ne=nt.length;se<ne;se++){const[X,G,ie,pe]=nt[se],fe=ce*(X[0]+de)+et,Ie=De-ce*(X[1]+Ce)-et,He=ce*(G[0]+de)+et,Ke=De-ce*(G[1]+Ce)-et,Xe=ce*(ie[0]+de)+et,Ze=De-ce*(ie[1]+Ce)-et,tt=ce*(pe[0]+de)+et,rt=De-ce*(pe[1]+Ce)-et;se===0&&(it.push(fe,Ie),Ge.push(fe,Ie)),it.push(He,Ke,Xe,Ze,tt,rt),g(this,te,me).call(this,fe,Ie,He,Ke,Xe,Ze,tt,rt,4,Ge)}Ye.push({bezier:it,points:Ge})}return Ye}function me(ce,de,Ce,De,Ve,Ye,et,it,Ge,nt){if(g(this,le,ae).call(this,ce,de,Ce,De,Ve,Ye,et,it)){nt.push(et,it);return}for(let se=1;se<Ge-1;se++){const ne=se/Ge,X=1-ne;let G=ne*ce+X*Ce,ie=ne*de+X*De,pe=ne*Ce+X*Ve,fe=ne*De+X*Ye;const Ie=ne*Ve+X*et,He=ne*Ye+X*it;G=ne*G+X*pe,ie=ne*ie+X*fe,pe=ne*pe+X*Ie,fe=ne*fe+X*He,G=ne*G+X*pe,ie=ne*ie+X*fe,nt.push(G,ie)}nt.push(et,it)}function ae(ce,de,Ce,De,Ve,Ye,et,it){const nt=sn(3*Ce-2*ce-et,2),se=sn(3*De-2*de-it,2),ne=sn(3*Ve-ce-2*et,2),X=sn(3*Ye-de-2*it,2);return Math.max(nt,ne)+Math.max(se,X)<=10}function ue(){let ce=1/0,de=-1/0,Ce=1/0,De=-1/0;for(const Ve of this.paths)for(const[Ye,et,it,Ge]of Ve){const nt=r.Util.bezierBoundingBox(...Ye,...et,...it,...Ge);ce=Math.min(ce,nt[0]),Ce=Math.min(Ce,nt[1]),de=Math.max(de,nt[2]),De=Math.max(De,nt[3])}return[ce,Ce,de,De]}function Me(){return u(this,E)?Math.ceil(this.thickness*this.parent.scaleFactor):0}function je(){let ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return;if(!u(this,E)){g(this,A,ze).call(this);return}const de=g(this,ge,ue).call(this),Ce=g(this,Se,Me).call(this);k(this,a,Math.max(y,de[2]-de[0])),k(this,n,Math.max(y,de[3]-de[1]));const De=Math.ceil(Ce+u(this,a)*this.scaleFactor),Ve=Math.ceil(Ce+u(this,n)*this.scaleFactor),[Ye,et]=this.parent.viewportBaseDimensions;this.width=De/Ye,this.height=Ve/et,k(this,l,De/Ve),g(this,Pe,Re).call(this);const it=this.translationX,Ge=this.translationY;this.translationX=-de[0],this.translationY=-de[1],g(this,R,Q).call(this),g(this,A,ze).call(this),k(this,L,De),k(this,T,Ve),this.setDims(De,Ve);const nt=ce?Ce/this.scaleFactor/2:0;this.translate(it-this.translationX-nt,Ge-this.translationY-nt)}function Re(){const{style:ce}=this.div;u(this,l)>=1?(ce.minHeight=`${y}px`,ce.minWidth=`${Math.round(u(this,l)*y)}px`):(ce.minWidth=`${y}px`,ce.minHeight=`${Math.round(y/u(this,l))}px`)}d(Ee,"_defaultColor",null),d(Ee,"_defaultOpacity",1),d(Ee,"_defaultThickness",1),d(Ee,"_l10nPromise",void 0),d(Ee,"_type","ink")},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.fitCurve=void 0;const r=t(151);s.fitCurve=r},H=>{"use strict";function s(m,u,w){if(!Array.isArray(m))throw new TypeError("First argument should be an array");if(m.forEach(l=>{if(!Array.isArray(l)||l.some(n=>typeof n!="number")||l.length!==m[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),m=m.filter((l,n)=>n===0||!l.every((a,v)=>a===m[n-1][v])),m.length<2)return[];const f=m.length,g=x(m[1],m[0]),y=x(m[f-2],m[f-1]);return t(m,g,y,u,w)}function t(m,u,w,f,g){var l,n,a,v,_,I,V,E,ee,K,O,L,T;if(m.length===2)return L=h.vectorLen(h.subtract(m[0],m[1]))/3,l=[m[0],h.addArrays(m[0],h.mulItems(u,L)),h.addArrays(m[1],h.mulItems(w,L)),m[1]],[l];if(n=D(m),[l,v,I]=r(m,n,n,u,w,g),v===0||v<f)return[l];if(v<f*f)for(a=n,_=v,V=I,T=0;T<20;T++){if(a=C(l,m,a),[l,v,I]=r(m,n,a,u,w,g),v<f)return[l];if(I===V){let B=v/_;if(B>.9999&&B<1.0001)break}_=v,V=I}return O=[],E=h.subtract(m[I-1],m[I+1]),E.every(B=>B===0)&&(E=h.subtract(m[I-1],m[I]),[E[0],E[1]]=[-E[1],E[0]]),ee=h.normalize(E),K=h.mulItems(ee,-1),O=O.concat(t(m.slice(0,I+1),u,ee,f,g)),O=O.concat(t(m.slice(I),K,w,f,g)),O}function r(m,u,w,f,g,y){var l,n,a;return l=o(m,w,f,g,y),[n,a]=d(m,l,u),y&&y({bez:l,points:m,params:u,maxErr:n,maxPoint:a}),[l,n,a]}function o(m,u,w,f){var g,y,l,n,a,v,_,I,V,E,ee,K,O,L,T,B,M,P=m[0],Y=m[m.length-1];for(g=[P,null,null,Y],y=h.zeros_Xx2x2(u.length),O=0,L=u.length;O<L;O++)B=u[O],M=1-B,l=y[O],l[0]=h.mulItems(w,3*B*(M*M)),l[1]=h.mulItems(f,3*M*(B*B));for(n=[[0,0],[0,0]],a=[0,0],O=0,L=m.length;O<L;O++)B=u[O],l=y[O],n[0][0]+=h.dot(l[0],l[0]),n[0][1]+=h.dot(l[0],l[1]),n[1][0]+=h.dot(l[0],l[1]),n[1][1]+=h.dot(l[1],l[1]),T=h.subtract(m[O],k.q([P,P,Y,Y],B)),a[0]+=h.dot(l[0],T),a[1]+=h.dot(l[1],T);return v=n[0][0]*n[1][1]-n[1][0]*n[0][1],_=n[0][0]*a[1]-n[1][0]*a[0],I=a[0]*n[1][1]-a[1]*n[0][1],V=v===0?0:I/v,E=v===0?0:_/v,K=h.vectorLen(h.subtract(P,Y)),ee=1e-6*K,V<ee||E<ee?(g[1]=h.addArrays(P,h.mulItems(w,K/3)),g[2]=h.addArrays(Y,h.mulItems(f,K/3))):(g[1]=h.addArrays(P,h.mulItems(w,V)),g[2]=h.addArrays(Y,h.mulItems(f,E))),g}function C(m,u,w){return w.map((f,g)=>W(m,u[g],f))}function W(m,u,w){var f=h.subtract(k.q(m,w),u),g=k.qprime(m,w),y=h.mulMatrix(f,g),l=h.sum(h.squareItems(g))+2*h.mulMatrix(f,k.qprimeprime(m,w));return l===0?w:w-y/l}function D(m){var u=[],w,f,g;return m.forEach((y,l)=>{w=l?f+h.vectorLen(h.subtract(y,g)):0,u.push(w),f=w,g=y}),u=u.map(y=>y/f),u}function d(m,u,w){var f,g,y,l,n,a,v,_;g=0,y=Math.floor(m.length/2);const I=b(u,10);for(n=0,a=m.length;n<a;n++)v=m[n],_=c(u,w[n],I,10),l=h.subtract(k.q(u,_),v),f=l[0]*l[0]+l[1]*l[1],f>g&&(g=f,y=n);return[g,y]}var b=function(m,u){for(var w,f=[0],g=m[0],y=0,l=1;l<=u;l++)w=k.q(m,l/u),y+=h.vectorLen(h.subtract(w,g)),f.push(y),g=w;return f=f.map(n=>n/y),f};function c(m,u,w,f){if(u<0)return 0;if(u>1)return 1;for(var g,y,l,n,a,v=1;v<=f;v++)if(u<=w[v]){n=(v-1)/f,l=v/f,y=w[v-1],g=w[v],a=(u-y)/(g-y)*(l-n)+n;break}return a}function x(m,u){return h.normalize(h.subtract(m,u))}class h{static zeros_Xx2x2(u){for(var w=[];u--;)w.push([0,0]);return w}static mulItems(u,w){return u.map(f=>f*w)}static mulMatrix(u,w){return u.reduce((f,g,y)=>f+g*w[y],0)}static subtract(u,w){return u.map((f,g)=>f-w[g])}static addArrays(u,w){return u.map((f,g)=>f+w[g])}static addItems(u,w){return u.map(f=>f+w)}static sum(u){return u.reduce((w,f)=>w+f)}static dot(u,w){return h.mulMatrix(u,w)}static vectorLen(u){return Math.hypot(...u)}static divItems(u,w){return u.map(f=>f/w)}static squareItems(u){return u.map(w=>w*w)}static normalize(u){return this.divItems(u,this.vectorLen(u))}}class k{static q(u,w){var f=1-w,g=h.mulItems(u[0],f*f*f),y=h.mulItems(u[1],3*f*f*w),l=h.mulItems(u[2],3*f*w*w),n=h.mulItems(u[3],w*w*w);return h.addArrays(h.addArrays(g,y),h.addArrays(l,n))}static qprime(u,w){var f=1-w,g=h.mulItems(h.subtract(u[1],u[0]),3*f*f),y=h.mulItems(h.subtract(u[2],u[1]),6*f*w),l=h.mulItems(h.subtract(u[3],u[2]),3*w*w);return h.addArrays(h.addArrays(g,y),l)}static qprimeprime(u,w){return h.addArrays(h.mulItems(h.addArrays(h.subtract(u[2],h.mulItems(u[1],2)),u[0]),6*(1-w)),h.mulItems(h.addArrays(h.subtract(u[3],h.mulItems(u[2],2)),u[1]),6*w))}}H.exports=s,H.exports.fitCubic=t,H.exports.createTangent=x},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationLayer=void 0;var r=t(1),o=t(133),C=t(130),W=t(153),D=t(154);function d($,p,R){return b($,p),R}function b($,p){if($!==p)throw new TypeError("Private static access of wrong provenance")}const c=1e3,x=9,h=new WeakSet;function k($){return{width:$[2]-$[0],height:$[3]-$[1]}}class m{static create(p){switch(p.data.annotationType){case r.AnnotationType.LINK:return new w(p);case r.AnnotationType.TEXT:return new f(p);case r.AnnotationType.WIDGET:switch(p.data.fieldType){case"Tx":return new y(p);case"Btn":return p.data.radioButton?new n(p):p.data.checkBox?new l(p):new a(p);case"Ch":return new v(p)}return new g(p);case r.AnnotationType.POPUP:return new _(p);case r.AnnotationType.FREETEXT:return new V(p);case r.AnnotationType.LINE:return new E(p);case r.AnnotationType.SQUARE:return new ee(p);case r.AnnotationType.CIRCLE:return new K(p);case r.AnnotationType.POLYLINE:return new O(p);case r.AnnotationType.CARET:return new T(p);case r.AnnotationType.INK:return new B(p);case r.AnnotationType.POLYGON:return new L(p);case r.AnnotationType.HIGHLIGHT:return new M(p);case r.AnnotationType.UNDERLINE:return new P(p);case r.AnnotationType.SQUIGGLY:return new Y(p);case r.AnnotationType.STRIKEOUT:return new Z(p);case r.AnnotationType.STAMP:return new J(p);case r.AnnotationType.FILEATTACHMENT:return new _e(p);default:return new u(p)}}}class u{constructor(p){let{isRenderable:R=!1,ignoreBorder:F=!1,createQuadrilaterals:U=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.isRenderable=R,this.data=p.data,this.layer=p.layer,this.page=p.page,this.viewport=p.viewport,this.linkService=p.linkService,this.downloadManager=p.downloadManager,this.imageResourcesPath=p.imageResourcesPath,this.renderForms=p.renderForms,this.svgFactory=p.svgFactory,this.annotationStorage=p.annotationStorage,this.enableScripting=p.enableScripting,this.hasJSActions=p.hasJSActions,this._fieldObjects=p.fieldObjects,this._mouseState=p.mouseState,R&&(this.container=this._createContainer(F)),U&&(this.quadrilaterals=this._createQuadrilaterals(F))}_createContainer(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const R=this.data,F=this.page,U=this.viewport,q=document.createElement("section"),{width:te,height:le}=k(R.rect),[ge,Se,Ae,Pe]=U.viewBox,Ee=Ae-ge,ke=Pe-Se;q.setAttribute("data-annotation-id",R.id);const Be=r.Util.normalizeRect([R.rect[0],F.view[3]-R.rect[1]+F.view[1],R.rect[2],F.view[3]-R.rect[3]+F.view[1]]);if(!p&&R.borderStyle.width>0){q.style.borderWidth=`${R.borderStyle.width}px`;const $e=R.borderStyle.horizontalCornerRadius,qe=R.borderStyle.verticalCornerRadius;if($e>0||qe>0){const Oe=`calc(${$e}px * var(--scale-factor)) / calc(${qe}px * var(--scale-factor))`;q.style.borderRadius=Oe}else if(this instanceof n){const Oe=`calc(${te}px * var(--scale-factor)) / calc(${le}px * var(--scale-factor))`;q.style.borderRadius=Oe}switch(R.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:q.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:q.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:q.style.borderBottomStyle="solid";break;default:break}const We=R.borderColor||null;We?q.style.borderColor=r.Util.makeHexColor(We[0]|0,We[1]|0,We[2]|0):q.style.borderWidth=0}q.style.left=`${100*(Be[0]-ge)/Ee}%`,q.style.top=`${100*(Be[1]-Se)/ke}%`;const{rotation:Ue}=R;return R.hasOwnCanvas||Ue===0?(q.style.width=`${100*te/Ee}%`,q.style.height=`${100*le/ke}%`):this.setRotation(Ue,q),q}setRotation(p){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.container;const[F,U,q,te]=this.viewport.viewBox,le=q-F,ge=te-U,{width:Se,height:Ae}=k(this.data.rect);let Pe,Ee;p%180===0?(Pe=100*Se/le,Ee=100*Ae/ge):(Pe=100*Ae/le,Ee=100*Se/ge),R.style.width=`${Pe}%`,R.style.height=`${Ee}%`,R.setAttribute("data-main-rotation",(360-p)%360)}get _commonActions(){const p=(R,F,U)=>{const q=U.detail[R];U.target.style[F]=W.ColorConverters[`${q[0]}_HTML`](q.slice(1))};return(0,r.shadow)(this,"_commonActions",{display:R=>{const F=R.detail.display%2===1;this.container.style.visibility=F?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:F,print:R.detail.display===0||R.detail.display===3})},print:R=>{this.annotationStorage.setValue(this.data.id,{print:R.detail.print})},hidden:R=>{this.container.style.visibility=R.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:R.detail.hidden})},focus:R=>{setTimeout(()=>R.target.focus({preventScroll:!1}),0)},userName:R=>{R.target.title=R.detail.userName},readonly:R=>{R.detail.readonly?R.target.setAttribute("readonly",""):R.target.removeAttribute("readonly")},required:R=>{this._setRequired(R.target,R.detail.required)},bgColor:R=>{p("bgColor","backgroundColor",R)},fillColor:R=>{p("fillColor","backgroundColor",R)},fgColor:R=>{p("fgColor","color",R)},textColor:R=>{p("textColor","color",R)},borderColor:R=>{p("borderColor","borderColor",R)},strokeColor:R=>{p("strokeColor","borderColor",R)},rotation:R=>{const F=R.detail.rotation;this.setRotation(F),this.annotationStorage.setValue(this.data.id,{rotation:F})}})}_dispatchEventFromSandbox(p,R){const F=this._commonActions;for(const U of Object.keys(R.detail)){const q=p[U]||F[U];q&&q(R)}}_setDefaultPropertiesFromJS(p){if(!this.enableScripting)return;const R=this.annotationStorage.getRawValue(this.data.id);if(!R)return;const F=this._commonActions;for(const[U,q]of Object.entries(R)){const te=F[U];if(te){const le={detail:{[U]:q},target:p};te(le),delete R[U]}}}_createQuadrilaterals(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.data.quadPoints)return null;const R=[],F=this.data.rect;for(const U of this.data.quadPoints)this.data.rect=[U[2].x,U[2].y,U[1].x,U[1].y],R.push(this._createContainer(p));return this.data.rect=F,R}_createPopup(p,R){let F=this.container;this.quadrilaterals&&(p=p||this.quadrilaterals,F=this.quadrilaterals[0]),p||(p=document.createElement("div"),p.className="popupTriggerArea",F.append(p));const q=new I({container:F,trigger:p,color:R.color,titleObj:R.titleObj,modificationDate:R.modificationDate,contentsObj:R.contentsObj,richText:R.richText,hideWrapper:!0}).render();q.style.left="100%",F.append(q)}_renderQuadrilaterals(p){for(const R of this.quadrilaterals)R.className=p;return this.quadrilaterals}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(p){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const F=[];if(this._fieldObjects){const U=this._fieldObjects[p];if(U)for(const{page:q,id:te,exportValues:le}of U){if(q===-1||te===R)continue;const ge=typeof le=="string"?le:null,Se=document.querySelector(`[data-element-id="${te}"]`);if(Se&&!h.has(Se)){(0,r.warn)(`_getElementsByName - element not allowed: ${te}`);continue}F.push({id:te,exportValue:ge,domElement:Se})}return F}for(const U of document.getElementsByName(p)){const{id:q,exportValue:te}=U;q!==R&&h.has(U)&&F.push({id:q,exportValue:te,domElement:U})}return F}static get platform(){const p=typeof navigator!="undefined"?navigator.platform:"";return(0,r.shadow)(this,"platform",{isWin:p.includes("Win"),isMac:p.includes("Mac")})}}class w extends u{constructor(p){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;super(p,{isRenderable:!0,ignoreBorder:!!(R!=null&&R.ignoreBorder),createQuadrilaterals:!0}),this.isTooltipOnly=p.data.isTooltipOnly}render(){const{data:p,linkService:R}=this,F=document.createElement("a");F.setAttribute("data-element-id",p.id);let U=!1;return p.url?(R.addLinkAttributes(F,p.url,p.newWindow),U=!0):p.action?(this._bindNamedAction(F,p.action),U=!0):p.dest?(this._bindLink(F,p.dest),U=!0):(p.actions&&(p.actions.Action||p.actions["Mouse Up"]||p.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(F,p),U=!0),p.resetForm?(this._bindResetFormAction(F,p.resetForm),U=!0):this.isTooltipOnly&&!U&&(this._bindLink(F,""),U=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((q,te)=>{const le=te===0?F:F.cloneNode();return q.append(le),q}):(this.container.className="linkAnnotation",U&&this.container.append(F),this.container)}_bindLink(p,R){p.href=this.linkService.getDestinationHash(R),p.onclick=()=>(R&&this.linkService.goToDestination(R),!1),(R||R==="")&&(p.className="internalLink")}_bindNamedAction(p,R){p.href=this.linkService.getAnchorUrl(""),p.onclick=()=>(this.linkService.executeNamedAction(R),!1),p.className="internalLink"}_bindJSAction(p,R){p.href=this.linkService.getAnchorUrl("");const F=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const U of Object.keys(R.actions)){const q=F.get(U);q&&(p[q]=()=>{var te;return(te=this.linkService.eventBus)===null||te===void 0||te.dispatch("dispatcheventinsandbox",{source:this,detail:{id:R.id,name:U}}),!1})}p.onclick||(p.onclick=()=>!1),p.className="internalLink"}_bindResetFormAction(p,R){const F=p.onclick;if(F||(p.href=this.linkService.getAnchorUrl("")),p.className="internalLink",!this._fieldObjects){(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),F||(p.onclick=()=>!1);return}p.onclick=()=>{F&&F();const{fields:U,refs:q,include:te}=R,le=[];if(U.length!==0||q.length!==0){const Pe=new Set(q);for(const Ee of U){const ke=this._fieldObjects[Ee]||[];for(const{id:Be}of ke)Pe.add(Be)}for(const Ee of Object.values(this._fieldObjects))for(const ke of Ee)Pe.has(ke.id)===te&&le.push(ke)}else for(const Pe of Object.values(this._fieldObjects))le.push(...Pe);const ge=this.annotationStorage,Se=[];for(const Pe of le){const{id:Ee}=Pe;switch(Se.push(Ee),Pe.type){case"text":{const Be=Pe.defaultValue||"";ge.setValue(Ee,{value:Be});break}case"checkbox":case"radiobutton":{const Be=Pe.defaultValue===Pe.exportValues;ge.setValue(Ee,{value:Be});break}case"combobox":case"listbox":{const Be=Pe.defaultValue||"";ge.setValue(Ee,{value:Be});break}default:continue}const ke=document.querySelector(`[data-element-id="${Ee}"]`);if(ke){if(!h.has(ke)){(0,r.warn)(`_bindResetFormAction - element not allowed: ${Ee}`);continue}}else continue;ke.dispatchEvent(new Event("resetform"))}if(this.enableScripting){var Ae;(Ae=this.linkService.eventBus)===null||Ae===void 0||Ae.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Se,name:"ResetForm"}})}return!1}}}class f extends u{constructor(p){var R,F,U;const q=!!(p.data.hasPopup||(R=p.data.titleObj)!==null&&R!==void 0&&R.str||(F=p.data.contentsObj)!==null&&F!==void 0&&F.str||(U=p.data.richText)!==null&&U!==void 0&&U.str);super(p,{isRenderable:q})}render(){this.container.className="textAnnotation";const p=document.createElement("img");return p.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",p.alt="[{{type}} Annotation]",p.dataset.l10nId="text_annotation_type",p.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(p,this.data),this.container.append(p),this.container}}class g extends u{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(p){const{isWin:R,isMac:F}=u.platform;return R&&p.ctrlKey||F&&p.metaKey}_setEventListener(p,R,F,U){R.includes("mouse")?p.addEventListener(R,q=>{var te;(te=this.linkService.eventBus)===null||te===void 0||te.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:F,value:U(q),shift:q.shiftKey,modifier:this._getKeyModifier(q)}})}):p.addEventListener(R,q=>{var te;(te=this.linkService.eventBus)===null||te===void 0||te.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:F,value:U(q)}})})}_setEventListeners(p,R,F){for(const[q,te]of R){var U;(te==="Action"||(U=this.data.actions)!==null&&U!==void 0&&U[te])&&this._setEventListener(p,q,te,F)}}_setBackgroundColor(p){const R=this.data.backgroundColor||null;p.style.backgroundColor=R===null?"transparent":r.Util.makeHexColor(R[0],R[1],R[2])}_setTextStyle(p){const R=["left","center","right"],{fontColor:F}=this.data.defaultAppearanceData,U=this.data.defaultAppearanceData.fontSize||x,q=p.style;let te;if(this.data.multiLine){const le=Math.abs(this.data.rect[3]-this.data.rect[1]),ge=Math.round(le/(r.LINE_FACTOR*U))||1,Se=le/ge;te=Math.min(U,Math.round(Se/r.LINE_FACTOR))}else{const le=Math.abs(this.data.rect[3]-this.data.rect[1]);te=Math.min(U,Math.round(le/r.LINE_FACTOR))}q.fontSize=`calc(${te}px * var(--scale-factor))`,q.color=r.Util.makeHexColor(F[0],F[1],F[2]),this.data.textAlignment!==null&&(q.textAlign=R[this.data.textAlignment])}_setRequired(p,R){R?p.setAttribute("required",!0):p.removeAttribute("required"),p.setAttribute("aria-required",R)}}class y extends g{constructor(p){const R=p.renderForms||!p.data.hasAppearance&&!!p.data.fieldValue;super(p,{isRenderable:R})}setPropertyOnSiblings(p,R,F,U){const q=this.annotationStorage;for(const te of this._getElementsByName(p.name,p.id))te.domElement&&(te.domElement[R]=F),q.setValue(te.id,{[U]:F})}render(){const p=this.annotationStorage,R=this.data.id;this.container.className="textWidgetAnnotation";let F=null;if(this.renderForms){const q=p.getValue(R,{value:this.data.fieldValue});let te=q.formattedValue||q.value||"";const le=p.getValue(R,{charLimit:this.data.maxLen}).charLimit;le&&te.length>le&&(te=te.slice(0,le));const ge={userValue:te,formattedValue:null,valueOnFocus:""};this.data.multiLine?(F=document.createElement("textarea"),F.textContent=te,this.data.doNotScroll&&(F.style.overflowY="hidden")):(F=document.createElement("input"),F.type="text",F.setAttribute("value",te),this.data.doNotScroll&&(F.style.overflowX="hidden")),h.add(F),F.setAttribute("data-element-id",R),F.disabled=this.data.readOnly,F.name=this.data.fieldName,F.tabIndex=c,this._setRequired(F,this.data.required),le&&(F.maxLength=le),F.addEventListener("input",Ae=>{p.setValue(R,{value:Ae.target.value}),this.setPropertyOnSiblings(F,"value",Ae.target.value,"value")}),F.addEventListener("resetform",Ae=>{var Pe;const Ee=(Pe=this.data.defaultFieldValue)!==null&&Pe!==void 0?Pe:"";F.value=ge.userValue=Ee,ge.formattedValue=null});let Se=Ae=>{const{formattedValue:Pe}=ge;Pe!=null&&(Ae.target.value=Pe),Ae.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var U;F.addEventListener("focus",Pe=>{ge.userValue&&(Pe.target.value=ge.userValue),ge.valueOnFocus=Pe.target.value}),F.addEventListener("updatefromsandbox",Pe=>{const Ee={value(ke){var Be;ge.userValue=(Be=ke.detail.value)!==null&&Be!==void 0?Be:"",p.setValue(R,{value:ge.userValue.toString()}),ke.target.value=ge.userValue},formattedValue(ke){const{formattedValue:Be}=ke.detail;ge.formattedValue=Be,Be!=null&&ke.target!==document.activeElement&&(ke.target.value=Be),p.setValue(R,{formattedValue:Be})},selRange(ke){ke.target.setSelectionRange(...ke.detail.selRange)},charLimit:ke=>{var Be;const{charLimit:Ue}=ke.detail,{target:$e}=ke;if(Ue===0){$e.removeAttribute("maxLength");return}$e.setAttribute("maxLength",Ue);let qe=ge.userValue;!qe||qe.length<=Ue||(qe=qe.slice(0,Ue),$e.value=ge.userValue=qe,p.setValue(R,{value:qe}),(Be=this.linkService.eventBus)===null||Be===void 0||Be.dispatch("dispatcheventinsandbox",{source:this,detail:{id:R,name:"Keystroke",value:qe,willCommit:!0,commitKey:1,selStart:$e.selectionStart,selEnd:$e.selectionEnd}}))}};this._dispatchEventFromSandbox(Ee,Pe)}),F.addEventListener("keydown",Pe=>{var Ee;let ke=-1;if(Pe.key==="Escape"?ke=0:Pe.key==="Enter"?ke=2:Pe.key==="Tab"&&(ke=3),ke===-1)return;const{value:Be}=Pe.target;ge.valueOnFocus!==Be&&(ge.userValue=Be,(Ee=this.linkService.eventBus)===null||Ee===void 0||Ee.dispatch("dispatcheventinsandbox",{source:this,detail:{id:R,name:"Keystroke",value:Be,willCommit:!0,commitKey:ke,selStart:Pe.target.selectionStart,selEnd:Pe.target.selectionEnd}}))});const Ae=Se;Se=null,F.addEventListener("blur",Pe=>{const{value:Ee}=Pe.target;if(ge.userValue=Ee,this._mouseState.isDown&&ge.valueOnFocus!==Ee){var ke;(ke=this.linkService.eventBus)===null||ke===void 0||ke.dispatch("dispatcheventinsandbox",{source:this,detail:{id:R,name:"Keystroke",value:Ee,willCommit:!0,commitKey:1,selStart:Pe.target.selectionStart,selEnd:Pe.target.selectionEnd}})}Ae(Pe)}),(U=this.data.actions)!==null&&U!==void 0&&U.Keystroke&&F.addEventListener("beforeinput",Pe=>{var Ee;const{data:ke,target:Be}=Pe,{value:Ue,selectionStart:$e,selectionEnd:qe}=Be;let We=$e,Oe=qe;switch(Pe.inputType){case"deleteWordBackward":{const Ne=Ue.substring(0,$e).match(/\w*[^\w]*$/);Ne&&(We-=Ne[0].length);break}case"deleteWordForward":{const Ne=Ue.substring($e).match(/^[^\w]*\w*/);Ne&&(Oe+=Ne[0].length);break}case"deleteContentBackward":$e===qe&&(We-=1);break;case"deleteContentForward":$e===qe&&(Oe+=1);break}Pe.preventDefault(),(Ee=this.linkService.eventBus)===null||Ee===void 0||Ee.dispatch("dispatcheventinsandbox",{source:this,detail:{id:R,name:"Keystroke",value:Ue,change:ke||"",willCommit:!1,selStart:We,selEnd:Oe}})}),this._setEventListeners(F,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Pe=>Pe.target.value)}if(Se&&F.addEventListener("blur",Se),this.data.comb){const Pe=(this.data.rect[2]-this.data.rect[0])/le;F.classList.add("comb"),F.style.letterSpacing=`calc(${Pe}px * var(--scale-factor) - 1ch)`}}else F=document.createElement("div"),F.textContent=this.data.fieldValue,F.style.verticalAlign="middle",F.style.display="table-cell";return this._setTextStyle(F),this._setBackgroundColor(F),this._setDefaultPropertiesFromJS(F),this.container.append(F),this.container}}class l extends g{constructor(p){super(p,{isRenderable:p.renderForms})}render(){const p=this.annotationStorage,R=this.data,F=R.id;let U=p.getValue(F,{value:R.exportValue===R.fieldValue}).value;typeof U=="string"&&(U=U!=="Off",p.setValue(F,{value:U})),this.container.className="buttonWidgetAnnotation checkBox";const q=document.createElement("input");return h.add(q),q.setAttribute("data-element-id",F),q.disabled=R.readOnly,this._setRequired(q,this.data.required),q.type="checkbox",q.name=R.fieldName,U&&q.setAttribute("checked",!0),q.setAttribute("exportValue",R.exportValue),q.tabIndex=c,q.addEventListener("change",te=>{const{name:le,checked:ge}=te.target;for(const Se of this._getElementsByName(le,F)){const Ae=ge&&Se.exportValue===R.exportValue;Se.domElement&&(Se.domElement.checked=Ae),p.setValue(Se.id,{value:Ae})}p.setValue(F,{value:ge})}),q.addEventListener("resetform",te=>{const le=R.defaultFieldValue||"Off";te.target.checked=le===R.exportValue}),this.enableScripting&&this.hasJSActions&&(q.addEventListener("updatefromsandbox",te=>{const le={value(ge){ge.target.checked=ge.detail.value!=="Off",p.setValue(F,{value:ge.target.checked})}};this._dispatchEventFromSandbox(le,te)}),this._setEventListeners(q,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],te=>te.target.checked)),this._setBackgroundColor(q),this._setDefaultPropertiesFromJS(q),this.container.append(q),this.container}}class n extends g{constructor(p){super(p,{isRenderable:p.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const p=this.annotationStorage,R=this.data,F=R.id;let U=p.getValue(F,{value:R.fieldValue===R.buttonValue}).value;typeof U=="string"&&(U=U!==R.buttonValue,p.setValue(F,{value:U}));const q=document.createElement("input");if(h.add(q),q.setAttribute("data-element-id",F),q.disabled=R.readOnly,this._setRequired(q,this.data.required),q.type="radio",q.name=R.fieldName,U&&q.setAttribute("checked",!0),q.tabIndex=c,q.addEventListener("change",te=>{const{name:le,checked:ge}=te.target;for(const Se of this._getElementsByName(le,F))p.setValue(Se.id,{value:!1});p.setValue(F,{value:ge})}),q.addEventListener("resetform",te=>{const le=R.defaultFieldValue;te.target.checked=le!=null&&le===R.buttonValue}),this.enableScripting&&this.hasJSActions){const te=R.buttonValue;q.addEventListener("updatefromsandbox",le=>{const ge={value:Se=>{const Ae=te===Se.detail.value;for(const Pe of this._getElementsByName(Se.target.name)){const Ee=Ae&&Pe.id===F;Pe.domElement&&(Pe.domElement.checked=Ee),p.setValue(Pe.id,{value:Ee})}}};this._dispatchEventFromSandbox(ge,le)}),this._setEventListeners(q,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],le=>le.target.checked)}return this._setBackgroundColor(q),this._setDefaultPropertiesFromJS(q),this.container.append(q),this.container}}class a extends w{constructor(p){super(p,{ignoreBorder:p.data.hasAppearance})}render(){const p=super.render();p.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(p.title=this.data.alternativeText);const R=p.lastChild;return this.enableScripting&&this.hasJSActions&&R&&(this._setDefaultPropertiesFromJS(R),R.addEventListener("updatefromsandbox",F=>{this._dispatchEventFromSandbox({},F)})),p}}class v extends g{constructor(p){super(p,{isRenderable:p.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const p=this.annotationStorage,R=this.data.id,F=p.getValue(R,{value:this.data.fieldValue}),U=document.createElement("select");h.add(U),U.setAttribute("data-element-id",R),U.disabled=this.data.readOnly,this._setRequired(U,this.data.required),U.name=this.data.fieldName,U.tabIndex=c;let q=this.data.combo&&this.data.options.length>0;this.data.combo||(U.size=this.data.options.length,this.data.multiSelect&&(U.multiple=!0)),U.addEventListener("resetform",Se=>{const Ae=this.data.defaultFieldValue;for(const Pe of U.options)Pe.selected=Pe.value===Ae});for(const Se of this.data.options){const Ae=document.createElement("option");Ae.textContent=Se.displayValue,Ae.value=Se.exportValue,F.value.includes(Se.exportValue)&&(Ae.setAttribute("selected",!0),q=!1),U.append(Ae)}let te=null;if(q){const Se=document.createElement("option");Se.value=" ",Se.setAttribute("hidden",!0),Se.setAttribute("selected",!0),U.prepend(Se),te=()=>{Se.remove(),U.removeEventListener("input",te),te=null},U.addEventListener("input",te)}const le=(Se,Ae)=>{const Pe=Ae?"value":"textContent",Ee=Se.target.options;return Se.target.multiple?Array.prototype.filter.call(Ee,ke=>ke.selected).map(ke=>ke[Pe]):Ee.selectedIndex===-1?null:Ee[Ee.selectedIndex][Pe]},ge=Se=>{const Ae=Se.target.options;return Array.prototype.map.call(Ae,Pe=>({displayValue:Pe.textContent,exportValue:Pe.value}))};return this.enableScripting&&this.hasJSActions?(U.addEventListener("updatefromsandbox",Se=>{const Ae={value(Pe){var Ee;(Ee=te)===null||Ee===void 0||Ee();const ke=Pe.detail.value,Be=new Set(Array.isArray(ke)?ke:[ke]);for(const Ue of U.options)Ue.selected=Be.has(Ue.value);p.setValue(R,{value:le(Pe,!0)})},multipleSelection(Pe){U.multiple=!0},remove(Pe){const Ee=U.options,ke=Pe.detail.remove;Ee[ke].selected=!1,U.remove(ke),Ee.length>0&&Array.prototype.findIndex.call(Ee,Ue=>Ue.selected)===-1&&(Ee[0].selected=!0),p.setValue(R,{value:le(Pe,!0),items:ge(Pe)})},clear(Pe){for(;U.length!==0;)U.remove(0);p.setValue(R,{value:null,items:[]})},insert(Pe){const{index:Ee,displayValue:ke,exportValue:Be}=Pe.detail.insert,Ue=U.children[Ee],$e=document.createElement("option");$e.textContent=ke,$e.value=Be,Ue?Ue.before($e):U.append($e),p.setValue(R,{value:le(Pe,!0),items:ge(Pe)})},items(Pe){const{items:Ee}=Pe.detail;for(;U.length!==0;)U.remove(0);for(const ke of Ee){const{displayValue:Be,exportValue:Ue}=ke,$e=document.createElement("option");$e.textContent=Be,$e.value=Ue,U.append($e)}U.options.length>0&&(U.options[0].selected=!0),p.setValue(R,{value:le(Pe,!0),items:ge(Pe)})},indices(Pe){const Ee=new Set(Pe.detail.indices);for(const ke of Pe.target.options)ke.selected=Ee.has(ke.index);p.setValue(R,{value:le(Pe,!0)})},editable(Pe){Pe.target.disabled=!Pe.detail.editable}};this._dispatchEventFromSandbox(Ae,Se)}),U.addEventListener("input",Se=>{var Ae;const Pe=le(Se,!0),Ee=le(Se,!1);p.setValue(R,{value:Pe}),(Ae=this.linkService.eventBus)===null||Ae===void 0||Ae.dispatch("dispatcheventinsandbox",{source:this,detail:{id:R,name:"Keystroke",value:Ee,changeEx:Pe,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(U,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],Se=>Se.target.checked)):U.addEventListener("input",function(Se){p.setValue(R,{value:le(Se,!0)})}),this.data.combo&&this._setTextStyle(U),this._setBackgroundColor(U),this._setDefaultPropertiesFromJS(U),this.container.append(U),this.container}}class _ extends u{constructor(p){var R,F,U;const q=!!((R=p.data.titleObj)!==null&&R!==void 0&&R.str||(F=p.data.contentsObj)!==null&&F!==void 0&&F.str||(U=p.data.richText)!==null&&U!==void 0&&U.str);super(p,{isRenderable:q})}render(){const p=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",p.includes(this.data.parentType))return this.container;const R=`[data-annotation-id="${this.data.parentId}"]`,F=this.layer.querySelectorAll(R);if(F.length===0)return this.container;const U=new I({container:this.container,trigger:Array.from(F),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),q=this.page,te=r.Util.normalizeRect([this.data.parentRect[0],q.view[3]-this.data.parentRect[1]+q.view[1],this.data.parentRect[2],q.view[3]-this.data.parentRect[3]+q.view[1]]),le=te[0]+this.data.parentRect[2]-this.data.parentRect[0],ge=te[1],[Se,Ae,Pe,Ee]=this.viewport.viewBox,ke=Pe-Se,Be=Ee-Ae;return this.container.style.left=`${100*(le-Se)/ke}%`,this.container.style.top=`${100*(ge-Ae)/Be}%`,this.container.append(U.render()),this.container}}class I{constructor(p){this.container=p.container,this.trigger=p.trigger,this.color=p.color,this.titleObj=p.titleObj,this.modificationDate=p.modificationDate,this.contentsObj=p.contentsObj,this.richText=p.richText,this.hideWrapper=p.hideWrapper||!1,this.pinned=!1}render(){var p,R;const U=document.createElement("div");U.className="popupWrapper",this.hideElement=this.hideWrapper?U:this.container,this.hideElement.hidden=!0;const q=document.createElement("div");q.className="popup";const te=this.color;if(te){const Se=.7*(255-te[0])+te[0],Ae=.7*(255-te[1])+te[1],Pe=.7*(255-te[2])+te[2];q.style.backgroundColor=r.Util.makeHexColor(Se|0,Ae|0,Pe|0)}const le=document.createElement("h1");le.dir=this.titleObj.dir,le.textContent=this.titleObj.str,q.append(le);const ge=o.PDFDateString.toDateObject(this.modificationDate);if(ge){const Se=document.createElement("span");Se.className="popupDate",Se.textContent="{{date}}, {{time}}",Se.dataset.l10nId="annotation_date_string",Se.dataset.l10nArgs=JSON.stringify({date:ge.toLocaleDateString(),time:ge.toLocaleTimeString()}),q.append(Se)}if((p=this.richText)!==null&&p!==void 0&&p.str&&(!((R=this.contentsObj)!==null&&R!==void 0&&R.str)||this.contentsObj.str===this.richText.str))D.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:q}),q.lastChild.className="richText popupContent";else{const Se=this._formatContents(this.contentsObj);q.append(Se)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Se of this.trigger)Se.addEventListener("click",this._toggle.bind(this)),Se.addEventListener("mouseover",this._show.bind(this,!1)),Se.addEventListener("mouseout",this._hide.bind(this,!1));return q.addEventListener("click",this._hide.bind(this,!0)),U.append(q),U}_formatContents(p){let{str:R,dir:F}=p;const U=document.createElement("p");U.className="popupContent",U.dir=F;const q=R.split(/(?:\r\n?|\n)/);for(let te=0,le=q.length;te<le;++te){const ge=q[te];U.append(document.createTextNode(ge)),te<le-1&&U.append(document.createElement("br"))}return U}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class V extends u{constructor(p){var R,F,U;const q=!!(p.data.hasPopup||(R=p.data.titleObj)!==null&&R!==void 0&&R.str||(F=p.data.contentsObj)!==null&&F!==void 0&&F.str||(U=p.data.richText)!==null&&U!==void 0&&U.str);super(p,{isRenderable:q,ignoreBorder:!0}),this.textContent=p.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const p=document.createElement("div");p.className="annotationTextContent",p.setAttribute("role","comment");for(const R of this.textContent){const F=document.createElement("span");F.textContent=R,p.append(F)}this.container.append(p)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class E extends u{constructor(p){var R,F,U;const q=!!(p.data.hasPopup||(R=p.data.titleObj)!==null&&R!==void 0&&R.str||(F=p.data.contentsObj)!==null&&F!==void 0&&F.str||(U=p.data.richText)!==null&&U!==void 0&&U.str);super(p,{isRenderable:q,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const p=this.data,{width:R,height:F}=k(p.rect),U=this.svgFactory.create(R,F,!0),q=this.svgFactory.createElement("svg:line");return q.setAttribute("x1",p.rect[2]-p.lineCoordinates[0]),q.setAttribute("y1",p.rect[3]-p.lineCoordinates[1]),q.setAttribute("x2",p.rect[2]-p.lineCoordinates[2]),q.setAttribute("y2",p.rect[3]-p.lineCoordinates[3]),q.setAttribute("stroke-width",p.borderStyle.width||1),q.setAttribute("stroke","transparent"),q.setAttribute("fill","transparent"),U.append(q),this.container.append(U),this._createPopup(q,p),this.container}}class ee extends u{constructor(p){var R,F,U;const q=!!(p.data.hasPopup||(R=p.data.titleObj)!==null&&R!==void 0&&R.str||(F=p.data.contentsObj)!==null&&F!==void 0&&F.str||(U=p.data.richText)!==null&&U!==void 0&&U.str);super(p,{isRenderable:q,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const p=this.data,{width:R,height:F}=k(p.rect),U=this.svgFactory.create(R,F,!0),q=p.borderStyle.width,te=this.svgFactory.createElement("svg:rect");return te.setAttribute("x",q/2),te.setAttribute("y",q/2),te.setAttribute("width",R-q),te.setAttribute("height",F-q),te.setAttribute("stroke-width",q||1),te.setAttribute("stroke","transparent"),te.setAttribute("fill","transparent"),U.append(te),this.container.append(U),this._createPopup(te,p),this.container}}class K extends u{constructor(p){var R,F,U;const q=!!(p.data.hasPopup||(R=p.data.titleObj)!==null&&R!==void 0&&R.str||(F=p.data.contentsObj)!==null&&F!==void 0&&F.str||(U=p.data.richText)!==null&&U!==void 0&&U.str);super(p,{isRenderable:q,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const p=this.data,{width:R,height:F}=k(p.rect),U=this.svgFactory.create(R,F,!0),q=p.borderStyle.width,te=this.svgFactory.createElement("svg:ellipse");return te.setAttribute("cx",R/2),te.setAttribute("cy",F/2),te.setAttribute("rx",R/2-q/2),te.setAttribute("ry",F/2-q/2),te.setAttribute("stroke-width",q||1),te.setAttribute("stroke","transparent"),te.setAttribute("fill","transparent"),U.append(te),this.container.append(U),this._createPopup(te,p),this.container}}class O extends u{constructor(p){var R,F,U;const q=!!(p.data.hasPopup||(R=p.data.titleObj)!==null&&R!==void 0&&R.str||(F=p.data.contentsObj)!==null&&F!==void 0&&F.str||(U=p.data.richText)!==null&&U!==void 0&&U.str);super(p,{isRenderable:q,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const p=this.data,{width:R,height:F}=k(p.rect),U=this.svgFactory.create(R,F,!0);let q=[];for(const le of p.vertices){const ge=le.x-p.rect[0],Se=p.rect[3]-le.y;q.push(ge+","+Se)}q=q.join(" ");const te=this.svgFactory.createElement(this.svgElementName);return te.setAttribute("points",q),te.setAttribute("stroke-width",p.borderStyle.width||1),te.setAttribute("stroke","transparent"),te.setAttribute("fill","transparent"),U.append(te),this.container.append(U),this._createPopup(te,p),this.container}}class L extends O{constructor(p){super(p),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class T extends u{constructor(p){var R,F,U;const q=!!(p.data.hasPopup||(R=p.data.titleObj)!==null&&R!==void 0&&R.str||(F=p.data.contentsObj)!==null&&F!==void 0&&F.str||(U=p.data.richText)!==null&&U!==void 0&&U.str);super(p,{isRenderable:q,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class B extends u{constructor(p){var R,F,U;const q=!!(p.data.hasPopup||(R=p.data.titleObj)!==null&&R!==void 0&&R.str||(F=p.data.contentsObj)!==null&&F!==void 0&&F.str||(U=p.data.richText)!==null&&U!==void 0&&U.str);super(p,{isRenderable:q,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const p=this.data,{width:R,height:F}=k(p.rect),U=this.svgFactory.create(R,F,!0);for(const q of p.inkLists){let te=[];for(const ge of q){const Se=ge.x-p.rect[0],Ae=p.rect[3]-ge.y;te.push(`${Se},${Ae}`)}te=te.join(" ");const le=this.svgFactory.createElement(this.svgElementName);le.setAttribute("points",te),le.setAttribute("stroke-width",p.borderStyle.width||1),le.setAttribute("stroke","transparent"),le.setAttribute("fill","transparent"),this._createPopup(le,p),U.append(le)}return this.container.append(U),this.container}}class M extends u{constructor(p){var R,F,U;const q=!!(p.data.hasPopup||(R=p.data.titleObj)!==null&&R!==void 0&&R.str||(F=p.data.contentsObj)!==null&&F!==void 0&&F.str||(U=p.data.richText)!==null&&U!==void 0&&U.str);super(p,{isRenderable:q,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class P extends u{constructor(p){var R,F,U;const q=!!(p.data.hasPopup||(R=p.data.titleObj)!==null&&R!==void 0&&R.str||(F=p.data.contentsObj)!==null&&F!==void 0&&F.str||(U=p.data.richText)!==null&&U!==void 0&&U.str);super(p,{isRenderable:q,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Y extends u{constructor(p){var R,F,U;const q=!!(p.data.hasPopup||(R=p.data.titleObj)!==null&&R!==void 0&&R.str||(F=p.data.contentsObj)!==null&&F!==void 0&&F.str||(U=p.data.richText)!==null&&U!==void 0&&U.str);super(p,{isRenderable:q,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Z extends u{constructor(p){var R,F,U;const q=!!(p.data.hasPopup||(R=p.data.titleObj)!==null&&R!==void 0&&R.str||(F=p.data.contentsObj)!==null&&F!==void 0&&F.str||(U=p.data.richText)!==null&&U!==void 0&&U.str);super(p,{isRenderable:q,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class J extends u{constructor(p){var R,F,U;const q=!!(p.data.hasPopup||(R=p.data.titleObj)!==null&&R!==void 0&&R.str||(F=p.data.contentsObj)!==null&&F!==void 0&&F.str||(U=p.data.richText)!==null&&U!==void 0&&U.str);super(p,{isRenderable:q,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class _e extends u{constructor(p){var R;super(p,{isRenderable:!0});const{filename:F,content:U}=this.data.file;this.filename=(0,o.getFilenameFromUrl)(F),this.content=U,(R=this.linkService.eventBus)===null||R===void 0||R.dispatch("fileattachmentannotation",{source:this,filename:F,content:U})}render(){var p,R;this.container.className="fileAttachmentAnnotation";const F=document.createElement("div");return F.className="popupTriggerArea",F.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((p=this.data.titleObj)!==null&&p!==void 0&&p.str||(R=this.data.contentsObj)!==null&&R!==void 0&&R.str||this.data.richText)&&this._createPopup(F,this.data),this.container.append(F),this.container}_download(){var p;(p=this.downloadManager)===null||p===void 0||p.openOrDownloadData(this.container,this.content,this.filename)}}class z{static render(p){const{annotations:R,div:F,viewport:U,accessibilityManager:q}=p;d(this,z,A).call(this,F,U);let te=0;for(const le of R){if(le.annotationType!==r.AnnotationType.POPUP){const{width:Se,height:Ae}=k(le.rect);if(Se<=0||Ae<=0)continue}const ge=m.create({data:le,layer:F,page:p.page,viewport:U,linkService:p.linkService,downloadManager:p.downloadManager,imageResourcesPath:p.imageResourcesPath||"",renderForms:p.renderForms!==!1,svgFactory:new o.DOMSVGFactory,annotationStorage:p.annotationStorage||new C.AnnotationStorage,enableScripting:p.enableScripting,hasJSActions:p.hasJSActions,fieldObjects:p.fieldObjects,mouseState:p.mouseState||{isDown:!1}});if(ge.isRenderable){const Se=ge.render();if(le.hidden&&(Se.style.visibility="hidden"),Array.isArray(Se))for(const Ae of Se)Ae.style.zIndex=te++,d(z,z,S).call(z,Ae,le.id,F,q);else Se.style.zIndex=te++,ge instanceof _?F.prepend(Se):d(z,z,S).call(z,Se,le.id,F,q)}}d(this,z,j).call(this,F,p.annotationCanvasMap)}static update(p){const{annotationCanvasMap:R,div:F,viewport:U}=p;d(this,z,A).call(this,F,U),d(this,z,j).call(this,F,R),F.hidden=!1}}s.AnnotationLayer=z;function S($,p,R,F){const U=$.firstChild||$;U.id=`${o.AnnotationPrefix}${p}`,R.append($),F==null||F.moveElementInDOM(R,$,U,!1)}function A($,p){let{width:R,height:F,rotation:U}=p;const{style:q}=$,te=U%180!==0,le=Math.floor(R)+"px",ge=Math.floor(F)+"px";q.width=te?ge:le,q.height=te?le:ge,$.setAttribute("data-main-rotation",U)}function j($,p){if(p){for(const[R,F]of p){const U=$.querySelector(`[data-annotation-id="${R}"]`);if(!U)continue;const{firstChild:q}=U;q?q.nodeName==="CANVAS"?q.replaceWith(F):q.before(F):U.append(F)}p.clear()}}},(H,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.ColorConverters=void 0;function t(o){return Math.floor(Math.max(0,Math.min(1,o))*255).toString(16).padStart(2,"0")}class r{static CMYK_G(C){let[W,D,d,b]=C;return["G",1-Math.min(1,.3*W+.59*d+.11*D+b)]}static G_CMYK(C){let[W]=C;return["CMYK",0,0,0,1-W]}static G_RGB(C){let[W]=C;return["RGB",W,W,W]}static G_HTML(C){let[W]=C;const D=t(W);return`#${D}${D}${D}`}static RGB_G(C){let[W,D,d]=C;return["G",.3*W+.59*D+.11*d]}static RGB_HTML(C){let[W,D,d]=C;const b=t(W),c=t(D),x=t(d);return`#${b}${c}${x}`}static T_HTML(){return"#00000000"}static CMYK_RGB(C){let[W,D,d,b]=C;return["RGB",1-Math.min(1,W+b),1-Math.min(1,d+b),1-Math.min(1,D+b)]}static CMYK_HTML(C){const W=this.CMYK_RGB(C).slice(1);return this.RGB_HTML(W)}static RGB_CMYK(C){let[W,D,d]=C;const b=1-W,c=1-D,x=1-d,h=Math.min(b,c,x);return["CMYK",b,c,x,h]}}s.ColorConverters=r},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayer=void 0;var r=t(145);class o{static setupStorage(W,D,d,b,c){const x=b.getValue(D,{value:null});switch(d.name){case"textarea":if(x.value!==null&&(W.textContent=x.value),c==="print")break;W.addEventListener("input",h=>{b.setValue(D,{value:h.target.value})});break;case"input":if(d.attributes.type==="radio"||d.attributes.type==="checkbox"){if(x.value===d.attributes.xfaOn?W.setAttribute("checked",!0):x.value===d.attributes.xfaOff&&W.removeAttribute("checked"),c==="print")break;W.addEventListener("change",h=>{b.setValue(D,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(x.value!==null&&W.setAttribute("value",x.value),c==="print")break;W.addEventListener("input",h=>{b.setValue(D,{value:h.target.value})})}break;case"select":if(x.value!==null)for(const h of d.children)h.attributes.value===x.value&&(h.attributes.selected=!0);W.addEventListener("input",h=>{const k=h.target.options,m=k.selectedIndex===-1?"":k[k.selectedIndex].value;b.setValue(D,{value:m})});break}}static setAttributes(W){let{html:D,element:d,storage:b=null,intent:c,linkService:x}=W;const{attributes:h}=d,k=D instanceof HTMLAnchorElement;h.type==="radio"&&(h.name=`${h.name}-${c}`);for(const[m,u]of Object.entries(h))if(u!=null)switch(m){case"class":u.length&&D.setAttribute(m,u.join(" "));break;case"dataId":break;case"id":D.setAttribute("data-element-id",u);break;case"style":Object.assign(D.style,u);break;case"textContent":D.textContent=u;break;default:(!k||m!=="href"&&m!=="newWindow")&&D.setAttribute(m,u)}k&&x.addLinkAttributes(D,h.href,h.newWindow),b&&h.dataId&&this.setupStorage(D,h.dataId,d,b)}static render(W){const D=W.annotationStorage,d=W.linkService,b=W.xfaHtml,c=W.intent||"display",x=document.createElement(b.name);b.attributes&&this.setAttributes({html:x,element:b,intent:c,linkService:d});const h=[[b,-1,x]],k=W.div;if(k.append(x),W.viewport){const w=`matrix(${W.viewport.transform.join(",")})`;k.style.transform=w}c!=="richText"&&k.setAttribute("class","xfaLayer xfaFont");const m=[];for(;h.length>0;){var u;const[w,f,g]=h.at(-1);if(f+1===w.children.length){h.pop();continue}const y=w.children[++h.at(-1)[1]];if(y===null)continue;const{name:l}=y;if(l==="#text"){const a=document.createTextNode(y.value);m.push(a),g.append(a);continue}let n;if(y!=null&&(u=y.attributes)!==null&&u!==void 0&&u.xmlns?n=document.createElementNS(y.attributes.xmlns,l):n=document.createElement(l),g.append(n),y.attributes&&this.setAttributes({html:n,element:y,storage:D,intent:c,linkService:d}),y.children&&y.children.length>0)h.push([y,-1,n]);else if(y.value){const a=document.createTextNode(y.value);r.XfaText.shouldBuildText(l)&&m.push(a),n.append(a)}}for(const w of k.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))w.setAttribute("readOnly",!0);return{textDivs:m}}static update(W){const D=`matrix(${W.viewport.transform.join(",")})`;W.div.style.transform=D,W.div.hidden=!1}}s.XfaLayer=o},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerRenderTask=void 0,s.renderTextLayer=g;var r=t(1),o=t(133);const C=1e5,W=30,D=.8,d=new Map,b=/^\s+$/g;function c(y,l){const n=d.get(y);if(n)return n;l.save(),l.font=`${W}px ${y}`;const a=l.measureText("");let v=a.fontBoundingBoxAscent,_=Math.abs(a.fontBoundingBoxDescent);if(v){l.restore();const V=v/(v+_);return d.set(y,V),V}l.strokeStyle="red",l.clearRect(0,0,W,W),l.strokeText("g",0,0);let I=l.getImageData(0,0,W,W).data;_=0;for(let V=I.length-1-3;V>=0;V-=4)if(I[V]>0){_=Math.ceil(V/4/W);break}l.clearRect(0,0,W,W),l.strokeText("A",0,W),I=l.getImageData(0,0,W,W).data,v=0;for(let V=0,E=I.length;V<E;V+=4)if(I[V]>0){v=W-Math.floor(V/4/W);break}if(l.restore(),v){const V=v/(v+_);return d.set(y,V),V}return d.set(y,D),D}function x(y,l,n,a){const v=document.createElement("span"),_=y._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:l.str!=="",hasEOL:l.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:l.str!=="",hasEOL:l.hasEOL,fontSize:0};y._textDivs.push(v);const I=r.Util.transform(y._viewport.transform,l.transform);let V=Math.atan2(I[1],I[0]);const E=n[l.fontName];E.vertical&&(V+=Math.PI/2);const ee=Math.hypot(I[2],I[3]),K=ee*c(E.fontFamily,a);let O,L;V===0?(O=I[4],L=I[5]-K):(O=I[4]+K*Math.sin(V),L=I[5]-K*Math.cos(V)),v.style.left=`${O}px`,v.style.top=`${L}px`,v.style.fontSize=`${ee}px`,v.style.fontFamily=E.fontFamily,_.fontSize=ee,v.setAttribute("role","presentation"),v.textContent=l.str,v.dir=l.dir,y._fontInspectorEnabled&&(v.dataset.fontName=l.fontName),V!==0&&(_.angle=V*(180/Math.PI));let T=!1;if(l.str.length>1||y._enhanceTextSelection&&b.test(l.str))T=!0;else if(l.str!==" "&&l.transform[0]!==l.transform[3]){const B=Math.abs(l.transform[0]),M=Math.abs(l.transform[3]);B!==M&&Math.max(B,M)/Math.min(B,M)>1.5&&(T=!0)}if(T&&(E.vertical?_.canvasWidth=l.height*y._viewport.scale:_.canvasWidth=l.width*y._viewport.scale),y._textDivProperties.set(v,_),y._textContentStream&&y._layoutText(v),y._enhanceTextSelection&&_.hasText){let B=1,M=0;V!==0&&(B=Math.cos(V),M=Math.sin(V));const P=(E.vertical?l.height:l.width)*y._viewport.scale,Y=ee;let Z,J;V!==0?(Z=[B,M,-M,B,O,L],J=r.Util.getAxialAlignedBoundingBox([0,0,P,Y],Z)):J=[O,L,O+P,L+Y],y._bounds.push({left:J[0],top:J[1],right:J[2],bottom:J[3],div:v,size:[P,Y],m:Z})}}function h(y){if(y._canceled)return;const l=y._textDivs,n=y._capability,a=l.length;if(a>C){y._renderingDone=!0,n.resolve();return}if(!y._textContentStream)for(let v=0;v<a;v++)y._layoutText(l[v]);y._renderingDone=!0,n.resolve()}function k(y,l,n){let a=0;for(let v=0;v<n;v++){const _=y[l++];_>0&&(a=a?Math.min(_,a):_)}return a}function m(y){const l=y._bounds,n=y._viewport,a=u(n.width,n.height,l);for(let v=0;v<a.length;v++){const _=l[v].div,I=y._textDivProperties.get(_);if(I.angle===0){I.paddingLeft=l[v].left-a[v].left,I.paddingTop=l[v].top-a[v].top,I.paddingRight=a[v].right-l[v].right,I.paddingBottom=a[v].bottom-l[v].bottom,y._textDivProperties.set(_,I);continue}const V=a[v],E=l[v],ee=E.m,K=ee[0],O=ee[1],L=[[0,0],[0,E.size[1]],[E.size[0],0],E.size],T=new Float64Array(64);for(let M=0,P=L.length;M<P;M++){const Y=r.Util.applyTransform(L[M],ee);T[M+0]=K&&(V.left-Y[0])/K,T[M+4]=O&&(V.top-Y[1])/O,T[M+8]=K&&(V.right-Y[0])/K,T[M+12]=O&&(V.bottom-Y[1])/O,T[M+16]=O&&(V.left-Y[0])/-O,T[M+20]=K&&(V.top-Y[1])/K,T[M+24]=O&&(V.right-Y[0])/-O,T[M+28]=K&&(V.bottom-Y[1])/K,T[M+32]=K&&(V.left-Y[0])/-K,T[M+36]=O&&(V.top-Y[1])/-O,T[M+40]=K&&(V.right-Y[0])/-K,T[M+44]=O&&(V.bottom-Y[1])/-O,T[M+48]=O&&(V.left-Y[0])/O,T[M+52]=K&&(V.top-Y[1])/-K,T[M+56]=O&&(V.right-Y[0])/O,T[M+60]=K&&(V.bottom-Y[1])/-K}const B=1+Math.min(Math.abs(K),Math.abs(O));I.paddingLeft=k(T,32,16)/B,I.paddingTop=k(T,48,16)/B,I.paddingRight=k(T,0,16)/B,I.paddingBottom=k(T,16,16)/B,y._textDivProperties.set(_,I)}}function u(y,l,n){const a=n.map(function(_,I){return{x1:_.left,y1:_.top,x2:_.right,y2:_.bottom,index:I,x1New:void 0,x2New:void 0}});w(y,a);const v=new Array(n.length);for(const _ of a){const I=_.index;v[I]={left:_.x1New,top:0,right:_.x2New,bottom:0}}n.map(function(_,I){const V=v[I],E=a[I];E.x1=_.top,E.y1=y-V.right,E.x2=_.bottom,E.y2=y-V.left,E.index=I,E.x1New=void 0,E.x2New=void 0}),w(l,a);for(const _ of a){const I=_.index;v[I].top=_.x1New,v[I].bottom=_.x2New}return v}function w(y,l){l.sort(function(v,_){return v.x1-_.x1||v.index-_.index});const a=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const v of l){let _=0;for(;_<a.length&&a[_].end<=v.y1;)_++;let I=a.length-1;for(;I>=0&&a[I].start>=v.y2;)I--;let V,E,ee,K,O=-1/0;for(ee=_;ee<=I;ee++){V=a[ee],E=V.boundary;let B;E.x2>v.x1?B=E.index>v.index?E.x1New:v.x1:E.x2New===void 0?B=(E.x2+v.x1)/2:B=E.x2New,B>O&&(O=B)}for(v.x1New=O,ee=_;ee<=I;ee++)V=a[ee],E=V.boundary,E.x2New===void 0?E.x2>v.x1?E.index>v.index&&(E.x2New=E.x2):E.x2New=O:E.x2New>O&&(E.x2New=Math.max(O,E.x2));const L=[];let T=null;for(ee=_;ee<=I;ee++){V=a[ee],E=V.boundary;const B=E.x2>v.x2?E:v;T===B?L.at(-1).end=V.end:(L.push({start:V.start,end:V.end,boundary:B}),T=B)}for(a[_].start<v.y1&&(L[0].start=v.y1,L.unshift({start:a[_].start,end:v.y1,boundary:a[_].boundary})),v.y2<a[I].end&&(L.at(-1).end=v.y2,L.push({start:v.y2,end:a[I].end,boundary:a[I].boundary})),ee=_;ee<=I;ee++){if(V=a[ee],E=V.boundary,E.x2New!==void 0)continue;let B=!1;for(K=_-1;!B&&K>=0&&a[K].start>=E.y1;K--)B=a[K].boundary===E;for(K=I+1;!B&&K<a.length&&a[K].end<=E.y2;K++)B=a[K].boundary===E;for(K=0;!B&&K<L.length;K++)B=L[K].boundary===E;B||(E.x2New=O)}Array.prototype.splice.apply(a,[_,I-_+1,...L])}for(const v of a){const _=v.boundary;_.x2New===void 0&&(_.x2New=Math.max(y,_.x2))}}class f{constructor(l){var n;let{textContent:a,textContentStream:v,container:_,viewport:I,textDivs:V,textContentItemsStr:E,enhanceTextSelection:ee}=l;ee&&(0,o.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=a,this._textContentStream=v,this._container=_,this._document=_.ownerDocument,this._viewport=I,this._textDivs=V||[],this._textContentItemsStr=E||[],this._enhanceTextSelection=!!ee,this._fontInspectorEnabled=!!((n=globalThis.FontInspector)!==null&&n!==void 0&&n.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(l,n){for(let a=0,v=l.length;a<v;a++){if(l[a].str===void 0){if(l[a].type==="beginMarkedContentProps"||l[a].type==="beginMarkedContent"){const _=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),l[a].id!==null&&this._container.setAttribute("id",`${l[a].id}`),_.append(this._container)}else l[a].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(l[a].str),x(this,l[a],n,this._layoutTextCtx)}}_layoutText(l){const n=this._textDivProperties.get(l);let a="";if(n.canvasWidth!==0&&n.hasText){const{fontFamily:v}=l.style,{fontSize:_}=n;(_!==this._layoutTextLastFontSize||v!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${_*this._devicePixelRatio}px ${v}`,this._layoutTextLastFontSize=_,this._layoutTextLastFontFamily=v);const{width:I}=this._layoutTextCtx.measureText(l.textContent);if(I>0){const V=this._devicePixelRatio*n.canvasWidth/I;this._enhanceTextSelection&&(n.scale=V),a=`scaleX(${V})`}}if(n.angle!==0&&(a=`rotate(${n.angle}deg) ${a}`),a.length>0&&(this._enhanceTextSelection&&(n.originalTransform=a),l.style.transform=a),n.hasText&&this._container.append(l),n.hasEOL){const v=document.createElement("br");v.setAttribute("role","presentation"),this._container.append(v)}}_render(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const n=(0,r.createPromiseCapability)();let a=Object.create(null);const v=this._document.createElement("canvas");if(v.height=v.width=W,this._layoutTextCtx=v.getContext("2d",{alpha:!1}),this._textContent){const _=this._textContent.items,I=this._textContent.styles;this._processItems(_,I),n.resolve()}else if(this._textContentStream){const _=()=>{this._reader.read().then(I=>{let{value:V,done:E}=I;if(E){n.resolve();return}Object.assign(a,V.styles),this._processItems(V.items,a),_()},n.reject)};this._reader=this._textContentStream.getReader(),_()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');n.promise.then(()=>{a=null,l?this._renderTimer=setTimeout(()=>{h(this),this._renderTimer=null},l):h(this)},this._capability.reject)}expandTextDivs(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(m(this),this._bounds=null);const n=[],a=[];for(let v=0,_=this._textDivs.length;v<_;v++){const I=this._textDivs[v],V=this._textDivProperties.get(I);V.hasText&&(l?(n.length=0,a.length=0,V.originalTransform&&n.push(V.originalTransform),V.paddingTop>0?(a.push(`${V.paddingTop}px`),n.push(`translateY(${-V.paddingTop}px)`)):a.push(0),V.paddingRight>0?a.push(`${V.paddingRight/V.scale}px`):a.push(0),V.paddingBottom>0?a.push(`${V.paddingBottom}px`):a.push(0),V.paddingLeft>0?(a.push(`${V.paddingLeft/V.scale}px`),n.push(`translateX(${-V.paddingLeft/V.scale}px)`)):a.push(0),I.style.padding=a.join(" "),n.length&&(I.style.transform=n.join(" "))):(I.style.padding=null,I.style.transform=V.originalTransform))}}}s.TextLayerRenderTask=f;function g(y){const l=new f({textContent:y.textContent,textContentStream:y.textContentStream,container:y.container,viewport:y.viewport,textDivs:y.textDivs,textContentItemsStr:y.textContentItemsStr,enhanceTextSelection:y.enhanceTextSelection});return l._render(y.timeout),l}},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.SVGGraphics=void 0;var r=t(133),o=t(1),C=t(3);let W=class{constructor(){(0,o.unreachable)("Not implemented: SVGGraphics")}};s.SVGGraphics=W;{let u=function(n){let a=[];const v=[];for(const _ of n){if(_.fn==="save"){a.push({fnId:92,fn:"group",items:[]}),v.push(a),a=a.at(-1).items;continue}_.fn==="restore"?a=v.pop():a.push(_)}return a},w=function(n){if(Number.isInteger(n))return n.toString();const a=n.toFixed(10);let v=a.length-1;if(a[v]!=="0")return a;do v--;while(a[v]==="0");return a.substring(0,a[v]==="."?v:v+1)},f=function(n){if(n[4]===0&&n[5]===0){if(n[1]===0&&n[2]===0)return n[0]===1&&n[3]===1?"":`scale(${w(n[0])} ${w(n[3])})`;if(n[0]===n[3]&&n[1]===-n[2]){const a=Math.acos(n[0])*180/Math.PI;return`rotate(${w(a)})`}}else if(n[0]===1&&n[1]===0&&n[2]===0&&n[3]===1)return`translate(${w(n[4])} ${w(n[5])})`;return`matrix(${w(n[0])} ${w(n[1])} ${w(n[2])} ${w(n[3])} ${w(n[4])} ${w(n[5])})`};const D={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},d="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/1999/xlink",c=["butt","round","square"],x=["miter","round","bevel"],h=function(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(URL.createObjectURL&&typeof Blob!="undefined"&&!v)return URL.createObjectURL(new Blob([n],{type:a}));const _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let I=`data:${a};base64,`;for(let V=0,E=n.length;V<E;V+=3){const ee=n[V]&255,K=n[V+1]&255,O=n[V+2]&255,L=ee>>2,T=(ee&3)<<4|K>>4,B=V+1<E?(K&15)<<2|O>>6:64,M=V+2<E?O&63:64;I+=_[L]+_[T]+_[B]+_[M]}return I},k=function(){const n=new Uint8Array([137,80,78,71,13,10,26,10]),a=12,v=new Int32Array(256);for(let O=0;O<256;O++){let L=O;for(let T=0;T<8;T++)L&1?L=3988292384^L>>1&2147483647:L=L>>1&2147483647;v[O]=L}function _(O,L,T){let B=-1;for(let M=L;M<T;M++){const P=(B^O[M])&255,Y=v[P];B=B>>>8^Y}return B^-1}function I(O,L,T,B){let M=B;const P=L.length;T[M]=P>>24&255,T[M+1]=P>>16&255,T[M+2]=P>>8&255,T[M+3]=P&255,M+=4,T[M]=O.charCodeAt(0)&255,T[M+1]=O.charCodeAt(1)&255,T[M+2]=O.charCodeAt(2)&255,T[M+3]=O.charCodeAt(3)&255,M+=4,T.set(L,M),M+=L.length;const Y=_(T,B+4,M);T[M]=Y>>24&255,T[M+1]=Y>>16&255,T[M+2]=Y>>8&255,T[M+3]=Y&255}function V(O,L,T){let B=1,M=0;for(let P=L;P<T;++P)B=(B+(O[P]&255))%65521,M=(M+B)%65521;return M<<16|B}function E(O){if(!C.isNodeJS)return ee(O);try{let L;parseInt(process.versions.node)>=8?L=O:L=Buffer.from(O);const T=__webpack_require__(45036).deflateSync(L,{level:9});return T instanceof Uint8Array?T:new Uint8Array(T)}catch(L){(0,o.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+L)}return ee(O)}function ee(O){let L=O.length;const T=65535,B=Math.ceil(L/T),M=new Uint8Array(2+L+B*5+4);let P=0;M[P++]=120,M[P++]=156;let Y=0;for(;L>T;)M[P++]=0,M[P++]=255,M[P++]=255,M[P++]=0,M[P++]=0,M.set(O.subarray(Y,Y+T),P),P+=T,Y+=T,L-=T;M[P++]=1,M[P++]=L&255,M[P++]=L>>8&255,M[P++]=~L&65535&255,M[P++]=(~L&65535)>>8&255,M.set(O.subarray(Y),P),P+=O.length-Y;const Z=V(O,0,O.length);return M[P++]=Z>>24&255,M[P++]=Z>>16&255,M[P++]=Z>>8&255,M[P++]=Z&255,M}function K(O,L,T,B){const M=O.width,P=O.height;let Y,Z,J;const _e=O.data;switch(L){case o.ImageKind.GRAYSCALE_1BPP:Z=0,Y=1,J=M+7>>3;break;case o.ImageKind.RGB_24BPP:Z=2,Y=8,J=M*3;break;case o.ImageKind.RGBA_32BPP:Z=6,Y=8,J=M*4;break;default:throw new Error("invalid format")}const z=new Uint8Array((1+J)*P);let S=0,A=0;for(let U=0;U<P;++U)z[S++]=0,z.set(_e.subarray(A,A+J),S),A+=J,S+=J;if(L===o.ImageKind.GRAYSCALE_1BPP&&B){S=0;for(let U=0;U<P;U++){S++;for(let q=0;q<J;q++)z[S++]^=255}}const j=new Uint8Array([M>>24&255,M>>16&255,M>>8&255,M&255,P>>24&255,P>>16&255,P>>8&255,P&255,Y,Z,0,0,0]),$=E(z),p=n.length+a*3+j.length+$.length,R=new Uint8Array(p);let F=0;return R.set(n,F),F+=n.length,I("IHDR",j,R,F),F+=a+j.length,I("IDATA",$,R,F),F+=a+$.length,I("IEND",new Uint8Array(0),R,F),h(R,"image/png",T)}return function(L,T,B){const M=L.kind===void 0?o.ImageKind.GRAYSCALE_1BPP:L.kind;return K(L,M,T,B)}}();class m{constructor(){this.fontSizeScale=1,this.fontWeight=D.fontWeight,this.fontSize=0,this.textMatrix=o.IDENTITY_MATRIX,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=o.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=D.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(a,v){this.x=a,this.y=v}}let g=0,y=0,l=0;s.SVGGraphics=W=class{constructor(n,a){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(0,r.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new r.DOMSVGFactory,this.current=new m,this.transformMatrix=o.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=n,this.objs=a,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!v,this._operatorIdMapping=[];for(const _ in o.OPS)this._operatorIdMapping[o.OPS[_]]=_}save(){this.transformStack.push(this.transformMatrix);const n=this.current;this.extraStack.push(n),this.current=n.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(n){this.save(),this.executeOpTree(n),this.restore()}loadDependencies(n){const a=n.fnArray,v=n.argsArray;for(let _=0,I=a.length;_<I;_++)if(a[_]===o.OPS.dependency)for(const V of v[_]){const E=V.startsWith("g_")?this.commonObjs:this.objs,ee=new Promise(K=>{E.get(V,K)});this.current.dependencies.push(ee)}return Promise.all(this.current.dependencies)}transform(n,a,v,_,I,V){const E=[n,a,v,_,I,V];this.transformMatrix=o.Util.transform(this.transformMatrix,E),this.tgrp=null}getSVG(n,a){this.viewport=a;const v=this._initialize(a);return this.loadDependencies(n).then(()=>(this.transformMatrix=o.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(n)),v))}convertOpList(n){const a=this._operatorIdMapping,v=n.argsArray,_=n.fnArray,I=[];for(let V=0,E=_.length;V<E;V++){const ee=_[V];I.push({fnId:ee,fn:a[ee],args:v[V]})}return u(I)}executeOpTree(n){for(const a of n){const v=a.fn,_=a.fnId,I=a.args;switch(_|0){case o.OPS.beginText:this.beginText();break;case o.OPS.dependency:break;case o.OPS.setLeading:this.setLeading(I);break;case o.OPS.setLeadingMoveText:this.setLeadingMoveText(I[0],I[1]);break;case o.OPS.setFont:this.setFont(I);break;case o.OPS.showText:this.showText(I[0]);break;case o.OPS.showSpacedText:this.showText(I[0]);break;case o.OPS.endText:this.endText();break;case o.OPS.moveText:this.moveText(I[0],I[1]);break;case o.OPS.setCharSpacing:this.setCharSpacing(I[0]);break;case o.OPS.setWordSpacing:this.setWordSpacing(I[0]);break;case o.OPS.setHScale:this.setHScale(I[0]);break;case o.OPS.setTextMatrix:this.setTextMatrix(I[0],I[1],I[2],I[3],I[4],I[5]);break;case o.OPS.setTextRise:this.setTextRise(I[0]);break;case o.OPS.setTextRenderingMode:this.setTextRenderingMode(I[0]);break;case o.OPS.setLineWidth:this.setLineWidth(I[0]);break;case o.OPS.setLineJoin:this.setLineJoin(I[0]);break;case o.OPS.setLineCap:this.setLineCap(I[0]);break;case o.OPS.setMiterLimit:this.setMiterLimit(I[0]);break;case o.OPS.setFillRGBColor:this.setFillRGBColor(I[0],I[1],I[2]);break;case o.OPS.setStrokeRGBColor:this.setStrokeRGBColor(I[0],I[1],I[2]);break;case o.OPS.setStrokeColorN:this.setStrokeColorN(I);break;case o.OPS.setFillColorN:this.setFillColorN(I);break;case o.OPS.shadingFill:this.shadingFill(I[0]);break;case o.OPS.setDash:this.setDash(I[0],I[1]);break;case o.OPS.setRenderingIntent:this.setRenderingIntent(I[0]);break;case o.OPS.setFlatness:this.setFlatness(I[0]);break;case o.OPS.setGState:this.setGState(I[0]);break;case o.OPS.fill:this.fill();break;case o.OPS.eoFill:this.eoFill();break;case o.OPS.stroke:this.stroke();break;case o.OPS.fillStroke:this.fillStroke();break;case o.OPS.eoFillStroke:this.eoFillStroke();break;case o.OPS.clip:this.clip("nonzero");break;case o.OPS.eoClip:this.clip("evenodd");break;case o.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case o.OPS.paintImageXObject:this.paintImageXObject(I[0]);break;case o.OPS.paintInlineImageXObject:this.paintInlineImageXObject(I[0]);break;case o.OPS.paintImageMaskXObject:this.paintImageMaskXObject(I[0]);break;case o.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(I[0],I[1]);break;case o.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case o.OPS.closePath:this.closePath();break;case o.OPS.closeStroke:this.closeStroke();break;case o.OPS.closeFillStroke:this.closeFillStroke();break;case o.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case o.OPS.nextLine:this.nextLine();break;case o.OPS.transform:this.transform(I[0],I[1],I[2],I[3],I[4],I[5]);break;case o.OPS.constructPath:this.constructPath(I[0],I[1]);break;case o.OPS.endPath:this.endPath();break;case 92:this.group(a.items);break;default:(0,o.warn)(`Unimplemented operator ${v}`);break}}}setWordSpacing(n){this.current.wordSpacing=n}setCharSpacing(n){this.current.charSpacing=n}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(n,a,v,_,I,V){const E=this.current;E.textMatrix=E.lineMatrix=[n,a,v,_,I,V],E.textMatrixScale=Math.hypot(n,a),E.x=E.lineX=0,E.y=E.lineY=0,E.xcoords=[],E.ycoords=[],E.tspan=this.svgFactory.createElement("svg:tspan"),E.tspan.setAttributeNS(null,"font-family",E.fontFamily),E.tspan.setAttributeNS(null,"font-size",`${w(E.fontSize)}px`),E.tspan.setAttributeNS(null,"y",w(-E.y)),E.txtElement=this.svgFactory.createElement("svg:text"),E.txtElement.append(E.tspan)}beginText(){const n=this.current;n.x=n.lineX=0,n.y=n.lineY=0,n.textMatrix=o.IDENTITY_MATRIX,n.lineMatrix=o.IDENTITY_MATRIX,n.textMatrixScale=1,n.tspan=this.svgFactory.createElement("svg:tspan"),n.txtElement=this.svgFactory.createElement("svg:text"),n.txtgrp=this.svgFactory.createElement("svg:g"),n.xcoords=[],n.ycoords=[]}moveText(n,a){const v=this.current;v.x=v.lineX+=n,v.y=v.lineY+=a,v.xcoords=[],v.ycoords=[],v.tspan=this.svgFactory.createElement("svg:tspan"),v.tspan.setAttributeNS(null,"font-family",v.fontFamily),v.tspan.setAttributeNS(null,"font-size",`${w(v.fontSize)}px`),v.tspan.setAttributeNS(null,"y",w(-v.y))}showText(n){const a=this.current,v=a.font,_=a.fontSize;if(_===0)return;const I=a.fontSizeScale,V=a.charSpacing,E=a.wordSpacing,ee=a.fontDirection,K=a.textHScale*ee,O=v.vertical,L=O?1:-1,T=v.defaultVMetrics,B=_*a.fontMatrix[0];let M=0;for(const Z of n){if(Z===null){M+=ee*E;continue}else if(typeof Z=="number"){M+=L*Z*_/1e3;continue}const J=(Z.isSpace?E:0)+V,_e=Z.fontChar;let z,S,A=Z.width;if(O){let $;const p=Z.vmetric||T;$=Z.vmetric?p[1]:A*.5,$=-$*B;const R=p[2]*B;A=p?-p[0]:A,z=$/I,S=(M+R)/I}else z=M/I,S=0;(Z.isInFont||v.missingFile)&&(a.xcoords.push(a.x+z),O&&a.ycoords.push(-a.y+S),a.tspan.textContent+=_e);let j;O?j=A*B-J*ee:j=A*B+J*ee,M+=j}a.tspan.setAttributeNS(null,"x",a.xcoords.map(w).join(" ")),O?a.tspan.setAttributeNS(null,"y",a.ycoords.map(w).join(" ")):a.tspan.setAttributeNS(null,"y",w(-a.y)),O?a.y-=M:a.x+=M*K,a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size",`${w(a.fontSize)}px`),a.fontStyle!==D.fontStyle&&a.tspan.setAttributeNS(null,"font-style",a.fontStyle),a.fontWeight!==D.fontWeight&&a.tspan.setAttributeNS(null,"font-weight",a.fontWeight);const P=a.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;if(P===o.TextRenderingMode.FILL||P===o.TextRenderingMode.FILL_STROKE?(a.fillColor!==D.fillColor&&a.tspan.setAttributeNS(null,"fill",a.fillColor),a.fillAlpha<1&&a.tspan.setAttributeNS(null,"fill-opacity",a.fillAlpha)):a.textRenderingMode===o.TextRenderingMode.ADD_TO_PATH?a.tspan.setAttributeNS(null,"fill","transparent"):a.tspan.setAttributeNS(null,"fill","none"),P===o.TextRenderingMode.STROKE||P===o.TextRenderingMode.FILL_STROKE){const Z=1/(a.textMatrixScale||1);this._setStrokeAttributes(a.tspan,Z)}let Y=a.textMatrix;a.textRise!==0&&(Y=Y.slice(),Y[5]+=a.textRise),a.txtElement.setAttributeNS(null,"transform",`${f(Y)} scale(${w(K)}, -1)`),a.txtElement.setAttributeNS(d,"xml:space","preserve"),a.txtElement.append(a.tspan),a.txtgrp.append(a.txtElement),this._ensureTransformGroup().append(a.txtElement)}setLeadingMoveText(n,a){this.setLeading(-a),this.moveText(n,a)}addFontStyle(n){if(!n.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const a=h(n.data,n.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${n.loadedName}"; src: url(${a}); }
`}setFont(n){const a=this.current,v=this.commonObjs.get(n[0]);let _=n[1];a.font=v,this.embedFonts&&!v.missingFile&&!this.embeddedFonts[v.loadedName]&&(this.addFontStyle(v),this.embeddedFonts[v.loadedName]=v),a.fontMatrix=v.fontMatrix||o.FONT_IDENTITY_MATRIX;let I="normal";v.black?I="900":v.bold&&(I="bold");const V=v.italic?"italic":"normal";_<0?(_=-_,a.fontDirection=-1):a.fontDirection=1,a.fontSize=_,a.fontFamily=v.loadedName,a.fontWeight=I,a.fontStyle=V,a.tspan=this.svgFactory.createElement("svg:tspan"),a.tspan.setAttributeNS(null,"y",w(-a.y)),a.xcoords=[],a.ycoords=[]}endText(){var n;const a=this.current;a.textRenderingMode&o.TextRenderingMode.ADD_TO_PATH_FLAG&&(n=a.txtElement)!==null&&n!==void 0&&n.hasChildNodes()&&(a.element=a.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(n){n>0&&(this.current.lineWidth=n)}setLineCap(n){this.current.lineCap=c[n]}setLineJoin(n){this.current.lineJoin=x[n]}setMiterLimit(n){this.current.miterLimit=n}setStrokeAlpha(n){this.current.strokeAlpha=n}setStrokeRGBColor(n,a,v){this.current.strokeColor=o.Util.makeHexColor(n,a,v)}setFillAlpha(n){this.current.fillAlpha=n}setFillRGBColor(n,a,v){this.current.fillColor=o.Util.makeHexColor(n,a,v),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(n){this.current.strokeColor=this._makeColorN_Pattern(n)}setFillColorN(n){this.current.fillColor=this._makeColorN_Pattern(n)}shadingFill(n){const a=this.viewport.width,v=this.viewport.height,_=o.Util.inverseTransform(this.transformMatrix),I=o.Util.applyTransform([0,0],_),V=o.Util.applyTransform([0,v],_),E=o.Util.applyTransform([a,0],_),ee=o.Util.applyTransform([a,v],_),K=Math.min(I[0],V[0],E[0],ee[0]),O=Math.min(I[1],V[1],E[1],ee[1]),L=Math.max(I[0],V[0],E[0],ee[0]),T=Math.max(I[1],V[1],E[1],ee[1]),B=this.svgFactory.createElement("svg:rect");B.setAttributeNS(null,"x",K),B.setAttributeNS(null,"y",O),B.setAttributeNS(null,"width",L-K),B.setAttributeNS(null,"height",T-O),B.setAttributeNS(null,"fill",this._makeShadingPattern(n)),this.current.fillAlpha<1&&B.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(B)}_makeColorN_Pattern(n){return n[0]==="TilingPattern"?this._makeTilingPattern(n):this._makeShadingPattern(n)}_makeTilingPattern(n){const a=n[1],v=n[2],_=n[3]||o.IDENTITY_MATRIX,[I,V,E,ee]=n[4],K=n[5],O=n[6],L=n[7],T=`shading${l++}`,[B,M,P,Y]=o.Util.normalizeRect([...o.Util.applyTransform([I,V],_),...o.Util.applyTransform([E,ee],_)]),[Z,J]=o.Util.singularValueDecompose2dScale(_),_e=K*Z,z=O*J,S=this.svgFactory.createElement("svg:pattern");S.setAttributeNS(null,"id",T),S.setAttributeNS(null,"patternUnits","userSpaceOnUse"),S.setAttributeNS(null,"width",_e),S.setAttributeNS(null,"height",z),S.setAttributeNS(null,"x",`${B}`),S.setAttributeNS(null,"y",`${M}`);const A=this.svg,j=this.transformMatrix,$=this.current.fillColor,p=this.current.strokeColor,R=this.svgFactory.create(P-B,Y-M);if(this.svg=R,this.transformMatrix=_,L===2){const F=o.Util.makeHexColor(...a);this.current.fillColor=F,this.current.strokeColor=F}return this.executeOpTree(this.convertOpList(v)),this.svg=A,this.transformMatrix=j,this.current.fillColor=$,this.current.strokeColor=p,S.append(R.childNodes[0]),this.defs.append(S),`url(#${T})`}_makeShadingPattern(n){switch(typeof n=="string"&&(n=this.objs.get(n)),n[0]){case"RadialAxial":const a=`shading${l++}`,v=n[3];let _;switch(n[1]){case"axial":const I=n[4],V=n[5];_=this.svgFactory.createElement("svg:linearGradient"),_.setAttributeNS(null,"id",a),_.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),_.setAttributeNS(null,"x1",I[0]),_.setAttributeNS(null,"y1",I[1]),_.setAttributeNS(null,"x2",V[0]),_.setAttributeNS(null,"y2",V[1]);break;case"radial":const E=n[4],ee=n[5],K=n[6],O=n[7];_=this.svgFactory.createElement("svg:radialGradient"),_.setAttributeNS(null,"id",a),_.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),_.setAttributeNS(null,"cx",ee[0]),_.setAttributeNS(null,"cy",ee[1]),_.setAttributeNS(null,"r",O),_.setAttributeNS(null,"fx",E[0]),_.setAttributeNS(null,"fy",E[1]),_.setAttributeNS(null,"fr",K);break;default:throw new Error(`Unknown RadialAxial type: ${n[1]}`)}for(const I of v){const V=this.svgFactory.createElement("svg:stop");V.setAttributeNS(null,"offset",I[0]),V.setAttributeNS(null,"stop-color",I[1]),_.append(V)}return this.defs.append(_),`url(#${a})`;case"Mesh":return(0,o.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${n[0]}`)}}setDash(n,a){this.current.dashArray=n,this.current.dashPhase=a}constructPath(n,a){const v=this.current;let _=v.x,I=v.y,V=[],E=0;for(const ee of n)switch(ee|0){case o.OPS.rectangle:_=a[E++],I=a[E++];const K=a[E++],O=a[E++],L=_+K,T=I+O;V.push("M",w(_),w(I),"L",w(L),w(I),"L",w(L),w(T),"L",w(_),w(T),"Z");break;case o.OPS.moveTo:_=a[E++],I=a[E++],V.push("M",w(_),w(I));break;case o.OPS.lineTo:_=a[E++],I=a[E++],V.push("L",w(_),w(I));break;case o.OPS.curveTo:_=a[E+4],I=a[E+5],V.push("C",w(a[E]),w(a[E+1]),w(a[E+2]),w(a[E+3]),w(_),w(I)),E+=6;break;case o.OPS.curveTo2:V.push("C",w(_),w(I),w(a[E]),w(a[E+1]),w(a[E+2]),w(a[E+3])),_=a[E+2],I=a[E+3],E+=4;break;case o.OPS.curveTo3:_=a[E+2],I=a[E+3],V.push("C",w(a[E]),w(a[E+1]),w(_),w(I),w(_),w(I)),E+=4;break;case o.OPS.closePath:V.push("Z");break}V=V.join(" "),v.path&&n.length>0&&n[0]!==o.OPS.rectangle&&n[0]!==o.OPS.moveTo?V=v.path.getAttributeNS(null,"d")+V:(v.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(v.path)),v.path.setAttributeNS(null,"d",V),v.path.setAttributeNS(null,"fill","none"),v.element=v.path,v.setCurrentPoint(_,I)}endPath(){const n=this.current;if(n.path=null,!this.pendingClip)return;if(!n.element){this.pendingClip=null;return}const a=`clippath${g++}`,v=this.svgFactory.createElement("svg:clipPath");v.setAttributeNS(null,"id",a),v.setAttributeNS(null,"transform",f(this.transformMatrix));const _=n.element.cloneNode(!0);if(this.pendingClip==="evenodd"?_.setAttributeNS(null,"clip-rule","evenodd"):_.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,v.append(_),this.defs.append(v),n.activeClipUrl){n.clipGroup=null;for(const I of this.extraStack)I.clipGroup=null;v.setAttributeNS(null,"clip-path",n.activeClipUrl)}n.activeClipUrl=`url(#${a})`,this.tgrp=null}clip(n){this.pendingClip=n}closePath(){const n=this.current;if(n.path){const a=`${n.path.getAttributeNS(null,"d")}Z`;n.path.setAttributeNS(null,"d",a)}}setLeading(n){this.current.leading=-n}setTextRise(n){this.current.textRise=n}setTextRenderingMode(n){this.current.textRenderingMode=n}setHScale(n){this.current.textHScale=n/100}setRenderingIntent(n){}setFlatness(n){}setGState(n){for(const[a,v]of n)switch(a){case"LW":this.setLineWidth(v);break;case"LC":this.setLineCap(v);break;case"LJ":this.setLineJoin(v);break;case"ML":this.setMiterLimit(v);break;case"D":this.setDash(v[0],v[1]);break;case"RI":this.setRenderingIntent(v);break;case"FL":this.setFlatness(v);break;case"Font":this.setFont(v);break;case"CA":this.setStrokeAlpha(v);break;case"ca":this.setFillAlpha(v);break;default:(0,o.warn)(`Unimplemented graphic state operator ${a}`);break}}fill(){const n=this.current;n.element&&(n.element.setAttributeNS(null,"fill",n.fillColor),n.element.setAttributeNS(null,"fill-opacity",n.fillAlpha),this.endPath())}stroke(){const n=this.current;n.element&&(this._setStrokeAttributes(n.element),n.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const v=this.current;let _=v.dashArray;a!==1&&_.length>0&&(_=_.map(function(I){return a*I})),n.setAttributeNS(null,"stroke",v.strokeColor),n.setAttributeNS(null,"stroke-opacity",v.strokeAlpha),n.setAttributeNS(null,"stroke-miterlimit",w(v.miterLimit)),n.setAttributeNS(null,"stroke-linecap",v.lineCap),n.setAttributeNS(null,"stroke-linejoin",v.lineJoin),n.setAttributeNS(null,"stroke-width",w(a*v.lineWidth)+"px"),n.setAttributeNS(null,"stroke-dasharray",_.map(w).join(" ")),n.setAttributeNS(null,"stroke-dashoffset",w(a*v.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const n=this.svgFactory.createElement("svg:rect");n.setAttributeNS(null,"x","0"),n.setAttributeNS(null,"y","0"),n.setAttributeNS(null,"width","1px"),n.setAttributeNS(null,"height","1px"),n.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(n)}paintImageXObject(n){const a=n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n);if(!a){(0,o.warn)(`Dependent image with object ID ${n} is not ready yet`);return}this.paintInlineImageXObject(a)}paintInlineImageXObject(n,a){const v=n.width,_=n.height,I=k(n,this.forceDataSchema,!!a),V=this.svgFactory.createElement("svg:rect");V.setAttributeNS(null,"x","0"),V.setAttributeNS(null,"y","0"),V.setAttributeNS(null,"width",w(v)),V.setAttributeNS(null,"height",w(_)),this.current.element=V,this.clip("nonzero");const E=this.svgFactory.createElement("svg:image");E.setAttributeNS(b,"xlink:href",I),E.setAttributeNS(null,"x","0"),E.setAttributeNS(null,"y",w(-_)),E.setAttributeNS(null,"width",w(v)+"px"),E.setAttributeNS(null,"height",w(_)+"px"),E.setAttributeNS(null,"transform",`scale(${w(1/v)} ${w(-1/_)})`),a?a.append(E):this._ensureTransformGroup().append(E)}paintImageMaskXObject(n){const a=this.current,v=n.width,_=n.height,I=a.fillColor;a.maskId=`mask${y++}`;const V=this.svgFactory.createElement("svg:mask");V.setAttributeNS(null,"id",a.maskId);const E=this.svgFactory.createElement("svg:rect");E.setAttributeNS(null,"x","0"),E.setAttributeNS(null,"y","0"),E.setAttributeNS(null,"width",w(v)),E.setAttributeNS(null,"height",w(_)),E.setAttributeNS(null,"fill",I),E.setAttributeNS(null,"mask",`url(#${a.maskId})`),this.defs.append(V),this._ensureTransformGroup().append(E),this.paintInlineImageXObject(n,V)}paintFormXObjectBegin(n,a){if(Array.isArray(n)&&n.length===6&&this.transform(n[0],n[1],n[2],n[3],n[4],n[5]),a){const v=a[2]-a[0],_=a[3]-a[1],I=this.svgFactory.createElement("svg:rect");I.setAttributeNS(null,"x",a[0]),I.setAttributeNS(null,"y",a[1]),I.setAttributeNS(null,"width",w(v)),I.setAttributeNS(null,"height",w(_)),this.current.element=I,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(n){const a=this.svgFactory.create(n.width,n.height),v=this.svgFactory.createElement("svg:defs");a.append(v),this.defs=v;const _=this.svgFactory.createElement("svg:g");return _.setAttributeNS(null,"transform",f(n.transform)),a.append(_),this.svg=_,a}_ensureClipGroup(){if(!this.current.clipGroup){const n=this.svgFactory.createElement("svg:g");n.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(n),this.current.clipGroup=n}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",f(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNodeStream=void 0;var r=t(1),o=t(158);const C=__webpack_require__(27922),W=__webpack_require__(15212),D=__webpack_require__(85777),d=__webpack_require__(76929),b=/^file:\/\/\/[a-zA-Z]:\//;function c(y){const l=d.parse(y);return l.protocol==="file:"||l.host?l:/^[a-z]:[/\\]/i.test(y)?d.parse(`file:///${y}`):(l.host||(l.protocol="file:"),l)}class x{constructor(l){this.source=l,this.url=c(l.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&l.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var l,n;return(l=(n=this._fullRequestReader)===null||n===void 0?void 0:n._loaded)!==null&&l!==void 0?l:0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new f(this):new u(this),this._fullRequestReader}getRangeReader(l,n){if(n<=this._progressiveDataLength)return null;const a=this.isFsUrl?new g(this,l,n):new w(this,l,n);return this._rangeRequestReaders.push(a),a}cancelAllRequests(l){this._fullRequestReader&&this._fullRequestReader.cancel(l);for(const n of this._rangeRequestReaders.slice(0))n.cancel(l)}}s.PDFNodeStream=x;class h{constructor(l){this._url=l.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=l.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._headersCapability=(0,r.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return st(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const l=this._readableStream.read();return l===null?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=l.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(l).buffer,done:!1})})}cancel(l){if(!this._readableStream){this._error(l);return}this._readableStream.destroy(l)}_error(l){this._storedError=l,this._readCapability.resolve()}_setReadableStream(l){this._readableStream=l,l.on("readable",()=>{this._readCapability.resolve()}),l.on("end",()=>{l.destroy(),this._done=!0,this._readCapability.resolve()}),l.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class k{constructor(l){this._url=l.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)();const n=l.source;this._isStreamingSupported=!n.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){return st(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const l=this._readableStream.read();return l===null?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=l.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(l).buffer,done:!1})})}cancel(l){if(!this._readableStream){this._error(l);return}this._readableStream.destroy(l)}_error(l){this._storedError=l,this._readCapability.resolve()}_setReadableStream(l){this._readableStream=l,l.on("readable",()=>{this._readCapability.resolve()}),l.on("end",()=>{l.destroy(),this._done=!0,this._readCapability.resolve()}),l.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function m(y,l){return{protocol:y.protocol,auth:y.auth,host:y.hostname,port:y.port,path:y.path,method:"GET",headers:l}}class u extends h{constructor(l){super(l);const n=a=>{if(a.statusCode===404){const V=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=V,this._headersCapability.reject(V);return}this._headersCapability.resolve(),this._setReadableStream(a);const v=V=>this._readableStream.headers[V.toLowerCase()],{allowRangeRequests:_,suggestedLength:I}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:v,isHttp:l.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=_,this._contentLength=I||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(v)};this._request=null,this._url.protocol==="http:"?this._request=W.request(m(this._url,l.httpHeaders),n):this._request=D.request(m(this._url,l.httpHeaders),n),this._request.on("error",a=>{this._storedError=a,this._headersCapability.reject(a)}),this._request.end()}}class w extends k{constructor(l,n,a){super(l),this._httpHeaders={};for(const _ in l.httpHeaders){const I=l.httpHeaders[_];typeof I!="undefined"&&(this._httpHeaders[_]=I)}this._httpHeaders.Range=`bytes=${n}-${a-1}`;const v=_=>{if(_.statusCode===404){const I=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=I;return}this._setReadableStream(_)};this._request=null,this._url.protocol==="http:"?this._request=W.request(m(this._url,this._httpHeaders),v):this._request=D.request(m(this._url,this._httpHeaders),v),this._request.on("error",_=>{this._storedError=_}),this._request.end()}}class f extends h{constructor(l){super(l);let n=decodeURIComponent(this._url.path);b.test(this._url.href)&&(n=n.replace(/^\//,"")),C.lstat(n,(a,v)=>{if(a){a.code==="ENOENT"&&(a=new r.MissingPDFException(`Missing PDF "${n}".`)),this._storedError=a,this._headersCapability.reject(a);return}this._contentLength=v.size,this._setReadableStream(C.createReadStream(n)),this._headersCapability.resolve()})}}class g extends k{constructor(l,n,a){super(l);let v=decodeURIComponent(this._url.path);b.test(this._url.href)&&(v=v.replace(/^\//,"")),this._setReadableStream(C.createReadStream(v,{start:n,end:a-1}))}}},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.createResponseStatusError=d,s.extractFilenameFromHeader=D,s.validateRangeRequestCapabilities=W,s.validateResponseStatus=b;var r=t(1),o=t(159),C=t(133);function W(c){let{getResponseHeader:x,isHttp:h,rangeChunkSize:k,disableRange:m}=c;const u={allowRangeRequests:!1,suggestedLength:void 0},w=parseInt(x("Content-Length"),10);return!Number.isInteger(w)||(u.suggestedLength=w,w<=2*k)||m||!h||x("Accept-Ranges")!=="bytes"||(x("Content-Encoding")||"identity")!=="identity"||(u.allowRangeRequests=!0),u}function D(c){const x=c("Content-Disposition");if(x){let h=(0,o.getFilenameFromContentDispositionHeader)(x);if(h.includes("%"))try{h=decodeURIComponent(h)}catch(k){}if((0,C.isPdfFile)(h))return h}return null}function d(c,x){return c===404||c===0&&x.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+x+'".'):new r.UnexpectedResponseException(`Unexpected server response (${c}) while retrieving PDF "${x}".`,c)}function b(c){return c===200||c===206}},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.getFilenameFromContentDispositionHeader=o;var r=t(1);function o(C){let W=!0,D=d("filename\\*","i").exec(C);if(D){D=D[1];let u=h(D);return u=unescape(u),u=k(u),u=m(u),c(u)}if(D=x(C),D){const u=m(D);return c(u)}if(D=d("filename","i").exec(C),D){D=D[1];let u=h(D);return u=m(u),c(u)}function d(u,w){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',w)}function b(u,w){if(u){if(!/^[\x00-\xFF]+$/.test(w))return w;try{const f=new TextDecoder(u,{fatal:!0}),g=(0,r.stringToBytes)(w);w=f.decode(g),W=!1}catch(f){}}return w}function c(u){return W&&/[\x80-\xff]/.test(u)&&(u=b("utf-8",u),W&&(u=b("iso-8859-1",u))),u}function x(u){const w=[];let f;const g=d("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=g.exec(u))!==null;){let[,l,n,a]=f;if(l=parseInt(l,10),l in w){if(l===0)break;continue}w[l]=[n,a]}const y=[];for(let l=0;l<w.length&&l in w;++l){let[n,a]=w[l];a=h(a),n&&(a=unescape(a),l===0&&(a=k(a))),y.push(a)}return y.join("")}function h(u){if(u.startsWith('"')){const w=u.slice(1).split('\\"');for(let f=0;f<w.length;++f){const g=w[f].indexOf('"');g!==-1&&(w[f]=w[f].slice(0,g),w.length=f+1),w[f]=w[f].replace(/\\(.)/g,"$1")}u=w.join('"')}return u}function k(u){const w=u.indexOf("'");if(w===-1)return u;const f=u.slice(0,w),y=u.slice(w+1).replace(/^[^']*'/,"");return b(f,y)}function m(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(w,f,g,y){if(g==="q"||g==="Q")return y=y.replace(/_/g," "),y=y.replace(/=([0-9a-fA-F]{2})/g,function(l,n){return String.fromCharCode(parseInt(n,16))}),b(f,y);try{y=atob(y)}catch(l){}return b(f,y)})}return""}},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNetworkStream=void 0;var r=t(1),o=t(158);const C=200,W=206;function D(h){const k=h.response;return typeof k!="string"?k:(0,r.stringToBytes)(k).buffer}class d{constructor(k){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.url=k,this.isHttp=/^https?:/i.test(k),this.httpHeaders=this.isHttp&&m.httpHeaders||Object.create(null),this.withCredentials=m.withCredentials||!1,this.getXhr=m.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(k,m,u){const w={begin:k,end:m};for(const f in u)w[f]=u[f];return this.request(w)}requestFull(k){return this.request(k)}request(k){const m=this.getXhr(),u=this.currXhrId++,w=this.pendingRequests[u]={xhr:m};m.open("GET",this.url),m.withCredentials=this.withCredentials;for(const f in this.httpHeaders){const g=this.httpHeaders[f];typeof g!="undefined"&&m.setRequestHeader(f,g)}return this.isHttp&&"begin"in k&&"end"in k?(m.setRequestHeader("Range",`bytes=${k.begin}-${k.end-1}`),w.expectedStatus=W):w.expectedStatus=C,m.responseType="arraybuffer",k.onError&&(m.onerror=function(f){k.onError(m.status)}),m.onreadystatechange=this.onStateChange.bind(this,u),m.onprogress=this.onProgress.bind(this,u),w.onHeadersReceived=k.onHeadersReceived,w.onDone=k.onDone,w.onError=k.onError,w.onProgress=k.onProgress,m.send(null),u}onProgress(k,m){var u;const w=this.pendingRequests[k];w&&((u=w.onProgress)===null||u===void 0||u.call(w,m))}onStateChange(k,m){const u=this.pendingRequests[k];if(!u)return;const w=u.xhr;if(w.readyState>=2&&u.onHeadersReceived&&(u.onHeadersReceived(),delete u.onHeadersReceived),w.readyState!==4||!(k in this.pendingRequests))return;if(delete this.pendingRequests[k],w.status===0&&this.isHttp){var f;(f=u.onError)===null||f===void 0||f.call(u,w.status);return}const g=w.status||C;if(!(g===C&&u.expectedStatus===W)&&g!==u.expectedStatus){var l;(l=u.onError)===null||l===void 0||l.call(u,w.status);return}const n=D(w);if(g===W){const v=w.getResponseHeader("Content-Range"),_=/bytes (\d+)-(\d+)\/(\d+)/.exec(v);u.onDone({begin:parseInt(_[1],10),chunk:n})}else if(n)u.onDone({begin:0,chunk:n});else{var a;(a=u.onError)===null||a===void 0||a.call(u,w.status)}}getRequestXhr(k){return this.pendingRequests[k].xhr}isPendingRequest(k){return k in this.pendingRequests}abortRequest(k){const m=this.pendingRequests[k].xhr;delete this.pendingRequests[k],m.abort()}}class b{constructor(k){this._source=k,this._manager=new d(k.url,{httpHeaders:k.httpHeaders,withCredentials:k.withCredentials}),this._rangeChunkSize=k.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(k){const m=this._rangeRequestReaders.indexOf(k);m>=0&&this._rangeRequestReaders.splice(m,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new c(this._manager,this._source),this._fullRequestReader}getRangeReader(k,m){const u=new x(this._manager,k,m);return u.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(u),u}cancelAllRequests(k){var m;(m=this._fullRequestReader)===null||m===void 0||m.cancel(k);for(const u of this._rangeRequestReaders.slice(0))u.cancel(k)}}s.PDFNetworkStream=b;class c{constructor(k,m){this._manager=k;const u={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=m.url,this._fullRequestId=k.requestFull(u),this._headersReceivedCapability=(0,r.createPromiseCapability)(),this._disableRange=m.disableRange||!1,this._contentLength=m.length,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const k=this._fullRequestId,m=this._manager.getRequestXhr(k),u=g=>m.getResponseHeader(g),{allowRangeRequests:w,suggestedLength:f}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:u,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});w&&(this._isRangeSupported=!0),this._contentLength=f||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(u),this._isRangeSupported&&this._manager.abortRequest(k),this._headersReceivedCapability.resolve()}_onDone(k){if(k&&(this._requests.length>0?this._requests.shift().resolve({value:k.chunk,done:!1}):this._cachedChunks.push(k.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(k){this._storedError=(0,o.createResponseStatusError)(k,this._url),this._headersReceivedCapability.reject(this._storedError);for(const m of this._requests)m.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(k){var m;(m=this.onProgress)===null||m===void 0||m.call(this,{loaded:k.loaded,total:k.lengthComputable?k.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){return st(this,null,function*(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const k=(0,r.createPromiseCapability)();return this._requests.push(k),k.promise})}cancel(k){this._done=!0,this._headersReceivedCapability.reject(k);for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class x{constructor(k,m,u){this._manager=k;const w={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=k.url,this._requestId=k.requestRange(m,u,w),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var k;(k=this.onClosed)===null||k===void 0||k.call(this,this)}_onDone(k){const m=k.chunk;this._requests.length>0?this._requests.shift().resolve({value:m,done:!1}):this._queuedChunk=m,this._done=!0;for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(k){this._storedError=(0,o.createResponseStatusError)(k,this._url);for(const m of this._requests)m.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(k){if(!this.isStreamingSupported){var m;(m=this.onProgress)===null||m===void 0||m.call(this,{loaded:k.loaded})}}get isStreamingSupported(){return!1}read(){return st(this,null,function*(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const m=this._queuedChunk;return this._queuedChunk=null,{value:m,done:!1}}if(this._done)return{value:void 0,done:!0};const k=(0,r.createPromiseCapability)();return this._requests.push(k),k.promise})}cancel(k){this._done=!0;for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(H,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFetchStream=void 0;var r=t(1),o=t(158);function C(c,x,h){return{method:"GET",headers:c,signal:h.signal,mode:"cors",credentials:x?"include":"same-origin",redirect:"follow"}}function W(c){const x=new Headers;for(const h in c){const k=c[h];typeof k!="undefined"&&x.append(h,k)}return x}class D{constructor(x){this.source=x,this.isHttp=/^https?:/i.test(x.url),this.httpHeaders=this.isHttp&&x.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var x,h;return(x=(h=this._fullRequestReader)===null||h===void 0?void 0:h._loaded)!==null&&x!==void 0?x:0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new d(this),this._fullRequestReader}getRangeReader(x,h){if(h<=this._progressiveDataLength)return null;const k=new b(this,x,h);return this._rangeRequestReaders.push(k),k}cancelAllRequests(x){this._fullRequestReader&&this._fullRequestReader.cancel(x);for(const h of this._rangeRequestReaders.slice(0))h.cancel(x)}}s.PDFFetchStream=D;class d{constructor(x){this._stream=x,this._reader=null,this._loaded=0,this._filename=null;const h=x.source;this._withCredentials=h.withCredentials||!1,this._contentLength=h.length,this._headersCapability=(0,r.createPromiseCapability)(),this._disableRange=h.disableRange||!1,this._rangeChunkSize=h.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!h.disableStream,this._isRangeSupported=!h.disableRange,this._headers=W(this._stream.httpHeaders);const k=h.url;fetch(k,C(this._headers,this._withCredentials,this._abortController)).then(m=>{if(!(0,o.validateResponseStatus)(m.status))throw(0,o.createResponseStatusError)(m.status,k);this._reader=m.body.getReader(),this._headersCapability.resolve();const u=g=>m.headers.get(g),{allowRangeRequests:w,suggestedLength:f}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:u,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=w,this._contentLength=f||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(u),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return st(this,null,function*(){yield this._headersCapability.promise;const{value:x,done:h}=yield this._reader.read();return h?{value:x,done:h}:(this._loaded+=x.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(x).buffer,done:!1})})}cancel(x){this._reader&&this._reader.cancel(x),this._abortController.abort()}}class b{constructor(x,h,k){this._stream=x,this._reader=null,this._loaded=0;const m=x.source;this._withCredentials=m.withCredentials||!1,this._readCapability=(0,r.createPromiseCapability)(),this._isStreamingSupported=!m.disableStream,this._abortController=new AbortController,this._headers=W(this._stream.httpHeaders),this._headers.append("Range",`bytes=${h}-${k-1}`);const u=m.url;fetch(u,C(this._headers,this._withCredentials,this._abortController)).then(w=>{if(!(0,o.validateResponseStatus)(w.status))throw(0,o.createResponseStatusError)(w.status,u);this._readCapability.resolve(),this._reader=w.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){return st(this,null,function*(){yield this._readCapability.promise;const{value:x,done:h}=yield this._reader.read();return h?{value:x,done:h}:(this._loaded+=x.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(x).buffer,done:!1})})}cancel(x){this._reader&&this._reader.cancel(x),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(H){var s=__webpack_module_cache__[H];if(s!==void 0)return s.exports;var t=__webpack_module_cache__[H]={exports:{}};return __webpack_modules__[H](t,t.exports,__w_pdfjs_require__),t.exports}var __nested_webpack_exports__={};return(()=>{"use strict";var H=__nested_webpack_exports__;Object.defineProperty(H,"__esModule",{value:!0}),Object.defineProperty(H,"AnnotationEditorLayer",{enumerable:!0,get:function(){return o.AnnotationEditorLayer}}),Object.defineProperty(H,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return s.AnnotationEditorParamsType}}),Object.defineProperty(H,"AnnotationEditorType",{enumerable:!0,get:function(){return s.AnnotationEditorType}}),Object.defineProperty(H,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return C.AnnotationEditorUIManager}}),Object.defineProperty(H,"AnnotationLayer",{enumerable:!0,get:function(){return W.AnnotationLayer}}),Object.defineProperty(H,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(H,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(H,"GlobalWorkerOptions",{enumerable:!0,get:function(){return D.GlobalWorkerOptions}}),Object.defineProperty(H,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(H,"LoopbackPort",{enumerable:!0,get:function(){return t.LoopbackPort}}),Object.defineProperty(H,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(H,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(H,"PDFDataRangeTransport",{enumerable:!0,get:function(){return t.PDFDataRangeTransport}}),Object.defineProperty(H,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(H,"PDFWorker",{enumerable:!0,get:function(){return t.PDFWorker}}),Object.defineProperty(H,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(H,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(H,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(H,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(H,"SVGGraphics",{enumerable:!0,get:function(){return c.SVGGraphics}}),Object.defineProperty(H,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return s.UNSUPPORTED_FEATURES}}),Object.defineProperty(H,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(H,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(H,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(H,"XfaLayer",{enumerable:!0,get:function(){return x.XfaLayer}}),Object.defineProperty(H,"build",{enumerable:!0,get:function(){return t.build}}),Object.defineProperty(H,"createPromiseCapability",{enumerable:!0,get:function(){return s.createPromiseCapability}}),Object.defineProperty(H,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(H,"getDocument",{enumerable:!0,get:function(){return t.getDocument}}),Object.defineProperty(H,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(H,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(H,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(H,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(H,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(H,"renderTextLayer",{enumerable:!0,get:function(){return b.renderTextLayer}}),Object.defineProperty(H,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(H,"version",{enumerable:!0,get:function(){return t.version}});var s=__w_pdfjs_require__(1),t=__w_pdfjs_require__(129),r=__w_pdfjs_require__(133),o=__w_pdfjs_require__(147),C=__w_pdfjs_require__(132),W=__w_pdfjs_require__(152),D=__w_pdfjs_require__(140),d=__w_pdfjs_require__(3),b=__w_pdfjs_require__(155),c=__w_pdfjs_require__(156),x=__w_pdfjs_require__(154);const h="2.16.105",k="172ccdbe5";if(d.isNodeJS){const{PDFNodeStream:m}=__w_pdfjs_require__(157);(0,t.setPDFNetworkStreamFactory)(u=>new m(u))}else{const{PDFNetworkStream:m}=__w_pdfjs_require__(160),{PDFFetchStream:u}=__w_pdfjs_require__(161);(0,t.setPDFNetworkStreamFactory)(w=>(0,r.isValidFetchUrl)(w.url)?new u(w):new m(w))}})(),__nested_webpack_exports__})())},97950:function(H,s,t){(function(o,C){H.exports=C()})(globalThis,()=>(()=>{"use strict";var r=[,(D,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DefaultXfaLayerFactory=d.DefaultTextLayerFactory=d.DefaultStructTreeLayerFactory=d.DefaultAnnotationLayerFactory=d.DefaultAnnotationEditorLayerFactory=void 0;var c=b(2),x=b(5),h=b(4),k=b(6),m=b(8),u=b(9),w=b(10);class f{createAnnotationLayerBuilder(v){let{pageDiv:_,pdfPage:I,annotationStorage:V=null,imageResourcesPath:E="",renderForms:ee=!0,l10n:K=h.NullL10n,enableScripting:O=!1,hasJSActionsPromise:L=null,mouseState:T=null,fieldObjectsPromise:B=null,annotationCanvasMap:M=null,accessibilityManager:P=null}=v;return new x.AnnotationLayerBuilder({pageDiv:_,pdfPage:I,imageResourcesPath:E,renderForms:ee,linkService:new k.SimpleLinkService,l10n:K,annotationStorage:V,enableScripting:O,hasJSActionsPromise:L,fieldObjectsPromise:B,mouseState:T,annotationCanvasMap:M,accessibilityManager:P})}}d.DefaultAnnotationLayerFactory=f;class g{createAnnotationEditorLayerBuilder(v){let{uiManager:_=null,pageDiv:I,pdfPage:V,accessibilityManager:E=null,l10n:ee,annotationStorage:K=null}=v;return new c.AnnotationEditorLayerBuilder({uiManager:_,pageDiv:I,pdfPage:V,accessibilityManager:E,l10n:ee,annotationStorage:K})}}d.DefaultAnnotationEditorLayerFactory=g;class y{createStructTreeLayerBuilder(v){let{pdfPage:_}=v;return new m.StructTreeLayerBuilder({pdfPage:_})}}d.DefaultStructTreeLayerFactory=y;class l{createTextLayerBuilder(v){let{textLayerDiv:_,pageIndex:I,viewport:V,enhanceTextSelection:E=!1,eventBus:ee,highlighter:K,accessibilityManager:O=null}=v;return new u.TextLayerBuilder({textLayerDiv:_,pageIndex:I,viewport:V,enhanceTextSelection:E,eventBus:ee,highlighter:K,accessibilityManager:O})}}d.DefaultTextLayerFactory=l;class n{createXfaLayerBuilder(v){let{pageDiv:_,pdfPage:I,annotationStorage:V=null}=v;return new w.XfaLayerBuilder({pageDiv:_,pdfPage:I,annotationStorage:V,linkService:new k.SimpleLinkService})}}d.DefaultXfaLayerFactory=n},(D,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.AnnotationEditorLayerBuilder=void 0;var c=b(3),x=b(4);function h(n,a,v){k(n,a),a.set(n,v)}function k(n,a){if(a.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function m(n,a){var v=f(n,a,"get");return u(n,v)}function u(n,a){return a.get?a.get.call(n):a.value}function w(n,a,v){var _=f(n,a,"set");return g(n,_,v),v}function f(n,a,v){if(!a.has(n))throw new TypeError("attempted to "+v+" private field on non-instance");return a.get(n)}function g(n,a,v){if(a.set)a.set.call(n,v);else{if(!a.writable)throw new TypeError("attempted to set read only private field");a.value=v}}var y=new WeakMap;class l{constructor(a){h(this,y,{writable:!0,value:void 0}),this.pageDiv=a.pageDiv,this.pdfPage=a.pdfPage,this.annotationStorage=a.annotationStorage||null,this.accessibilityManager=a.accessibilityManager,this.l10n=a.l10n||x.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,w(this,y,a.uiManager)}render(v){return st(this,arguments,function*(a){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"display";if(_!=="display"||this._cancelled)return;const I=a.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:I}),this.show();return}this.div=document.createElement("div"),this.div.className="annotationEditorLayer",this.div.tabIndex=0,this.pageDiv.append(this.div),this.annotationEditorLayer=new c.AnnotationEditorLayer({uiManager:m(this,y),div:this.div,annotationStorage:this.annotationStorage,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage._pageIndex,l10n:this.l10n,viewport:I});const V={viewport:I,div:this.div,annotations:null,intent:_};this.annotationEditorLayer.render(V)})}cancel(){this._cancelled=!0,this.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){this.div&&(this.div.hidden=!1)}destroy(){this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}}d.AnnotationEditorLayerBuilder=l},D=>{let d;typeof window!="undefined"&&window["pdfjs-dist/build/pdf"]?d=window["pdfjs-dist/build/pdf"]:d=t(66907),D.exports=d},(D,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.NullL10n=void 0,d.fixupLangCode=h,d.getL10nFallback=c;const b={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text_default_content:"Enter text\u2026",editor_free_text_aria_label:"FreeText Editor",editor_ink_aria_label:"Ink Editor",editor_ink_canvas_aria_label:"User-created image"};function c(w,f){switch(w){case"find_match_count":w=`find_match_count[${f.total===1?"one":"other"}]`;break;case"find_match_count_limit":w=`find_match_count_limit[${f.limit===1?"one":"other"}]`;break}return b[w]||""}const x={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function h(w){return x[w==null?void 0:w.toLowerCase()]||w}function k(w,f){return f?w.replace(/\{\{\s*(\w+)\s*\}\}/g,(g,y)=>y in f?f[y]:"{{"+y+"}}"):w}const m={getLanguage(){return st(this,null,function*(){return"en-us"})},getDirection(){return st(this,null,function*(){return"ltr"})},get(f){return st(this,arguments,function*(w){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c(w,g);return k(y,g)})},translate(w){return st(this,null,function*(){})}};d.NullL10n=m},(D,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.AnnotationLayerBuilder=void 0;var c=b(3),x=b(4);class h{constructor(m){let{pageDiv:u,pdfPage:w,linkService:f,downloadManager:g,annotationStorage:y=null,imageResourcesPath:l="",renderForms:n=!0,l10n:a=x.NullL10n,enableScripting:v=!1,hasJSActionsPromise:_=null,fieldObjectsPromise:I=null,mouseState:V=null,annotationCanvasMap:E=null,accessibilityManager:ee=null}=m;this.pageDiv=u,this.pdfPage=w,this.linkService=f,this.downloadManager=g,this.imageResourcesPath=l,this.renderForms=n,this.l10n=a,this.annotationStorage=y,this.enableScripting=v,this._hasJSActionsPromise=_,this._fieldObjectsPromise=I,this._mouseState=V,this._annotationCanvasMap=E,this._accessibilityManager=ee,this.div=null,this._cancelled=!1}render(u){return st(this,arguments,function*(m){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"display";const[f,g=!1,y=null]=yield Promise.all([this.pdfPage.getAnnotations({intent:w}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled||f.length===0)return;const l={viewport:m.clone({dontFlip:!0}),div:this.div,annotations:f,page:this.pdfPage,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:g,fieldObjects:y,mouseState:this._mouseState,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager};this.div?c.AnnotationLayer.update(l):(this.div=document.createElement("div"),this.div.className="annotationLayer",this.pageDiv.append(this.div),l.div=this.div,c.AnnotationLayer.render(l),this.l10n.translate(this.div))})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}d.AnnotationLayerBuilder=h},(D,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.SimpleLinkService=d.PDFLinkService=d.LinkTarget=void 0;var c=b(7);function x(K,O){k(K,O),O.add(K)}function h(K,O,L){k(K,O),O.set(K,L)}function k(K,O){if(O.has(K))throw new TypeError("Cannot initialize the same private elements twice on an object")}function m(K,O,L){return u(K,O),L}function u(K,O){if(K!==O)throw new TypeError("Private static access of wrong provenance")}function w(K,O,L){if(!O.has(K))throw new TypeError("attempted to get private field on non-instance");return L}function f(K,O){var L=g(K,O,"get");return y(K,L)}function g(K,O,L){if(!O.has(K))throw new TypeError("attempted to "+L+" private field on non-instance");return O.get(K)}function y(K,O){return O.get?O.get.call(K):O.value}const l="noopener noreferrer nofollow",n={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};d.LinkTarget=n;function a(K){let{url:O,target:L,rel:T,enabled:B=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!O||typeof O!="string")throw new Error('A valid "url" parameter must provided.');const M=(0,c.removeNullCharacters)(O);B?K.href=K.title=M:(K.href="",K.title=`Disabled: ${M}`,K.onclick=()=>!1);let P="";switch(L){case n.NONE:break;case n.SELF:P="_self";break;case n.BLANK:P="_blank";break;case n.PARENT:P="_parent";break;case n.TOP:P="_top";break}K.target=P,K.rel=typeof T=="string"?T:l}var v=new WeakMap,_=new WeakSet;class I{constructor(){let{eventBus:O,externalLinkTarget:L=null,externalLinkRel:T=null,ignoreDestinationZoom:B=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};x(this,_),h(this,v,{writable:!0,value:new Map}),this.eventBus=O,this.externalLinkTarget=L,this.externalLinkRel=T,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=B,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(O){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.baseUrl=L,this.pdfDocument=O,f(this,v).clear()}setViewer(O){this.pdfViewer=O}setHistory(O){this.pdfHistory=O}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(O){this.pdfViewer.currentPageNumber=O}get rotation(){return this.pdfViewer.pagesRotation}set rotation(O){this.pdfViewer.pagesRotation=O}goToDestination(O){return st(this,null,function*(){if(!this.pdfDocument)return;let L,T;if(typeof O=="string"?(L=O,T=yield this.pdfDocument.getDestination(O)):(L=null,T=yield O),!Array.isArray(T)){console.error(`PDFLinkService.goToDestination: "${T}" is not a valid destination array, for dest="${O}".`);return}w(this,_,V).call(this,O,L,T)})}goToPage(O){if(!this.pdfDocument)return;const L=typeof O=="string"&&this.pdfViewer.pageLabelToPageNumber(O)||O|0;if(!(Number.isInteger(L)&&L>0&&L<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${O}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(L)),this.pdfViewer.scrollPageIntoView({pageNumber:L})}addLinkAttributes(O,L){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;a(O,{url:L,target:T?n.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(O){if(typeof O=="string"){if(O.length>0)return this.getAnchorUrl("#"+escape(O))}else if(Array.isArray(O)){const L=JSON.stringify(O);if(L.length>0)return this.getAnchorUrl("#"+escape(L))}return this.getAnchorUrl("")}getAnchorUrl(O){return(this.baseUrl||"")+O}setHash(O){if(!this.pdfDocument)return;let L,T;if(O.includes("=")){const B=(0,c.parseQueryString)(O);if(B.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:B.get("search").replace(/"/g,""),phraseSearch:B.get("phrase")==="true"}),B.has("page")&&(L=B.get("page")|0||1),B.has("zoom")){const M=B.get("zoom").split(","),P=M[0],Y=parseFloat(P);P.includes("Fit")?P==="Fit"||P==="FitB"?T=[null,{name:P}]:P==="FitH"||P==="FitBH"||P==="FitV"||P==="FitBV"?T=[null,{name:P},M.length>1?M[1]|0:null]:P==="FitR"?M.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):T=[null,{name:P},M[1]|0,M[2]|0,M[3]|0,M[4]|0]:console.error(`PDFLinkService.setHash: "${P}" is not a valid zoom value.`):T=[null,{name:"XYZ"},M.length>1?M[1]|0:null,M.length>2?M[2]|0:null,Y?Y/100:P]}T?this.pdfViewer.scrollPageIntoView({pageNumber:L||this.page,destArray:T,allowNegativeOffset:!0}):L&&(this.page=L),B.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:B.get("pagemode")}),B.has("nameddest")&&this.goToDestination(B.get("nameddest"))}else{T=unescape(O);try{T=JSON.parse(T),Array.isArray(T)||(T=T.toString())}catch(B){}if(typeof T=="string"||m(I,I,E).call(I,T)){this.goToDestination(T);return}console.error(`PDFLinkService.setHash: "${unescape(O)}" is not a valid destination.`)}}executeNamedAction(O){var L,T;switch(O){case"GoBack":(L=this.pdfHistory)===null||L===void 0||L.back();break;case"GoForward":(T=this.pdfHistory)===null||T===void 0||T.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break;default:break}this.eventBus.dispatch("namedaction",{source:this,action:O})}cachePageRef(O,L){if(!L)return;const T=L.gen===0?`${L.num}R`:`${L.num}R${L.gen}`;f(this,v).set(T,O)}_cachedPageNumber(O){if(!O)return null;const L=O.gen===0?`${O.num}R`:`${O.num}R${O.gen}`;return f(this,v).get(L)||null}isPageVisible(O){return this.pdfViewer.isPageVisible(O)}isPageCached(O){return this.pdfViewer.isPageCached(O)}}d.PDFLinkService=I;function V(K){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,L=arguments.length>2?arguments[2]:void 0;const T=L[0];let B;if(typeof T=="object"&&T!==null){if(B=this._cachedPageNumber(T),!B){this.pdfDocument.getPageIndex(T).then(M=>{this.cachePageRef(M+1,T),w(this,_,V).call(this,K,O,L)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${T}" is not a valid page reference, for dest="${K}".`)});return}}else if(Number.isInteger(T))B=T+1;else{console.error(`PDFLinkService.#goToDestinationHelper: "${T}" is not a valid destination reference, for dest="${K}".`);return}if(!B||B<1||B>this.pagesCount){console.error(`PDFLinkService.#goToDestinationHelper: "${B}" is not a valid page number, for dest="${K}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:O,explicitDest:L,pageNumber:B})),this.pdfViewer.scrollPageIntoView({pageNumber:B,destArray:L,ignoreDestinationZoom:this._ignoreDestinationZoom})}function E(K){if(!Array.isArray(K))return!1;const O=K.length;if(O<2)return!1;const L=K[0];if(!(typeof L=="object"&&Number.isInteger(L.num)&&Number.isInteger(L.gen))&&!(Number.isInteger(L)&&L>=0))return!1;const T=K[1];if(!(typeof T=="object"&&typeof T.name=="string"))return!1;let B=!0;switch(T.name){case"XYZ":if(O!==5)return!1;break;case"Fit":case"FitB":return O===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(O!==3)return!1;break;case"FitR":if(O!==6)return!1;B=!1;break;default:return!1}for(let M=2;M<O;M++){const P=K[M];if(!(typeof P=="number"||B&&P===null))return!1}return!0}class ee{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(O){}get rotation(){return 0}set rotation(O){}goToDestination(O){return st(this,null,function*(){})}goToPage(O){}addLinkAttributes(O,L){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;a(O,{url:L,enabled:this.externalLinkEnabled})}getDestinationHash(O){return"#"}getAnchorUrl(O){return"#"}setHash(O){}executeNamedAction(O){}cachePageRef(O,L){}isPageVisible(O){return!0}isPageCached(O){return!0}}d.SimpleLinkService=ee},(D,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.animationStarted=d.VERTICAL_PADDING=d.UNKNOWN_SCALE=d.TextLayerMode=d.SpreadMode=d.SidebarView=d.ScrollMode=d.SCROLLBAR_PADDING=d.RenderingStates=d.RendererType=d.ProgressBar=d.PresentationModeState=d.OutputScale=d.MIN_SCALE=d.MAX_SCALE=d.MAX_AUTO_SCALE=d.DEFAULT_SCALE_VALUE=d.DEFAULT_SCALE_DELTA=d.DEFAULT_SCALE=d.AutoPrintRegExp=void 0,d.apiPageLayoutToViewerModes=qe,d.apiPageModeToSidebarView=We,d.approximateFraction=S,d.backtrackBeforeAllVisibleElements=$,d.binarySearchFirstItem=z,d.docStyle=void 0,d.getActiveOrFocusedElement=$e,d.getPageSizeInches=j,d.getVisibleElements=p,d.isPortraitOrientation=ge,d.isValidRotation=q,d.isValidScrollMode=te,d.isValidSpreadMode=le,d.noContextMenuHandler=R,d.normalizeWheelEventDelta=U,d.normalizeWheelEventDirection=F,d.parseQueryString=Y,d.removeNullCharacters=_e,d.roundToDivide=A,d.scrollIntoView=M,d.watchScroll=P;function b(Oe,Ne,ze){c(Oe,Ne),Ne.set(Oe,ze)}function c(Oe,Ne){if(Ne.has(Oe))throw new TypeError("Cannot initialize the same private elements twice on an object")}function x(Oe,Ne){var ze=m(Oe,Ne,"get");return h(Oe,ze)}function h(Oe,Ne){return Ne.get?Ne.get.call(Oe):Ne.value}function k(Oe,Ne,ze){var xe=m(Oe,Ne,"set");return u(Oe,xe,ze),ze}function m(Oe,Ne,ze){if(!Ne.has(Oe))throw new TypeError("attempted to "+ze+" private field on non-instance");return Ne.get(Oe)}function u(Oe,Ne,ze){if(Ne.set)Ne.set.call(Oe,ze);else{if(!Ne.writable)throw new TypeError("attempted to set read only private field");Ne.value=ze}}const w="auto";d.DEFAULT_SCALE_VALUE=w;const f=1;d.DEFAULT_SCALE=f;const g=1.1;d.DEFAULT_SCALE_DELTA=g;const y=.1;d.MIN_SCALE=y;const l=10;d.MAX_SCALE=l;const n=0;d.UNKNOWN_SCALE=n;const a=1.25;d.MAX_AUTO_SCALE=a;const v=40;d.SCROLLBAR_PADDING=v;const _=5;d.VERTICAL_PADDING=_;const I={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};d.RenderingStates=I;const V={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};d.PresentationModeState=V;const E={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};d.SidebarView=E;const ee={CANVAS:"canvas",SVG:"svg"};d.RendererType=ee;const K={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};d.TextLayerMode=K;const O={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};d.ScrollMode=O;const L={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};d.SpreadMode=L;const T=/\bprint\s*\(/;d.AutoPrintRegExp=T;class B{constructor(){const Ne=window.devicePixelRatio||1;this.sx=Ne,this.sy=Ne}get scaled(){return this.sx!==1||this.sy!==1}}d.OutputScale=B;function M(Oe,Ne){let ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,xe=Oe.offsetParent;if(!xe){console.error("offsetParent is not set -- cannot scroll");return}let he=Oe.offsetTop+Oe.clientTop,ye=Oe.offsetLeft+Oe.clientLeft;for(;xe.clientHeight===xe.scrollHeight&&xe.clientWidth===xe.scrollWidth||ze&&(xe.classList.contains("markedContent")||getComputedStyle(xe).overflow==="hidden");)if(he+=xe.offsetTop,ye+=xe.offsetLeft,xe=xe.offsetParent,!xe)return;Ne&&(Ne.top!==void 0&&(he+=Ne.top),Ne.left!==void 0&&(ye+=Ne.left,xe.scrollLeft=ye)),xe.scrollTop=he}function P(Oe,Ne){const ze=function(ye){he||(he=window.requestAnimationFrame(function(){he=null;const ve=Oe.scrollLeft,oe=xe.lastX;ve!==oe&&(xe.right=ve>oe),xe.lastX=ve;const Te=Oe.scrollTop,Fe=xe.lastY;Te!==Fe&&(xe.down=Te>Fe),xe.lastY=Te,Ne(xe)}))},xe={right:!0,down:!0,lastX:Oe.scrollLeft,lastY:Oe.scrollTop,_eventHandler:ze};let he=null;return Oe.addEventListener("scroll",ze,!0),xe}function Y(Oe){const Ne=new Map;for(const[ze,xe]of new URLSearchParams(Oe))Ne.set(ze.toLowerCase(),xe);return Ne}const Z=/\x00/g,J=/[\x01-\x1F]/g;function _e(Oe){let Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof Oe!="string"?(console.error("The argument must be a string."),Oe):(Ne&&(Oe=Oe.replace(J," ")),Oe.replace(Z,""))}function z(Oe,Ne){let xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,he=Oe.length-1;if(he<0||!Ne(Oe[he]))return Oe.length;if(Ne(Oe[xe]))return xe;for(;xe<he;){const ye=xe+he>>1,Q=Oe[ye];Ne(Q)?he=ye:xe=ye+1}return xe}function S(Oe){if(Math.floor(Oe)===Oe)return[Oe,1];const Ne=1/Oe,ze=8;if(Ne>ze)return[1,ze];if(Math.floor(Ne)===Ne)return[1,Ne];const xe=Oe>1?Ne:Oe;let he=0,ye=1,Q=1,ve=1;for(;;){const Te=he+Q,Fe=ye+ve;if(Fe>ze)break;xe<=Te/Fe?(Q=Te,ve=Fe):(he=Te,ye=Fe)}let oe;return xe-he/ye<Q/ve-xe?oe=xe===Oe?[he,ye]:[ye,he]:oe=xe===Oe?[Q,ve]:[ve,Q],oe}function A(Oe,Ne){const ze=Oe%Ne;return ze===0?Oe:Math.round(Oe-ze+Ne)}function j(Oe){let{view:Ne,userUnit:ze,rotate:xe}=Oe;const[he,ye,Q,ve]=Ne,oe=xe%180!==0,Te=(Q-he)/72*ze,Fe=(ve-ye)/72*ze;return{width:oe?Fe:Te,height:oe?Te:Fe}}function $(Oe,Ne,ze){if(Oe<2)return Oe;let xe=Ne[Oe].div,he=xe.offsetTop+xe.clientTop;he>=ze&&(xe=Ne[Oe-1].div,he=xe.offsetTop+xe.clientTop);for(let ye=Oe-2;ye>=0&&(xe=Ne[ye].div,!(xe.offsetTop+xe.clientTop+xe.clientHeight<=he));--ye)Oe=ye;return Oe}function p(Oe){let{scrollEl:Ne,views:ze,sortByVisibility:xe=!1,horizontal:he=!1,rtl:ye=!1}=Oe;const Q=Ne.scrollTop,ve=Q+Ne.clientHeight,oe=Ne.scrollLeft,Te=oe+Ne.clientWidth;function Fe(Ce){const De=Ce.div;return De.offsetTop+De.clientTop+De.clientHeight>Q}function me(Ce){const De=Ce.div,Ve=De.offsetLeft+De.clientLeft,Ye=Ve+De.clientWidth;return ye?Ve<Te:Ye>oe}const ae=[],ue=new Set,Me=ze.length;let je=z(ze,he?me:Fe);je>0&&je<Me&&!he&&(je=$(je,ze,Q));let Re=he?Te:-1;for(let Ce=je;Ce<Me;Ce++){const De=ze[Ce],Ve=De.div,Ye=Ve.offsetLeft+Ve.clientLeft,et=Ve.offsetTop+Ve.clientTop,it=Ve.clientWidth,Ge=Ve.clientHeight,nt=Ye+it,se=et+Ge;if(Re===-1)se>=ve&&(Re=se);else if((he?Ye:et)>Re)break;if(se<=Q||et>=ve||nt<=oe||Ye>=Te)continue;const ne=Math.max(0,Q-et)+Math.max(0,se-ve),X=Math.max(0,oe-Ye)+Math.max(0,nt-Te),G=(Ge-ne)/Ge,ie=(it-X)/it,pe=G*ie*100|0;ae.push({id:De.id,x:Ye,y:et,view:De,percent:pe,widthPercent:ie*100|0}),ue.add(De.id)}const ce=ae[0],de=ae.at(-1);return xe&&ae.sort(function(Ce,De){const Ve=Ce.percent-De.percent;return Math.abs(Ve)>.001?-Ve:Ce.id-De.id}),{first:ce,last:de,views:ae,ids:ue}}function R(Oe){Oe.preventDefault()}function F(Oe){let Ne=Math.hypot(Oe.deltaX,Oe.deltaY);const ze=Math.atan2(Oe.deltaY,Oe.deltaX);return-.25*Math.PI<ze&&ze<.75*Math.PI&&(Ne=-Ne),Ne}function U(Oe){let Ne=F(Oe);const ze=0,xe=1,he=30,ye=30;return Oe.deltaMode===ze?Ne/=he*ye:Oe.deltaMode===xe&&(Ne/=ye),Ne}function q(Oe){return Number.isInteger(Oe)&&Oe%90===0}function te(Oe){return Number.isInteger(Oe)&&Object.values(O).includes(Oe)&&Oe!==O.UNKNOWN}function le(Oe){return Number.isInteger(Oe)&&Object.values(L).includes(Oe)&&Oe!==L.UNKNOWN}function ge(Oe){return Oe.width<=Oe.height}const Se=new Promise(function(Oe){window.requestAnimationFrame(Oe)});d.animationStarted=Se;const Ae=document.documentElement.style;d.docStyle=Ae;function Pe(Oe,Ne,ze){return Math.min(Math.max(Oe,Ne),ze)}var Ee=new WeakMap,ke=new WeakMap,Be=new WeakMap;class Ue{constructor(Ne){if(b(this,Ee,{writable:!0,value:null}),b(this,ke,{writable:!0,value:0}),b(this,Be,{writable:!0,value:!0}),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");const ze=document.getElementById(Ne);k(this,Ee,ze.classList)}get percent(){return x(this,ke)}set percent(Ne){if(k(this,ke,Pe(Ne,0,100)),isNaN(Ne)){x(this,Ee).add("indeterminate");return}x(this,Ee).remove("indeterminate"),Ae.setProperty("--progressBar-percent",`${x(this,ke)}%`)}setWidth(Ne){if(!Ne)return;const xe=Ne.parentNode.offsetWidth-Ne.offsetWidth;xe>0&&Ae.setProperty("--progressBar-end-offset",`${xe}px`)}hide(){x(this,Be)&&(k(this,Be,!1),x(this,Ee).add("hidden"))}show(){x(this,Be)||(k(this,Be,!0),x(this,Ee).remove("hidden"))}}d.ProgressBar=Ue;function $e(){let Oe=document,Ne=Oe.activeElement||Oe.querySelector(":focus");for(;(ze=Ne)!==null&&ze!==void 0&&ze.shadowRoot;){var ze;Oe=Ne.shadowRoot,Ne=Oe.activeElement||Oe.querySelector(":focus")}return Ne}function qe(Oe){let Ne=O.VERTICAL,ze=L.NONE;switch(Oe){case"SinglePage":Ne=O.PAGE;break;case"OneColumn":break;case"TwoPageLeft":Ne=O.PAGE;case"TwoColumnLeft":ze=L.ODD;break;case"TwoPageRight":Ne=O.PAGE;case"TwoColumnRight":ze=L.EVEN;break}return{scrollMode:Ne,spreadMode:ze}}function We(Oe){switch(Oe){case"UseNone":return E.NONE;case"UseThumbs":return E.THUMBS;case"UseOutlines":return E.OUTLINE;case"UseAttachments":return E.ATTACHMENTS;case"UseOC":return E.LAYERS}return E.NONE}},(D,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StructTreeLayerBuilder=void 0;const b={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},c=/^H(\d+)$/;class x{constructor(k){let{pdfPage:m}=k;this.pdfPage=m}render(k){return this._walk(k)}_setAttributes(k,m){k.alt!==void 0&&m.setAttribute("aria-label",k.alt),k.id!==void 0&&m.setAttribute("aria-owns",k.id),k.lang!==void 0&&m.setAttribute("lang",k.lang)}_walk(k){if(!k)return null;const m=document.createElement("span");if("role"in k){const{role:u}=k,w=u.match(c);w?(m.setAttribute("role","heading"),m.setAttribute("aria-level",w[1])):b[u]&&m.setAttribute("role",b[u])}if(this._setAttributes(k,m),k.children)if(k.children.length===1&&"id"in k.children[0])this._setAttributes(k.children[0],m);else for(const u of k.children)m.append(this._walk(u));return m}}d.StructTreeLayerBuilder=x},(D,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TextLayerBuilder=void 0;var c=b(3);const x=300;class h{constructor(m){let{textLayerDiv:u,eventBus:w,pageIndex:f,viewport:g,highlighter:y=null,enhanceTextSelection:l=!1,accessibilityManager:n=null}=m;this.textLayerDiv=u,this.eventBus=w,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=f+1,this.viewport=g,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=y,this.enhanceTextSelection=l,this.accessibilityManager=n,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const m=document.createElement("div");m.className="endOfContent",this.textLayerDiv.append(m)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(){var m,u;let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(!(this.textContent||this.textContentStream)||this.renderingDone)return;this.cancel(),this.textDivs.length=0,(m=this.highlighter)===null||m===void 0||m.setTextMapping(this.textDivs,this.textContentItemsStr),(u=this.accessibilityManager)===null||u===void 0||u.setTextMapping(this.textDivs);const f=document.createDocumentFragment();this.textLayerRenderTask=(0,c.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:f,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:w,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{var g,y;this.textLayerDiv.append(f),this._finishRendering(),(g=this.highlighter)===null||g===void 0||g.enable(),(y=this.accessibilityManager)===null||y===void 0||y.enable()},function(g){})}cancel(){var m,u;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),(m=this.highlighter)===null||m===void 0||m.disable(),(u=this.accessibilityManager)===null||u===void 0||u.disable()}setTextContentStream(m){this.cancel(),this.textContentStream=m}setTextContent(m){this.cancel(),this.textContent=m}_bindMouse(){const m=this.textLayerDiv;let u=null;m.addEventListener("mousedown",w=>{if(this.enhanceTextSelection&&this.textLayerRenderTask){this.textLayerRenderTask.expandTextDivs(!0),u&&(clearTimeout(u),u=null);return}const f=m.querySelector(".endOfContent");if(!f)return;let g=w.target!==m;if(g=g&&window.getComputedStyle(f).getPropertyValue("-moz-user-select")!=="none",g){const y=m.getBoundingClientRect(),l=Math.max(0,(w.pageY-y.top)/y.height);f.style.top=(l*100).toFixed(2)+"%"}f.classList.add("active")}),m.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask){u=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),u=null},x);return}const w=m.querySelector(".endOfContent");w&&(w.style.top="",w.classList.remove("active"))})}}d.TextLayerBuilder=h},(D,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.XfaLayerBuilder=void 0;var c=b(3);class x{constructor(k){let{pageDiv:m,pdfPage:u,annotationStorage:w=null,linkService:f,xfaHtml:g=null}=k;this.pageDiv=m,this.pdfPage=u,this.annotationStorage=w,this.linkService=f,this.xfaHtml=g,this.div=null,this._cancelled=!1}render(k){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"display";if(m==="print"){const u={viewport:k.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:m},w=document.createElement("div");this.pageDiv.append(w),u.div=w;const f=c.XfaLayer.render(u);return Promise.resolve(f)}return this.pdfPage.getXfa().then(u=>{if(this._cancelled||!u)return{textDivs:[]};const w={viewport:k.clone({dontFlip:!0}),div:this.div,xfaHtml:u,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:m};return this.div?c.XfaLayer.update(w):(this.div=document.createElement("div"),this.pageDiv.append(this.div),w.div=this.div,c.XfaLayer.render(w))}).catch(u=>{console.error(u)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}d.XfaLayerBuilder=x},(D,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFViewer=d.PDFSinglePageViewer=void 0;var c=b(7),x=b(12);class h extends x.BaseViewer{}d.PDFViewer=h;class k extends x.BaseViewer{_resetView(){super._resetView(),this._scrollMode=c.ScrollMode.PAGE,this._spreadMode=c.SpreadMode.NONE}set scrollMode(u){}_updateScrollMode(){}set spreadMode(u){}_updateSpreadMode(){}}d.PDFSinglePageViewer=k},(D,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PagesCountLimit=d.PDFPageViewBuffer=d.BaseViewer=void 0;var c=b(3),x=b(7),h=b(2),k=b(5),m=b(4),u=b(13),w=b(16),f=b(6),g=b(8),y=b(17),l=b(9),n=b(10);let a;function v(ye,Q){I(ye,Q),Q.add(ye)}function _(ye,Q,ve){I(ye,Q),Q.set(ye,ve)}function I(ye,Q){if(Q.has(ye))throw new TypeError("Cannot initialize the same private elements twice on an object")}function V(ye,Q,ve){if(!Q.has(ye))throw new TypeError("attempted to get private field on non-instance");return ve}function E(ye,Q){var ve=O(ye,Q,"get");return ee(ye,ve)}function ee(ye,Q){return Q.get?Q.get.call(ye):Q.value}function K(ye,Q,ve){var oe=O(ye,Q,"set");return L(ye,oe,ve),ve}function O(ye,Q,ve){if(!Q.has(ye))throw new TypeError("attempted to "+ve+" private field on non-instance");return Q.get(ye)}function L(ye,Q,ve){if(Q.set)Q.set.call(ye,ve);else{if(!Q.writable)throw new TypeError("attempted to set read only private field");Q.value=ve}}const T=10,B="enablePermissions",M={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};d.PagesCountLimit=M;function P(ye){return Object.values(c.AnnotationEditorType).includes(ye)&&ye!==c.AnnotationEditorType.DISABLE}var Y=new WeakMap,Z=new WeakMap,J=new WeakSet;a=Symbol.iterator;class _e{constructor(Q){v(this,J),_(this,Y,{writable:!0,value:new Set}),_(this,Z,{writable:!0,value:0}),K(this,Z,Q)}push(Q){const ve=E(this,Y);ve.has(Q)&&ve.delete(Q),ve.add(Q),ve.size>E(this,Z)&&V(this,J,z).call(this)}resize(Q){let ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;K(this,Z,Q);const oe=E(this,Y);if(ve){const Te=oe.size;let Fe=1;for(const me of oe)if(ve.has(me.id)&&(oe.delete(me),oe.add(me)),++Fe>Te)break}for(;oe.size>E(this,Z);)V(this,J,z).call(this)}has(Q){return E(this,Y).has(Q)}[a](){return E(this,Y).keys()}}d.PDFPageViewBuffer=_e;function z(){const ye=E(this,Y).keys().next().value;ye==null||ye.destroy(),E(this,Y).delete(ye)}var S=new WeakMap,A=new WeakMap,j=new WeakMap,$=new WeakMap,p=new WeakMap,R=new WeakMap,F=new WeakMap,U=new WeakMap,q=new WeakSet,te=new WeakSet,le=new WeakSet,ge=new WeakSet,Se=new WeakSet,Ae=new WeakSet,Pe=new WeakSet,Ee=new WeakSet,ke=new WeakSet;class Be{constructor(Q){var ve,oe,Te,Fe,me;if(v(this,ke),v(this,Ee),v(this,Pe),v(this,Ae),v(this,Se),v(this,ge),v(this,le),v(this,te),v(this,q),_(this,S,{writable:!0,value:null}),_(this,A,{writable:!0,value:c.AnnotationEditorType.DISABLE}),_(this,j,{writable:!0,value:null}),_(this,$,{writable:!0,value:c.AnnotationMode.ENABLE_FORMS}),_(this,p,{writable:!0,value:!1}),_(this,R,{writable:!0,value:0}),_(this,F,{writable:!0,value:null}),_(this,U,{writable:!0,value:null}),this.constructor===Be)throw new Error("Cannot initialize BaseViewer.");const ae="2.16.105";if(c.version!==ae)throw new Error(`The API version "${c.version}" does not match the Viewer version "${ae}".`);if(this.container=Q.container,this.viewer=Q.viewer||Q.container.firstElementChild,!(((ve=this.container)===null||ve===void 0?void 0:ve.tagName.toUpperCase())==="DIV"&&((oe=this.viewer)===null||oe===void 0?void 0:oe.tagName.toUpperCase())==="DIV"))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.eventBus=Q.eventBus,this.linkService=Q.linkService||new f.SimpleLinkService,this.downloadManager=Q.downloadManager||null,this.findController=Q.findController||null,this._scriptingManager=Q.scriptingManager||null,this.removePageBorders=Q.removePageBorders||!1,this.textLayerMode=(Te=Q.textLayerMode)!==null&&Te!==void 0?Te:x.TextLayerMode.ENABLE,K(this,$,(Fe=Q.annotationMode)!==null&&Fe!==void 0?Fe:c.AnnotationMode.ENABLE_FORMS),K(this,A,(me=Q.annotationEditorMode)!==null&&me!==void 0?me:c.AnnotationEditorType.DISABLE),this.imageResourcesPath=Q.imageResourcesPath||"",this.enablePrintAutoRotate=Q.enablePrintAutoRotate||!1,this.renderer=Q.renderer||x.RendererType.CANVAS,this.useOnlyCssZoom=Q.useOnlyCssZoom||!1,this.maxCanvasPixels=Q.maxCanvasPixels,this.l10n=Q.l10n||m.NullL10n,K(this,p,Q.enablePermissions||!1),this.pageColors=Q.pageColors||null,this.pageColors&&!(CSS.supports("color",this.pageColors.background)&&CSS.supports("color",this.pageColors.foreground))&&((this.pageColors.background||this.pageColors.foreground)&&console.warn("BaseViewer: Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!Q.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new w.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=Q.renderingQueue,this.scroll=(0,x.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=x.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss()}get pagesCount(){return this._pages.length}getPageView(Q){return this._pages[Q]}get pageViewsReady(){return this._pagesCapability.settled?this._pages.every(function(Q){return Q==null?void 0:Q.pdfPage}):!1}get renderForms(){return E(this,$)===c.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(Q){if(!Number.isInteger(Q))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(Q,!0)||console.error(`currentPageNumber: "${Q}" is not a valid page.`))}_setCurrentPageNumber(Q){var ve,oe;let Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this._currentPageNumber===Q)return Te&&V(this,Ae,Ne).call(this),!0;if(!(0<Q&&Q<=this.pagesCount))return!1;const Fe=this._currentPageNumber;return this._currentPageNumber=Q,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:Q,pageLabel:(ve=(oe=this._pageLabels)===null||oe===void 0?void 0:oe[Q-1])!==null&&ve!==void 0?ve:null,previous:Fe}),Te&&V(this,Ae,Ne).call(this),!0}get currentPageLabel(){var Q,ve;return(Q=(ve=this._pageLabels)===null||ve===void 0?void 0:ve[this._currentPageNumber-1])!==null&&Q!==void 0?Q:null}set currentPageLabel(Q){if(!this.pdfDocument)return;let ve=Q|0;if(this._pageLabels){const oe=this._pageLabels.indexOf(Q);oe>=0&&(ve=oe+1)}this._setCurrentPageNumber(ve,!0)||console.error(`currentPageLabel: "${Q}" is not a valid page.`)}get currentScale(){return this._currentScale!==x.UNKNOWN_SCALE?this._currentScale:x.DEFAULT_SCALE}set currentScale(Q){if(isNaN(Q))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(Q,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(Q){this.pdfDocument&&this._setScale(Q,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(Q){if(!(0,x.isValidRotation)(Q))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(Q%=360,Q<0&&(Q+=360),this._pagesRotation===Q))return;this._pagesRotation=Q;const ve=this._currentPageNumber,oe={rotation:Q};for(const Te of this._pages)Te.update(oe);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:Q,pageNumber:ve}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(Q){if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null),E(this,j)&&(E(this,j).destroy(),K(this,j,null))),this.pdfDocument=Q,!Q)return;const ve=Q.isPureXfa,oe=Q.numPages,Te=Q.getPage(1),Fe=Q.getOptionalContentConfig(),me=E(this,p)?Q.getPermissions():Promise.resolve();if(oe>M.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const ae=this._scrollMode=x.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:ae})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:oe})},()=>{}),this._onBeforeDraw=ae=>{const ue=this._pages[ae.pageNumber-1];ue&&E(this,S).push(ue)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=ae=>{ae.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:ae.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,E(this,U)&&(document.removeEventListener("visibilitychange",E(this,U)),K(this,U,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([Te,me]).then(ae=>{let[ue,Me]=ae;if(Q!==this.pdfDocument)return;this._firstPageCapability.resolve(ue),this._optionalContentConfigPromise=Fe;const{annotationEditorMode:je,annotationMode:Re,textLayerMode:ce}=V(this,q,Ue).call(this,Me);if(je!==c.AnnotationEditorType.DISABLE){const nt=je;ve?console.warn("Warning: XFA-editing is not implemented."):P(nt)?(K(this,j,new c.AnnotationEditorUIManager(this.container,this.eventBus)),nt!==c.AnnotationEditorType.NONE&&E(this,j).updateMode(nt)):console.error(`Invalid AnnotationEditor mode: ${nt}`)}const de=this._scrollMode===x.ScrollMode.PAGE?null:this.viewer,Ce=this.currentScale,De=ue.getViewport({scale:Ce*c.PixelsPerInch.PDF_TO_CSS_UNITS}),Ve=ce!==x.TextLayerMode.DISABLE&&!ve?this:null,Ye=Re!==c.AnnotationMode.DISABLE?this:null,et=ve?this:null,it=E(this,j)?this:null;for(let nt=1;nt<=oe;++nt){const se=new u.PDFPageView({container:de,eventBus:this.eventBus,id:nt,scale:Ce,defaultViewport:De.clone(),optionalContentConfigPromise:Fe,renderingQueue:this.renderingQueue,textLayerFactory:Ve,textLayerMode:ce,annotationLayerFactory:Ye,annotationMode:Re,xfaLayerFactory:et,annotationEditorLayerFactory:it,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(se)}const Ge=this._pages[0];Ge&&(Ge.setPdfPage(ue),this.linkService.cachePageRef(1,ue.ref)),this._scrollMode===x.ScrollMode.PAGE?V(this,le,qe).call(this):this._spreadMode!==x.SpreadMode.NONE&&this._updateSpreadMode(),V(this,te,$e).call(this).then(()=>st(this,null,function*(){if(this.findController&&this.findController.setDocument(Q),this._scriptingManager&&this._scriptingManager.setDocument(Q),E(this,j)&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:E(this,A)}),Q.loadingParams.disableAutoFetch||oe>M.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let nt=oe-1;if(nt<=0){this._pagesCapability.resolve();return}for(let se=2;se<=oe;++se){const ne=Q.getPage(se).then(X=>{const G=this._pages[se-1];G.pdfPage||G.setPdfPage(X),this.linkService.cachePageRef(se,X.ref),--nt===0&&this._pagesCapability.resolve()},X=>{console.error(`Unable to get page ${se} to initialize viewer`,X),--nt===0&&this._pagesCapability.resolve()});se%M.PAUSE_EAGER_PAGE_INIT===0&&(yield ne)}})),this.eventBus.dispatch("pagesinit",{source:this}),Q.getMetadata().then(nt=>{let{info:se}=nt;Q===this.pdfDocument&&se.Language&&(this.viewer.lang=se.Language)}),this.defaultRenderingQueue&&this.update()}).catch(ae=>{console.error("Unable to initialize viewer",ae),this._pagesCapability.reject(ae)})}setPageLabels(Q){if(this.pdfDocument){Q?Array.isArray(Q)&&this.pdfDocument.numPages===Q.length?this._pageLabels=Q:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let Te=0,Fe=this._pages.length;Te<Fe;Te++){var ve,oe;this._pages[Te].setPageLabel((ve=(oe=this._pageLabels)===null||oe===void 0?void 0:oe[Te])!==null&&ve!==void 0?ve:null)}}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=x.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,K(this,S,new _e(T)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,c.createPromiseCapability)(),this._onePageRenderedCapability=(0,c.createPromiseCapability)(),this._pagesCapability=(0,c.createPromiseCapability)(),this._scrollMode=x.ScrollMode.VERTICAL,this._previousScrollMode=x.ScrollMode.UNKNOWN,this._spreadMode=x.SpreadMode.NONE,K(this,F,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),E(this,U)&&(document.removeEventListener("visibilitychange",E(this,U)),K(this,U,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(B)}_scrollUpdate(){this.pagesCount!==0&&this.update()}_setScaleUpdatePages(Q,ve){let oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Te=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this._currentScaleValue=ve.toString(),V(this,Se,Oe).call(this,Q)){Te&&this.eventBus.dispatch("scalechanging",{source:this,scale:Q,presetValue:ve});return}x.docStyle.setProperty("--scale-factor",Q*c.PixelsPerInch.PDF_TO_CSS_UNITS);const Fe={scale:Q};for(const me of this._pages)me.update(Fe);if(this._currentScale=Q,!oe){let me=this._currentPageNumber,ae;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(me=this._location.pageNumber,ae=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:me,destArray:ae,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:Q,presetValue:Te?ve:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==x.SpreadMode.NONE&&this._scrollMode!==x.ScrollMode.HORIZONTAL?2:1}_setScale(Q){let ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,oe=parseFloat(Q);if(oe>0)this._setScaleUpdatePages(oe,Q,ve,!1);else{const Te=this._pages[this._currentPageNumber-1];if(!Te)return;let Fe=x.SCROLLBAR_PADDING,me=x.VERTICAL_PADDING;this.isInPresentationMode?Fe=me=4:this.removePageBorders?Fe=me=0:this._scrollMode===x.ScrollMode.HORIZONTAL&&([Fe,me]=[me,Fe]);const ae=(this.container.clientWidth-Fe)/Te.width*Te.scale/this._pageWidthScaleFactor,ue=(this.container.clientHeight-me)/Te.height*Te.scale;switch(Q){case"page-actual":oe=1;break;case"page-width":oe=ae;break;case"page-height":oe=ue;break;case"page-fit":oe=Math.min(ae,ue);break;case"auto":const Me=(0,x.isPortraitOrientation)(Te)?ae:Math.min(ue,ae);oe=Math.min(x.MAX_AUTO_SCALE,Me);break;default:console.error(`_setScale: "${Q}" is an unknown zoom value.`);return}this._setScaleUpdatePages(oe,Q,ve,!0)}}pageLabelToPageNumber(Q){if(!this._pageLabels)return null;const ve=this._pageLabels.indexOf(Q);return ve<0?null:ve+1}scrollPageIntoView(Q){let{pageNumber:ve,destArray:oe=null,allowNegativeOffset:Te=!1,ignoreDestinationZoom:Fe=!1}=Q;if(!this.pdfDocument)return;const me=Number.isInteger(ve)&&this._pages[ve-1];if(!me){console.error(`scrollPageIntoView: "${ve}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!oe){this._setCurrentPageNumber(ve,!0);return}let ae=0,ue=0,Me=0,je=0,Re,ce;const de=me.rotation%180!==0,Ce=(de?me.height:me.width)/me.scale/c.PixelsPerInch.PDF_TO_CSS_UNITS,De=(de?me.width:me.height)/me.scale/c.PixelsPerInch.PDF_TO_CSS_UNITS;let Ve=0;switch(oe[1].name){case"XYZ":ae=oe[2],ue=oe[3],Ve=oe[4],ae=ae!==null?ae:0,ue=ue!==null?ue:De;break;case"Fit":case"FitB":Ve="page-fit";break;case"FitH":case"FitBH":ue=oe[2],Ve="page-width",ue===null&&this._location?(ae=this._location.left,ue=this._location.top):(typeof ue!="number"||ue<0)&&(ue=De);break;case"FitV":case"FitBV":ae=oe[2],Me=Ce,je=De,Ve="page-height";break;case"FitR":ae=oe[2],ue=oe[3],Me=oe[4]-ae,je=oe[5]-ue;const Ge=this.removePageBorders?0:x.SCROLLBAR_PADDING,nt=this.removePageBorders?0:x.VERTICAL_PADDING;Re=(this.container.clientWidth-Ge)/Me/c.PixelsPerInch.PDF_TO_CSS_UNITS,ce=(this.container.clientHeight-nt)/je/c.PixelsPerInch.PDF_TO_CSS_UNITS,Ve=Math.min(Math.abs(Re),Math.abs(ce));break;default:console.error(`scrollPageIntoView: "${oe[1].name}" is not a valid destination type.`);return}if(Fe||(Ve&&Ve!==this._currentScale?this.currentScaleValue=Ve:this._currentScale===x.UNKNOWN_SCALE&&(this.currentScaleValue=x.DEFAULT_SCALE_VALUE)),Ve==="page-fit"&&!oe[4]){V(this,ge,We).call(this,me);return}const Ye=[me.viewport.convertToViewportPoint(ae,ue),me.viewport.convertToViewportPoint(ae+Me,ue+je)];let et=Math.min(Ye[0][0],Ye[1][0]),it=Math.min(Ye[0][1],Ye[1][1]);Te||(et=Math.max(et,0),it=Math.max(it,0)),V(this,ge,We).call(this,me,{left:et,top:it})}_updateLocation(Q){const ve=this._currentScale,oe=this._currentScaleValue,Te=parseFloat(oe)===ve?Math.round(ve*1e4)/100:oe,Fe=Q.id,me=this._pages[Fe-1],ae=this.container,ue=me.getPagePoint(ae.scrollLeft-Q.x,ae.scrollTop-Q.y),Me=Math.round(ue[0]),je=Math.round(ue[1]);let Re=`#page=${Fe}`;this.isInPresentationMode||(Re+=`&zoom=${Te},${Me},${je}`),this._location={pageNumber:Fe,scale:Te,top:je,left:Me,rotation:this._pagesRotation,pdfOpenParams:Re}}update(){const Q=this._getVisiblePages(),ve=Q.views,oe=ve.length;if(oe===0)return;const Te=Math.max(T,2*oe+1);E(this,S).resize(Te,Q.ids),this.renderingQueue.renderHighestPriority(Q);const Fe=this._spreadMode===x.SpreadMode.NONE&&(this._scrollMode===x.ScrollMode.PAGE||this._scrollMode===x.ScrollMode.VERTICAL),me=this._currentPageNumber;let ae=!1;for(const ue of ve){if(ue.percent<100)break;if(ue.id===me&&Fe){ae=!0;break}}this._setCurrentPageNumber(ae?me:ve[0].id),this._updateLocation(Q.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(Q){return this.container.contains(Q)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===x.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===x.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const Q=this._scrollMode===x.ScrollMode.PAGE?E(this,F).pages:this._pages,ve=this._scrollMode===x.ScrollMode.HORIZONTAL,oe=ve&&this._isContainerRtl;return(0,x.getVisibleElements)({scrollEl:this.container,views:Q,sortByVisibility:!0,horizontal:ve,rtl:oe})}isPageVisible(Q){return this.pdfDocument?Number.isInteger(Q)&&Q>0&&Q<=this.pagesCount?this._getVisiblePages().ids.has(Q):(console.error(`isPageVisible: "${Q}" is not a valid page.`),!1):!1}isPageCached(Q){if(!this.pdfDocument)return!1;if(!(Number.isInteger(Q)&&Q>0&&Q<=this.pagesCount))return console.error(`isPageCached: "${Q}" is not a valid page.`),!1;const ve=this._pages[Q-1];return E(this,S).has(ve)}cleanup(){for(const Q of this._pages)Q.renderingState!==x.RenderingStates.FINISHED&&Q.reset()}_cancelRendering(){for(const Q of this._pages)Q.cancelRendering()}forceRendering(Q){const ve=Q||this._getVisiblePages(),oe=V(this,Ee,xe).call(this,ve),Te=this._spreadMode!==x.SpreadMode.NONE&&this._scrollMode!==x.ScrollMode.HORIZONTAL,Fe=this.renderingQueue.getHighestPriority(ve,this._pages,oe,Te);return V(this,ke,he).call(this,ve.ids),Fe?(V(this,Pe,ze).call(this,Fe).then(()=>{this.renderingQueue.renderView(Fe)}),!0):!1}createTextLayerBuilder(Q){let{textLayerDiv:ve,pageIndex:oe,viewport:Te,enhanceTextSelection:Fe=!1,eventBus:me,highlighter:ae,accessibilityManager:ue=null}=Q;return new l.TextLayerBuilder({textLayerDiv:ve,eventBus:me,pageIndex:oe,viewport:Te,enhanceTextSelection:this.isInPresentationMode?!1:Fe,highlighter:ae,accessibilityManager:ue})}createTextHighlighter(Q){let{pageIndex:ve,eventBus:oe}=Q;return new y.TextHighlighter({eventBus:oe,pageIndex:ve,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(Q){var ve,oe,Te,Fe;let{pageDiv:me,pdfPage:ae,annotationStorage:ue=(ve=this.pdfDocument)===null||ve===void 0?void 0:ve.annotationStorage,imageResourcesPath:Me="",renderForms:je=!0,l10n:Re=m.NullL10n,enableScripting:ce=this.enableScripting,hasJSActionsPromise:de=(oe=this.pdfDocument)===null||oe===void 0?void 0:oe.hasJSActions(),mouseState:Ce=(Te=this._scriptingManager)===null||Te===void 0?void 0:Te.mouseState,fieldObjectsPromise:De=(Fe=this.pdfDocument)===null||Fe===void 0?void 0:Fe.getFieldObjects(),annotationCanvasMap:Ve=null,accessibilityManager:Ye=null}=Q;return new k.AnnotationLayerBuilder({pageDiv:me,pdfPage:ae,annotationStorage:ue,imageResourcesPath:Me,renderForms:je,linkService:this.linkService,downloadManager:this.downloadManager,l10n:Re,enableScripting:ce,hasJSActionsPromise:de,mouseState:Ce,fieldObjectsPromise:De,annotationCanvasMap:Ve,accessibilityManager:Ye})}createAnnotationEditorLayerBuilder(Q){var ve;let{uiManager:oe=E(this,j),pageDiv:Te,pdfPage:Fe,accessibilityManager:me=null,l10n:ae,annotationStorage:ue=(ve=this.pdfDocument)===null||ve===void 0?void 0:ve.annotationStorage}=Q;return new h.AnnotationEditorLayerBuilder({uiManager:oe,pageDiv:Te,pdfPage:Fe,annotationStorage:ue,accessibilityManager:me,l10n:ae})}createXfaLayerBuilder(Q){var ve;let{pageDiv:oe,pdfPage:Te,annotationStorage:Fe=(ve=this.pdfDocument)===null||ve===void 0?void 0:ve.annotationStorage}=Q;return new n.XfaLayerBuilder({pageDiv:oe,pdfPage:Te,annotationStorage:Fe,linkService:this.linkService})}createStructTreeLayerBuilder(Q){let{pdfPage:ve}=Q;return new g.StructTreeLayerBuilder({pdfPage:ve})}get hasEqualPageSizes(){const Q=this._pages[0];for(let ve=1,oe=this._pages.length;ve<oe;++ve){const Te=this._pages[ve];if(Te.width!==Q.width||Te.height!==Q.height)return!1}return!0}getPagesOverview(){return this._pages.map(Q=>{const ve=Q.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,x.isPortraitOrientation)(ve)?{width:ve.width,height:ve.height,rotation:ve.rotation}:{width:ve.height,height:ve.width,rotation:(ve.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(Q){if(!(Q instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${Q}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=Q;const ve={optionalContentConfigPromise:Q};for(const oe of this._pages)oe.update(ve);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:Q})}get scrollMode(){return this._scrollMode}set scrollMode(Q){if(this._scrollMode!==Q){if(!(0,x.isValidScrollMode)(Q))throw new Error(`Invalid scroll mode: ${Q}`);this.pagesCount>M.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=Q,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:Q}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(){let Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const ve=this._scrollMode,oe=this.viewer;oe.classList.toggle("scrollHorizontal",ve===x.ScrollMode.HORIZONTAL),oe.classList.toggle("scrollWrapped",ve===x.ScrollMode.WRAPPED),!(!this.pdfDocument||!Q)&&(ve===x.ScrollMode.PAGE?V(this,le,qe).call(this):this._previousScrollMode===x.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(Q,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(Q){if(this._spreadMode!==Q){if(!(0,x.isValidSpreadMode)(Q))throw new Error(`Invalid spread mode: ${Q}`);this._spreadMode=Q,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:Q}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(){let Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!this.pdfDocument)return;const ve=this.viewer,oe=this._pages;if(this._scrollMode===x.ScrollMode.PAGE)V(this,le,qe).call(this);else if(ve.textContent="",this._spreadMode===x.SpreadMode.NONE)for(const Te of this._pages)ve.append(Te.div);else{const Te=this._spreadMode-1;let Fe=null;for(let me=0,ae=oe.length;me<ae;++me)Fe===null?(Fe=document.createElement("div"),Fe.className="spread",ve.append(Fe)):me%2===Te&&(Fe=Fe.cloneNode(!1),ve.append(Fe)),Fe.append(oe[me].div)}Q&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(Q,!0),this.update())}_getPageAdvance(Q){let ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(this._scrollMode){case x.ScrollMode.WRAPPED:{const{views:oe}=this._getVisiblePages(),Te=new Map;for(const{id:Fe,y:me,percent:ae,widthPercent:ue}of oe){if(ae===0||ue<100)continue;let Me=Te.get(me);Me||Te.set(me,Me||(Me=[])),Me.push(Fe)}for(const Fe of Te.values()){const me=Fe.indexOf(Q);if(me===-1)continue;const ae=Fe.length;if(ae===1)break;if(ve)for(let ue=me-1,Me=0;ue>=Me;ue--){const je=Fe[ue],Re=Fe[ue+1]-1;if(je<Re)return Q-Re}else for(let ue=me+1,Me=ae;ue<Me;ue++){const je=Fe[ue],Re=Fe[ue-1]+1;if(je>Re)return Re-Q}if(ve){const ue=Fe[0];if(ue<Q)return Q-ue+1}else{const ue=Fe[ae-1];if(ue>Q)return ue-Q+1}break}break}case x.ScrollMode.HORIZONTAL:break;case x.ScrollMode.PAGE:case x.ScrollMode.VERTICAL:{if(this._spreadMode===x.SpreadMode.NONE)break;const oe=this._spreadMode-1;if(ve&&Q%2!==oe)break;if(!ve&&Q%2===oe)break;const{views:Te}=this._getVisiblePages(),Fe=ve?Q-1:Q+1;for(const{id:me,percent:ae,widthPercent:ue}of Te)if(me===Fe){if(ae>0&&ue===100)return 2;break}break}}return 1}nextPage(){const Q=this._currentPageNumber,ve=this.pagesCount;if(Q>=ve)return!1;const oe=this._getPageAdvance(Q,!1)||1;return this.currentPageNumber=Math.min(Q+oe,ve),!0}previousPage(){const Q=this._currentPageNumber;if(Q<=1)return!1;const ve=this._getPageAdvance(Q,!0)||1;return this.currentPageNumber=Math.max(Q-ve,1),!0}increaseScale(){let Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,ve=this._currentScale;do ve=(ve*x.DEFAULT_SCALE_DELTA).toFixed(2),ve=Math.ceil(ve*10)/10,ve=Math.min(x.MAX_SCALE,ve);while(--Q>0&&ve<x.MAX_SCALE);this.currentScaleValue=ve}decreaseScale(){let Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,ve=this._currentScale;do ve=(ve/x.DEFAULT_SCALE_DELTA).toFixed(2),ve=Math.floor(ve*10)/10,ve=Math.max(x.MIN_SCALE,ve);while(--Q>0&&ve>x.MIN_SCALE);this.currentScaleValue=ve}updateContainerHeightCss(){const Q=this.container.clientHeight;Q!==E(this,R)&&(K(this,R,Q),x.docStyle.setProperty("--viewer-container-height",`${Q}px`))}get annotationEditorMode(){return E(this,j)?E(this,A):c.AnnotationEditorType.DISABLE}set annotationEditorMode(Q){if(!E(this,j))throw new Error("The AnnotationEditor is not enabled.");if(E(this,A)!==Q){if(!P(Q))throw new Error(`Invalid AnnotationEditor mode: ${Q}`);this.pdfDocument&&(K(this,A,Q),this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:Q}),E(this,j).updateMode(Q))}}set annotationEditorParams(Q){let{type:ve,value:oe}=Q;if(!E(this,j))throw new Error("The AnnotationEditor is not enabled.");E(this,j).updateParams(ve,oe)}refresh(){if(!this.pdfDocument)return;const Q={};for(const ve of this._pages)ve.update(Q);this.update()}}d.BaseViewer=Be;function Ue(ye){const Q={annotationEditorMode:E(this,A),annotationMode:E(this,$),textLayerMode:this.textLayerMode};return ye&&(ye.includes(c.PermissionFlag.COPY)||this.viewer.classList.add(B),ye.includes(c.PermissionFlag.MODIFY_CONTENTS)||(Q.annotationEditorMode=c.AnnotationEditorType.DISABLE),!ye.includes(c.PermissionFlag.MODIFY_ANNOTATIONS)&&!ye.includes(c.PermissionFlag.FILL_INTERACTIVE_FORMS)&&E(this,$)===c.AnnotationMode.ENABLE_FORMS&&(Q.annotationMode=c.AnnotationMode.ENABLE)),Q}function $e(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return Promise.resolve();const ye=new Promise(Q=>{K(this,U,()=>{document.visibilityState==="hidden"&&(Q(),document.removeEventListener("visibilitychange",E(this,U)),K(this,U,null))}),document.addEventListener("visibilitychange",E(this,U))});return Promise.race([this._onePageRenderedCapability.promise,ye])}function qe(){if(this._scrollMode!==x.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const ye=this._currentPageNumber,Q=E(this,F),ve=this.viewer;if(ve.textContent="",Q.pages.length=0,this._spreadMode===x.SpreadMode.NONE&&!this.isInPresentationMode){const oe=this._pages[ye-1];ve.append(oe.div),Q.pages.push(oe)}else{const oe=new Set,Te=this._spreadMode-1;Te===-1?oe.add(ye-1):ye%2!==Te?(oe.add(ye-1),oe.add(ye)):(oe.add(ye-2),oe.add(ye-1));const Fe=document.createElement("div");if(Fe.className="spread",this.isInPresentationMode){const me=document.createElement("div");me.className="dummyPage",Fe.append(me)}for(const me of oe){const ae=this._pages[me];ae&&(Fe.append(ae.div),Q.pages.push(ae))}ve.append(Fe)}Q.scrollDown=ye>=Q.previousPageNumber,Q.previousPageNumber=ye}function We(ye){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const{div:ve,id:oe}=ye;if(this._scrollMode===x.ScrollMode.PAGE&&(this._setCurrentPageNumber(oe),V(this,le,qe).call(this),this.update()),!Q&&!this.isInPresentationMode){const Te=ve.offsetLeft+ve.clientLeft,Fe=Te+ve.clientWidth,{scrollLeft:me,clientWidth:ae}=this.container;(this._scrollMode===x.ScrollMode.HORIZONTAL||Te<me||Fe>me+ae)&&(Q={left:0,top:0})}(0,x.scrollIntoView)(ve,Q)}function Oe(ye){return ye===this._currentScale||Math.abs(ye-this._currentScale)<1e-15}function Ne(){const ye=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),V(this,ge,We).call(this,ye)}function ze(ye){return st(this,null,function*(){if(ye.pdfPage)return ye.pdfPage;try{var Q,ve;const oe=yield this.pdfDocument.getPage(ye.id);return ye.pdfPage||ye.setPdfPage(oe),(Q=(ve=this.linkService)._cachedPageNumber)!==null&&Q!==void 0&&Q.call(ve,oe.ref)||this.linkService.cachePageRef(ye.id,oe.ref),oe}catch(oe){return console.error("Unable to get page for page view",oe),null}})}function xe(ye){var Q,ve;if(((Q=ye.first)===null||Q===void 0?void 0:Q.id)===1)return!0;if(((ve=ye.last)===null||ve===void 0?void 0:ve.id)===this.pagesCount)return!1;switch(this._scrollMode){case x.ScrollMode.PAGE:return E(this,F).scrollDown;case x.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function he(ye){for(const Q of ye){const ve=this._pages[Q-1];ve==null||ve.toggleLoadingIconSpinner(!0)}for(const Q of E(this,S))ye.has(Q.id)||Q.toggleLoadingIconSpinner(!1)}},(D,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFPageView=void 0;var c=b(3),x=b(7),h=b(14),k=b(4),m=b(15);function u(V,E,ee){w(V,E),E.set(V,ee)}function w(V,E){if(E.has(V))throw new TypeError("Cannot initialize the same private elements twice on an object")}function f(V,E){var ee=l(V,E,"get");return g(V,ee)}function g(V,E){return E.get?E.get.call(V):E.value}function y(V,E,ee){var K=l(V,E,"set");return n(V,K,ee),ee}function l(V,E,ee){if(!E.has(V))throw new TypeError("attempted to "+ee+" private field on non-instance");return E.get(V)}function n(V,E,ee){if(E.set)E.set.call(V,ee);else{if(!E.writable)throw new TypeError("attempted to set read only private field");E.value=ee}}const a=h.compatibilityParams.maxCanvasPixels||16777216;var v=new WeakMap,_=new WeakMap;class I{constructor(E){var ee,K,O,L;u(this,v,{writable:!0,value:c.AnnotationMode.ENABLE_FORMS}),u(this,_,{writable:!0,value:{initialOptionalContent:!0,regularAnnotations:!0}});const T=E.container,B=E.defaultViewport;this.id=E.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=E.scale||x.DEFAULT_SCALE,this.viewport=B,this.pdfPageRotate=B.rotation,this._optionalContentConfigPromise=E.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=(ee=E.textLayerMode)!==null&&ee!==void 0?ee:x.TextLayerMode.ENABLE,y(this,v,(K=E.annotationMode)!==null&&K!==void 0?K:c.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=E.imageResourcesPath||"",this.useOnlyCssZoom=E.useOnlyCssZoom||!1,this.maxCanvasPixels=E.maxCanvasPixels||a,this.pageColors=E.pageColors||null,this.eventBus=E.eventBus,this.renderingQueue=E.renderingQueue,this.textLayerFactory=E.textLayerFactory,this.annotationLayerFactory=E.annotationLayerFactory,this.annotationEditorLayerFactory=E.annotationEditorLayerFactory,this.xfaLayerFactory=E.xfaLayerFactory,this.textHighlighter=(O=E.textHighlighterFactory)===null||O===void 0?void 0:O.createTextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus}),this.structTreeLayerFactory=E.structTreeLayerFactory,this.renderer=E.renderer||x.RendererType.CANVAS,this.l10n=E.l10n||k.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=x.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!((L=this.renderingQueue)!==null&&L!==void 0&&L.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const M=document.createElement("div");if(M.className="page",M.style.width=Math.floor(this.viewport.width)+"px",M.style.height=Math.floor(this.viewport.height)+"px",M.setAttribute("data-page-number",this.id),M.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(P=>{M.setAttribute("aria-label",P)}),this.div=M,T==null||T.append(M),this._isStandalone){const{optionalContentConfigPromise:P}=E;P&&P.then(Y=>{P===this._optionalContentConfigPromise&&(f(this,_).initialOptionalContent=Y.hasInitialVisibility)})}}setPdfPage(E){this.pdfPage=E,this.pdfPageRotate=E.rotate;const ee=(this.rotation+this.pdfPageRotate)%360;this.viewport=E.getViewport({scale:this.scale*c.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:ee}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){return st(this,null,function*(){let E=null;try{yield this.annotationLayer.render(this.viewport,"display")}catch(ee){console.error(`_renderAnnotationLayer: "${ee}".`),E=ee}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:E})}})}_renderAnnotationEditorLayer(){return st(this,null,function*(){let E=null;try{yield this.annotationEditorLayer.render(this.viewport,"display")}catch(ee){console.error(`_renderAnnotationEditorLayer: "${ee}".`),E=ee}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:E})}})}_renderXfaLayer(){return st(this,null,function*(){let E=null;try{const ee=yield this.xfaLayer.render(this.viewport,"display");this.textHighlighter&&this._buildXfaTextContentItems(ee.textDivs)}catch(ee){console.error(`_renderXfaLayer: "${ee}".`),E=ee}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:E})}})}_buildXfaTextContentItems(E){return st(this,null,function*(){const ee=yield this.pdfPage.getTextContent(),K=[];for(const O of ee.items)K.push(O.str);this.textHighlighter.setTextMapping(E,K),this.textHighlighter.enable()})}_resetZoomLayer(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.zoomLayer)return;const ee=this.zoomLayer.firstChild;this.paintedViewportMap.delete(ee),ee.width=0,ee.height=0,E&&this.zoomLayer.remove(),this.zoomLayer=null}reset(){var E,ee,K;let{keepZoomLayer:O=!1,keepAnnotationLayer:L=!1,keepAnnotationEditorLayer:T=!1,keepXfaLayer:B=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.cancelRendering({keepAnnotationLayer:L,keepAnnotationEditorLayer:T,keepXfaLayer:B}),this.renderingState=x.RenderingStates.INITIAL;const M=this.div;M.style.width=Math.floor(this.viewport.width)+"px",M.style.height=Math.floor(this.viewport.height)+"px";const P=M.childNodes,Y=O&&this.zoomLayer||null,Z=L&&((E=this.annotationLayer)===null||E===void 0?void 0:E.div)||null,J=T&&((ee=this.annotationEditorLayer)===null||ee===void 0?void 0:ee.div)||null,_e=B&&((K=this.xfaLayer)===null||K===void 0?void 0:K.div)||null;for(let S=P.length-1;S>=0;S--){const A=P[S];switch(A){case Y:case Z:case J:case _e:continue}A.remove()}if(M.removeAttribute("data-loaded"),Z&&this.annotationLayer.hide(),J)this.annotationEditorLayer.hide();else{var z;(z=this.annotationEditorLayer)===null||z===void 0||z.destroy()}_e&&this.xfaLayer.hide(),Y||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(S=>{var A;(A=this.loadingIconDiv)===null||A===void 0||A.setAttribute("aria-label",S)}),M.append(this.loadingIconDiv)}update(E){let{scale:ee=0,rotation:K=null,optionalContentConfigPromise:O=null}=E;this.scale=ee||this.scale,typeof K=="number"&&(this.rotation=K),O instanceof Promise&&(this._optionalContentConfigPromise=O,O.then(B=>{O===this._optionalContentConfigPromise&&(f(this,_).initialOptionalContent=B.hasInitialVisibility)}));const L=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*c.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:L}),this._isStandalone&&x.docStyle.setProperty("--scale-factor",this.viewport.scale),this.svg){this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});return}let T=!1;if(this.canvas&&this.maxCanvasPixels>0){const B=this.outputScale;(Math.floor(this.viewport.width)*B.sx|0)*(Math.floor(this.viewport.height)*B.sy|0)>this.maxCanvasPixels&&(T=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&T){this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0})}cancelRendering(){let{keepAnnotationLayer:E=!1,keepAnnotationEditorLayer:ee=!1,keepXfaLayer:K=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!E||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!ee||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!K||!this.xfaLayer.div)){var O;this.xfaLayer.cancel(),this.xfaLayer=null,(O=this.textHighlighter)===null||O===void 0||O.disable()}this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform(E){let{target:ee,redrawAnnotationLayer:K=!1,redrawAnnotationEditorLayer:O=!1,redrawXfaLayer:L=!1}=E;const T=this.viewport.width,B=this.viewport.height,M=this.div;ee.style.width=ee.parentNode.style.width=M.style.width=Math.floor(T)+"px",ee.style.height=ee.parentNode.style.height=M.style.height=Math.floor(B)+"px";const P=this.viewport.rotation-this.paintedViewportMap.get(ee).rotation,Y=Math.abs(P);let Z=1,J=1;if((Y===90||Y===270)&&(Z=B/T,J=T/B),ee.style.transform=`rotate(${P}deg) scale(${Z}, ${J})`,this.textLayer){const _e=this.textLayer.viewport,z=this.viewport.rotation-_e.rotation,S=Math.abs(z);let A=T/_e.width;(S===90||S===270)&&(A=T/_e.height);const j=this.textLayer.textLayerDiv;let $,p;switch(S){case 0:$=p=0;break;case 90:$=0,p="-"+j.style.height;break;case 180:$="-"+j.style.width,p="-"+j.style.height;break;case 270:$="-"+j.style.width,p=0;break;default:console.error("Bad rotation value.");break}j.style.transform=`rotate(${S}deg) scale(${A}) translate(${$}, ${p})`,j.style.transformOrigin="0% 0%"}K&&this.annotationLayer&&this._renderAnnotationLayer(),O&&this.annotationEditorLayer&&this._renderAnnotationEditorLayer(),L&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(E,ee){return this.viewport.convertToPdfPoint(E,ee)}toggleLoadingIconSpinner(){var E;let ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;(E=this.loadingIconDiv)===null||E===void 0||E.classList.toggle("notVisible",!ee)}draw(){var E,ee,K,O=this;this.renderingState!==x.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:L,pdfPage:T}=this;if(!T)return this.renderingState=x.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=x.RenderingStates.RUNNING;const B=document.createElement("div");B.style.width=L.style.width,B.style.height=L.style.height,B.classList.add("canvasWrapper");const M=((E=this.annotationLayer)===null||E===void 0?void 0:E.div)||((ee=this.annotationEditorLayer)===null||ee===void 0?void 0:ee.div);M?M.before(B):L.append(B);let P=null;if(this.textLayerMode!==x.TextLayerMode.DISABLE&&this.textLayerFactory){this._accessibilityManager||(this._accessibilityManager=new m.TextAccessibilityManager);const z=document.createElement("div");z.className="textLayer",z.style.width=B.style.width,z.style.height=B.style.height,M?M.before(z):L.append(z),P=this.textLayerFactory.createTextLayerBuilder({textLayerDiv:z,pageIndex:this.id-1,viewport:this.viewport,enhanceTextSelection:this.textLayerMode===x.TextLayerMode.ENABLE_ENHANCE,eventBus:this.eventBus,highlighter:this.textHighlighter,accessibilityManager:this._accessibilityManager})}this.textLayer=P,f(this,v)!==c.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder({pageDiv:L,pdfPage:T,imageResourcesPath:this.imageResourcesPath,renderForms:f(this,v)===c.AnnotationMode.ENABLE_FORMS,l10n:this.l10n,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager}))),(K=this.xfaLayer)!==null&&K!==void 0&&K.div&&L.append(this.xfaLayer.div);let Y=null;this.renderingQueue&&(Y=z=>{if(!this.renderingQueue.isHighestPriority(this)){this.renderingState=x.RenderingStates.PAUSED,this.resume=()=>{this.renderingState=x.RenderingStates.RUNNING,z()};return}z()});const Z=function(){return st(this,arguments,function*(){let z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(J===O.paintTask&&(O.paintTask=null),z instanceof c.RenderingCancelledException){O._renderError=null;return}if(O._renderError=z,O.renderingState=x.RenderingStates.FINISHED,O.loadingIconDiv&&(O.loadingIconDiv.remove(),delete O.loadingIconDiv),O._resetZoomLayer(!0),f(O,_).regularAnnotations=!J.separateAnnots,O.eventBus.dispatch("pagerendered",{source:O,pageNumber:O.id,cssTransform:!1,timestamp:performance.now(),error:O._renderError}),z)throw z})},J=this.renderer===x.RendererType.SVG?this.paintOnSvg(B):this.paintOnCanvas(B);J.onRenderContinue=Y,this.paintTask=J;const _e=J.promise.then(()=>Z(null).then(()=>{if(P){const z=T.streamTextContent({includeMarkedContent:!0});P.setTextContentStream(z),P.render()}this.annotationLayer&&this._renderAnnotationLayer().then(()=>{this.annotationEditorLayerFactory&&(this.annotationEditorLayer||(this.annotationEditorLayer=this.annotationEditorLayerFactory.createAnnotationEditorLayerBuilder({pageDiv:L,pdfPage:T,l10n:this.l10n,accessibilityManager:this._accessibilityManager})),this._renderAnnotationEditorLayer())})}),function(z){return Z(z)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder({pageDiv:L,pdfPage:T})),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=z=>{z.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(S=>{if(!S||!this.canvas)return;const A=this.structTreeLayer.render(S);A.classList.add("structTree"),this.canvas.append(A)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder({pdfPage:T})),L.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),_e}paintOnCanvas(E){const ee=(0,c.createPromiseCapability)(),K={promise:ee.promise,onRenderContinue(S){S()},cancel(){z.cancel()},get separateAnnots(){return z.separateAnnots}},O=this.viewport,L=document.createElement("canvas");L.setAttribute("role","presentation"),L.hidden=!0;let T=!0;const B=function(){T&&(L.hidden=!1,T=!1)};E.append(L),this.canvas=L;const M=L.getContext("2d",{alpha:!1}),P=this.outputScale=new x.OutputScale;if(this.useOnlyCssZoom){const S=O.clone({scale:c.PixelsPerInch.PDF_TO_CSS_UNITS});P.sx*=S.width/O.width,P.sy*=S.height/O.height}if(this.maxCanvasPixels>0){const S=O.width*O.height,A=Math.sqrt(this.maxCanvasPixels/S);P.sx>A||P.sy>A?(P.sx=A,P.sy=A,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const Y=(0,x.approximateFraction)(P.sx),Z=(0,x.approximateFraction)(P.sy);L.width=(0,x.roundToDivide)(O.width*P.sx,Y[0]),L.height=(0,x.roundToDivide)(O.height*P.sy,Z[0]),L.style.width=(0,x.roundToDivide)(O.width,Y[1])+"px",L.style.height=(0,x.roundToDivide)(O.height,Z[1])+"px",this.paintedViewportMap.set(L,O);const J=P.scaled?[P.sx,0,0,P.sy,0,0]:null,_e={canvasContext:M,transform:J,viewport:this.viewport,annotationMode:f(this,v),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},z=this.pdfPage.render(_e);return z.onContinue=function(S){B(),K.onRenderContinue?K.onRenderContinue(S):S()},z.promise.then(function(){B(),ee.resolve()},function(S){B(),ee.reject(S)}),K}paintOnSvg(E){let ee=!1;const K=()=>{if(ee)throw new c.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},O=this.pdfPage,L=this.viewport.clone({scale:c.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:O.getOperatorList({annotationMode:f(this,v)}).then(B=>(K(),new c.SVGGraphics(O.commonObjs,O.objs).getSVG(B,L).then(P=>{K(),this.svg=P,this.paintedViewportMap.set(P,L),P.style.width=E.style.width,P.style.height=E.style.height,this.renderingState=x.RenderingStates.FINISHED,E.append(P)}))),onRenderContinue(B){B()},cancel(){ee=!0},get separateAnnots(){return!1}}}setPageLabel(E){this.pageLabel=typeof E=="string"?E:null,this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{initialOptionalContent:E,regularAnnotations:ee}=f(this,_);return E&&ee?this.canvas:null}}d.PDFPageView=I},(D,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.compatibilityParams=d.OptionKind=d.AppOptions=void 0;const b=Object.create(null);d.compatibilityParams=b;{const m=navigator.userAgent||"",u=navigator.platform||"",w=navigator.maxTouchPoints||1,f=/Android/.test(m),g=/\b(iPad|iPhone|iPod)(?=;)/.test(m)||u==="MacIntel"&&w>1;(function(){(g||f)&&(b.maxCanvasPixels=5242880)})()}const c={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};d.OptionKind=c;const x={annotationEditorMode:{value:-1,kind:c.VIEWER+c.PREFERENCE},annotationMode:{value:2,kind:c.VIEWER+c.PREFERENCE},cursorToolOnLoad:{value:0,kind:c.VIEWER+c.PREFERENCE},defaultZoomValue:{value:"",kind:c.VIEWER+c.PREFERENCE},disableHistory:{value:!1,kind:c.VIEWER},disablePageLabels:{value:!1,kind:c.VIEWER+c.PREFERENCE},enablePermissions:{value:!1,kind:c.VIEWER+c.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:c.VIEWER+c.PREFERENCE},enableScripting:{value:!0,kind:c.VIEWER+c.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:c.VIEWER},externalLinkTarget:{value:0,kind:c.VIEWER+c.PREFERENCE},historyUpdateUrl:{value:!1,kind:c.VIEWER+c.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:c.VIEWER+c.PREFERENCE},imageResourcesPath:{value:"./images/",kind:c.VIEWER},maxCanvasPixels:{value:16777216,kind:c.VIEWER},forcePageColors:{value:!1,kind:c.VIEWER+c.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:c.VIEWER+c.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:c.VIEWER+c.PREFERENCE},pdfBugEnabled:{value:!1,kind:c.VIEWER+c.PREFERENCE},printResolution:{value:150,kind:c.VIEWER},sidebarViewOnLoad:{value:-1,kind:c.VIEWER+c.PREFERENCE},scrollModeOnLoad:{value:-1,kind:c.VIEWER+c.PREFERENCE},spreadModeOnLoad:{value:-1,kind:c.VIEWER+c.PREFERENCE},textLayerMode:{value:1,kind:c.VIEWER+c.PREFERENCE},useOnlyCssZoom:{value:!1,kind:c.VIEWER+c.PREFERENCE},viewerCssTheme:{value:0,kind:c.VIEWER+c.PREFERENCE},viewOnLoad:{value:0,kind:c.VIEWER+c.PREFERENCE},cMapPacked:{value:!0,kind:c.API},cMapUrl:{value:"../web/cmaps/",kind:c.API},disableAutoFetch:{value:!1,kind:c.API+c.PREFERENCE},disableFontFace:{value:!1,kind:c.API+c.PREFERENCE},disableRange:{value:!1,kind:c.API+c.PREFERENCE},disableStream:{value:!1,kind:c.API+c.PREFERENCE},docBaseUrl:{value:"",kind:c.API},enableXfa:{value:!0,kind:c.API+c.PREFERENCE},fontExtraProperties:{value:!1,kind:c.API},isEvalSupported:{value:!0,kind:c.API},maxImageSize:{value:-1,kind:c.API},pdfBug:{value:!1,kind:c.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:c.API},verbosity:{value:1,kind:c.API},workerPort:{value:null,kind:c.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:c.WORKER}};x.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:c.VIEWER},x.disablePreferences={value:!1,kind:c.VIEWER},x.locale={value:navigator.language||"en-US",kind:c.VIEWER},x.renderer={value:"canvas",kind:c.VIEWER+c.PREFERENCE},x.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:c.VIEWER};const h=Object.create(null);class k{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(u){const w=h[u];if(w!==void 0)return w;const f=x[u];if(f!==void 0){var g;return(g=b[u])!==null&&g!==void 0?g:f.value}}static getAll(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const w=Object.create(null);for(const g in x){var f;const y=x[g];if(u){if(!(u&y.kind))continue;if(u===c.PREFERENCE){const n=y.value,a=typeof n;if(a==="boolean"||a==="string"||a==="number"&&Number.isInteger(n)){w[g]=n;continue}throw new Error(`Invalid type for preference: ${g}`)}}const l=h[g];w[g]=l!==void 0?l:(f=b[g])!==null&&f!==void 0?f:y.value}return w}static set(u,w){h[u]=w}static setAll(u){for(const w in u)h[w]=u[w]}static remove(u){delete h[u]}static _hasUserOptions(){return Object.keys(h).length>0}}d.AppOptions=k},(D,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TextAccessibilityManager=void 0;var c=b(7);function x(O,L){k(O,L),L.add(O)}function h(O,L,T){k(O,L),L.set(O,T)}function k(O,L){if(L.has(O))throw new TypeError("Cannot initialize the same private elements twice on an object")}function m(O,L,T){if(!L.has(O))throw new TypeError("attempted to get private field on non-instance");return T}function u(O,L,T){return w(O,L),T}function w(O,L){if(O!==L)throw new TypeError("Private static access of wrong provenance")}function f(O,L){var T=l(O,L,"get");return g(O,T)}function g(O,L){return L.get?L.get.call(O):L.value}function y(O,L,T){var B=l(O,L,"set");return n(O,B,T),T}function l(O,L,T){if(!L.has(O))throw new TypeError("attempted to "+T+" private field on non-instance");return L.get(O)}function n(O,L,T){if(L.set)L.set.call(O,T);else{if(!L.writable)throw new TypeError("attempted to set read only private field");L.value=T}}var a=new WeakMap,v=new WeakMap,_=new WeakMap,I=new WeakMap,V=new WeakSet;class E{constructor(){x(this,V),h(this,a,{writable:!0,value:!1}),h(this,v,{writable:!0,value:null}),h(this,_,{writable:!0,value:new Map}),h(this,I,{writable:!0,value:new Map})}setTextMapping(L){y(this,v,L)}enable(){if(f(this,a))throw new Error("TextAccessibilityManager is already enabled.");if(!f(this,v))throw new Error("Text divs and strings have not been set.");if(y(this,a,!0),y(this,v,f(this,v).slice()),f(this,v).sort(u(E,E,ee)),f(this,_).size>0){const L=f(this,v);for(const[T,B]of f(this,_)){if(!document.getElementById(T)){f(this,_).delete(T);continue}m(this,V,K).call(this,T,L[B])}}for(const[L,T]of f(this,I))this.addPointerInTextLayer(L,T);f(this,I).clear()}disable(){f(this,a)&&(f(this,I).clear(),y(this,v,null),y(this,a,!1))}removePointerInTextLayer(L){var T;if(!f(this,a)){f(this,I).delete(L);return}const B=f(this,v);if(!B||B.length===0)return;const{id:M}=L,P=f(this,_).get(M);if(P===void 0)return;const Y=B[P];f(this,_).delete(M);let Z=Y.getAttribute("aria-owns");(T=Z)!==null&&T!==void 0&&T.includes(M)&&(Z=Z.split(" ").filter(J=>J!==M).join(" "),Z?Y.setAttribute("aria-owns",Z):(Y.removeAttribute("aria-owns"),Y.setAttribute("role","presentation")))}addPointerInTextLayer(L,T){const{id:B}=L;if(!B)return;if(!f(this,a)){f(this,I).set(L,T);return}T&&this.removePointerInTextLayer(L);const M=f(this,v);if(!M||M.length===0)return;const P=(0,c.binarySearchFirstItem)(M,Z=>u(E,E,ee).call(E,L,Z)<0),Y=Math.max(0,P-1);m(this,V,K).call(this,B,M[Y]),f(this,_).set(B,Y)}moveElementInDOM(L,T,B,M){if(this.addPointerInTextLayer(B,M),!L.hasChildNodes()){L.append(T);return}const P=Array.from(L.childNodes).filter(J=>J!==T);if(P.length===0)return;const Y=B||T,Z=(0,c.binarySearchFirstItem)(P,J=>u(E,E,ee).call(E,Y,J)<0);Z===0?P[0].before(T):P[Z-1].after(T)}}d.TextAccessibilityManager=E;function ee(O,L){const T=O.getBoundingClientRect(),B=L.getBoundingClientRect();if(T.width===0&&T.height===0)return 1;if(B.width===0&&B.height===0)return-1;const M=T.y,P=T.y+T.height,Y=T.y+T.height/2,Z=B.y,J=B.y+B.height,_e=B.y+B.height/2;if(Y<=Z&&_e>=P)return-1;if(_e<=M&&Y>=J)return 1;const z=T.x+T.width/2,S=B.x+B.width/2;return z-S}function K(O,L){const T=L.getAttribute("aria-owns");T!=null&&T.includes(O)||L.setAttribute("aria-owns",T?`${T} ${O}`:O),L.removeAttribute("role")}},(D,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFRenderingQueue=void 0;var c=b(3),x=b(7);const h=3e4;class k{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(u){this.pdfViewer=u}setThumbnailViewer(u){this.pdfThumbnailViewer=u}isHighestPriority(u){return this.highestPriorityPage===u.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(u){var w;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(u)&&(this.isThumbnailViewEnabled&&(w=this.pdfThumbnailViewer)!==null&&w!==void 0&&w.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),h)))}getHighestPriority(u,w,f){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const y=u.views,l=y.length;if(l===0)return null;for(let I=0;I<l;I++){const V=y[I].view;if(!this.isViewFinished(V))return V}const n=u.first.id,a=u.last.id;if(a-n+1>l){const I=u.ids;for(let V=1,E=a-n;V<E;V++){const ee=f?n+V:a-V;if(I.has(ee))continue;const K=w[ee-1];if(!this.isViewFinished(K))return K}}let v=f?a:n-2,_=w[v];return _&&!this.isViewFinished(_)||g&&(v+=f?1:-1,_=w[v],_&&!this.isViewFinished(_))?_:null}isViewFinished(u){return u.renderingState===x.RenderingStates.FINISHED}renderView(u){switch(u.renderingState){case x.RenderingStates.FINISHED:return!1;case x.RenderingStates.PAUSED:this.highestPriorityPage=u.renderingId,u.resume();break;case x.RenderingStates.RUNNING:this.highestPriorityPage=u.renderingId;break;case x.RenderingStates.INITIAL:this.highestPriorityPage=u.renderingId,u.draw().finally(()=>{this.renderHighestPriority()}).catch(w=>{w instanceof c.RenderingCancelledException||console.error(`renderView: "${w}"`)});break}return!0}}d.PDFRenderingQueue=k},(D,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TextHighlighter=void 0;class b{constructor(x){let{findController:h,eventBus:k,pageIndex:m}=x;this.findController=h,this.matches=[],this.eventBus=k,this.pageIdx=m,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(x,h){this.textDivs=x,this.textContentItemsStr=h}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=x=>{(x.pageIndex===this.pageIdx||x.pageIndex===-1)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(x,h){if(!x)return[];const{textContentItemsStr:k}=this;let m=0,u=0;const w=k.length-1,f=[];for(let g=0,y=x.length;g<y;g++){let l=x[g];for(;m!==w&&l>=u+k[m].length;)u+=k[m].length,m++;m===k.length&&console.error("Could not find a matching mapping");const n={begin:{divIdx:m,offset:l-u}};for(l+=h[g];m!==w&&l>u+k[m].length;)u+=k[m].length,m++;n.end={divIdx:m,offset:l-u},f.push(n)}return f}_renderMatches(x){if(x.length===0)return;const{findController:h,pageIdx:k}=this,{textContentItemsStr:m,textDivs:u}=this,w=k===h.selected.pageIdx,f=h.selected.matchIdx,g=h.state.highlightAll;let y=null;const l={divIdx:-1,offset:void 0};function n(I,V){const E=I.divIdx;return u[E].textContent="",a(E,0,I.offset,V)}function a(I,V,E,ee){let K=u[I];if(K.nodeType===Node.TEXT_NODE){const T=document.createElement("span");K.before(T),T.append(K),u[I]=T,K=T}const O=m[I].substring(V,E),L=document.createTextNode(O);if(ee){const T=document.createElement("span");return T.className=`${ee} appended`,T.append(L),K.append(T),ee.includes("selected")?T.offsetLeft:0}return K.append(L),0}let v=f,_=v+1;if(g)v=0,_=x.length;else if(!w)return;for(let I=v;I<_;I++){const V=x[I],E=V.begin,ee=V.end,K=w&&I===f,O=K?" selected":"";let L=0;if(!y||E.divIdx!==y.divIdx?(y!==null&&a(y.divIdx,y.offset,l.offset),n(E)):a(y.divIdx,y.offset,E.offset),E.divIdx===ee.divIdx)L=a(E.divIdx,E.offset,ee.offset,"highlight"+O);else{L=a(E.divIdx,E.offset,l.offset,"highlight begin"+O);for(let T=E.divIdx+1,B=ee.divIdx;T<B;T++)u[T].className="highlight middle"+O;n(ee,"highlight end"+O)}y=ee,K&&h.scrollMatchIntoView({element:u[E.divIdx],selectedLeft:L,pageIndex:k,matchIndex:f})}y&&a(y.divIdx,y.offset,l.offset)}_updateMatches(){if(!this.enabled)return;const{findController:x,matches:h,pageIdx:k}=this,{textContentItemsStr:m,textDivs:u}=this;let w=-1;for(let y=0,l=h.length;y<l;y++){const n=h[y],a=Math.max(w,n.begin.divIdx);for(let v=a,_=n.end.divIdx;v<=_;v++){const I=u[v];I.textContent=m[v],I.className=""}w=n.end.divIdx+1}if(!(x!=null&&x.highlightMatches))return;const f=x.pageMatches[k]||null,g=x.pageMatchesLength[k]||null;this.matches=this._convertMatches(f,g),this._renderMatches(this.matches)}}d.TextHighlighter=b},(D,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DownloadManager=void 0;var c=b(3);function x(k,m){const u=document.createElement("a");if(!u.click)throw new Error('DownloadManager: "a.click()" is not supported.');u.href=k,u.target="_parent","download"in u&&(u.download=m),(document.body||document.documentElement).append(u),u.click(),u.remove()}class h{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(m,u){if(!(0,c.createValidAbsoluteUrl)(m,"http://example.com")){console.error(`downloadUrl - not a valid URL: ${m}`);return}x(m+"#pdfjs.action=download",u)}downloadData(m,u,w){const f=URL.createObjectURL(new Blob([m],{type:w}));x(f,u)}openOrDownloadData(m,u,w){const f=(0,c.isPdfFile)(w),g=f?"application/pdf":"";if(f){let y=this._openBlobUrls.get(m);y||(y=URL.createObjectURL(new Blob([u],{type:g})),this._openBlobUrls.set(m,y));let l;l="?file="+encodeURIComponent(y+"#"+w);try{return window.open(l),!0}catch(n){console.error(`openOrDownloadData: ${n}`),URL.revokeObjectURL(y),this._openBlobUrls.delete(m)}}return this.downloadData(u,w,g),!1}download(m,u,w){const f=URL.createObjectURL(m);x(f,w)}}d.DownloadManager=h},(D,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.WaitOnType=d.EventBus=d.AutomationEventBus=void 0,d.waitOnEventOrTimeout=c;const b={EVENT:"event",TIMEOUT:"timeout"};d.WaitOnType=b;function c(k){let{target:m,name:u,delay:w=0}=k;return new Promise(function(f,g){if(typeof m!="object"||!(u&&typeof u=="string")||!(Number.isInteger(w)&&w>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function y(v){m instanceof x?m._off(u,l):m.removeEventListener(u,l),a&&clearTimeout(a),f(v)}const l=y.bind(null,b.EVENT);m instanceof x?m._on(u,l):m.addEventListener(u,l);const n=y.bind(null,b.TIMEOUT),a=setTimeout(n,w)})}class x{constructor(){this._listeners=Object.create(null)}on(m,u){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this._on(m,u,{external:!0,once:w==null?void 0:w.once})}off(m,u){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this._off(m,u,{external:!0,once:w==null?void 0:w.once})}dispatch(m,u){const w=this._listeners[m];if(!w||w.length===0)return;let f;for(const{listener:g,external:y,once:l}of w.slice(0)){if(l&&this._off(m,g),y){(f||(f=[])).push(g);continue}g(u)}if(f){for(const g of f)g(u);f=null}}_on(m,u){var w;let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;((w=this._listeners)[m]||(w[m]=[])).push({listener:u,external:(f==null?void 0:f.external)===!0,once:(f==null?void 0:f.once)===!0})}_off(m,u){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;const f=this._listeners[m];if(f){for(let g=0,y=f.length;g<y;g++)if(f[g].listener===u){f.splice(g,1);return}}}}d.EventBus=x;class h extends x{dispatch(m,u){throw new Error("Not implemented: AutomationEventBus.dispatch")}}d.AutomationEventBus=h},(D,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GenericL10n=void 0,b(21);var c=b(4);const x=document.webL10n;class h{constructor(m){this._lang=m,this._ready=new Promise((u,w)=>{x.setLanguage((0,c.fixupLangCode)(m),()=>{u(x)})})}getLanguage(){return st(this,null,function*(){return(yield this._ready).getLanguage()})}getDirection(){return st(this,null,function*(){return(yield this._ready).getDirection()})}get(u){return st(this,arguments,function*(m){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:(0,c.getL10nFallback)(m,w);return(yield this._ready).get(m,w,f)})}translate(m){return st(this,null,function*(){return(yield this._ready).translate(m)})}}d.GenericL10n=h},()=>{document.webL10n=function(D,d,b){var c={},x="",h="textContent",k="",m={},u="loading",w=!0;function f(){return d.querySelectorAll('link[type="application/l10n"]')}function g(){var T=d.querySelector('script[type="application/l10n"]');return T?JSON.parse(T.innerHTML):null}function y(T){return T?T.querySelectorAll("*[data-l10n-id]"):[]}function l(T){if(!T)return{};var B=T.getAttribute("data-l10n-id"),M=T.getAttribute("data-l10n-args"),P={};if(M)try{P=JSON.parse(M)}catch(Y){console.warn("could not parse arguments for #"+B)}return{id:B,args:P}}function n(T,B,M){B=B||function(Z){},M=M||function(){};var P=new XMLHttpRequest;P.open("GET",T,w),P.overrideMimeType&&P.overrideMimeType("text/plain; charset=utf-8"),P.onreadystatechange=function(){P.readyState==4&&(P.status==200||P.status===0?B(P.responseText):M())},P.onerror=M,P.ontimeout=M;try{P.send(null)}catch(Y){M()}}function a(T,B,M,P){var Y=T.replace(/[^\/]*$/,"")||"./";function Z(_e){return _e.lastIndexOf("\\")<0?_e:_e.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function J(_e,z){var S={},A=/^\s*|\s*$/,j=/^\s*#|^\s*$/,$=/^\s*\[(.*)\]\s*$/,p=/^\s*@import\s+url\((.*)\)\s*$/i,R=/^([^=\s]*)\s*=\s*(.+)$/;function F(q,te,le){var ge=q.replace(A,"").split(/[\r\n]+/),Se="*",Ae=B.split("-",1)[0],Pe=!1,Ee="";function ke(){for(;;){if(!ge.length){le();return}var Be=ge.shift();if(!j.test(Be)){if(te){if(Ee=$.exec(Be),Ee){Se=Ee[1].toLowerCase(),Pe=Se!=="*"&&Se!==B&&Se!==Ae;continue}else if(Pe)continue;if(Ee=p.exec(Be),Ee){U(Y+Ee[1],ke);return}}var Ue=Be.match(R);Ue&&Ue.length==3&&(S[Ue[1]]=Z(Ue[2]))}}}ke()}function U(q,te){n(q,function(le){F(le,!1,te)},function(){console.warn(q+" not found."),te()})}F(_e,!0,function(){z(S)})}n(T,function(_e){x+=_e,J(_e,function(z){for(var S in z){var A,j,$=S.lastIndexOf(".");$>0?(A=S.substring(0,$),j=S.substring($+1)):(A=S,j=h),c[A]||(c[A]={}),c[A][j]=z[S]}M&&M()})},P)}function v(T,B){T&&(T=T.toLowerCase()),B=B||function(){},_(),k=T;var M=f(),P=M.length;if(P===0){var Y=g();if(Y&&Y.locales&&Y.default_locale){if(console.log("using the embedded JSON directory, early way out"),c=Y.locales[T],!c){var Z=Y.default_locale.toLowerCase();for(var J in Y.locales)if(J=J.toLowerCase(),J===T){c=Y.locales[T];break}else J===Z&&(c=Y.locales[Z])}B()}else console.log("no resource to load, early way out");u="complete";return}var _e=null,z=0;_e=function(){z++,z>=P&&(B(),u="complete")};function S($){var p=$.href;this.load=function(R,F){a(p,R,F,function(){console.warn(p+" not found."),console.warn('"'+R+'" resource not found'),k="",F()})}}for(var A=0;A<P;A++){var j=new S(M[A]);j.load(T,_e)}}function _(){c={},x="",k=""}function I(T){var B={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function M(J,_e){return _e.indexOf(J)!==-1}function P(J,_e,z){return _e<=J&&J<=z}var Y={0:function(J){return"other"},1:function(J){return P(J%100,3,10)?"few":J===0?"zero":P(J%100,11,99)?"many":J==2?"two":J==1?"one":"other"},2:function(J){return J!==0&&J%10===0?"many":J==2?"two":J==1?"one":"other"},3:function(J){return J==1?"one":"other"},4:function(J){return P(J,0,1)?"one":"other"},5:function(J){return P(J,0,2)&&J!=2?"one":"other"},6:function(J){return J===0?"zero":J%10==1&&J%100!=11?"one":"other"},7:function(J){return J==2?"two":J==1?"one":"other"},8:function(J){return P(J,3,6)?"few":P(J,7,10)?"many":J==2?"two":J==1?"one":"other"},9:function(J){return J===0||J!=1&&P(J%100,1,19)?"few":J==1?"one":"other"},10:function(J){return P(J%10,2,9)&&!P(J%100,11,19)?"few":J%10==1&&!P(J%100,11,19)?"one":"other"},11:function(J){return P(J%10,2,4)&&!P(J%100,12,14)?"few":J%10===0||P(J%10,5,9)||P(J%100,11,14)?"many":J%10==1&&J%100!=11?"one":"other"},12:function(J){return P(J,2,4)?"few":J==1?"one":"other"},13:function(J){return P(J%10,2,4)&&!P(J%100,12,14)?"few":J!=1&&P(J%10,0,1)||P(J%10,5,9)||P(J%100,12,14)?"many":J==1?"one":"other"},14:function(J){return P(J%100,3,4)?"few":J%100==2?"two":J%100==1?"one":"other"},15:function(J){return J===0||P(J%100,2,10)?"few":P(J%100,11,19)?"many":J==1?"one":"other"},16:function(J){return J%10==1&&J!=11?"one":"other"},17:function(J){return J==3?"few":J===0?"zero":J==6?"many":J==2?"two":J==1?"one":"other"},18:function(J){return J===0?"zero":P(J,0,2)&&J!==0&&J!=2?"one":"other"},19:function(J){return P(J,2,10)?"few":P(J,0,1)?"one":"other"},20:function(J){return(P(J%10,3,4)||J%10==9)&&!(P(J%100,10,19)||P(J%100,70,79)||P(J%100,90,99))?"few":J%1e6===0&&J!==0?"many":J%10==2&&!M(J%100,[12,72,92])?"two":J%10==1&&!M(J%100,[11,71,91])?"one":"other"},21:function(J){return J===0?"zero":J==1?"one":"other"},22:function(J){return P(J,0,1)||P(J,11,99)?"one":"other"},23:function(J){return P(J%10,1,2)||J%20===0?"one":"other"},24:function(J){return P(J,3,10)||P(J,13,19)?"few":M(J,[2,12])?"two":M(J,[1,11])?"one":"other"}},Z=B[T.replace(/-.*$/,"")];return Z in Y?Y[Z]:(console.warn("plural form unknown for ["+T+"]"),function(){return"other"})}m.plural=function(T,B,M,P){var Y=parseFloat(B);if(isNaN(Y)||P!=h)return T;m._pluralRules||(m._pluralRules=I(k));var Z="["+m._pluralRules(Y)+"]";return Y===0&&M+"[zero]"in c?T=c[M+"[zero]"][P]:Y==1&&M+"[one]"in c?T=c[M+"[one]"][P]:Y==2&&M+"[two]"in c?T=c[M+"[two]"][P]:M+Z in c?T=c[M+Z][P]:M+"[other]"in c&&(T=c[M+"[other]"][P]),T};function V(T,B,M){var P=c[T];if(!P){if(console.warn("#"+T+" is undefined."),!M)return null;P=M}var Y={};for(var Z in P){var J=P[Z];J=E(J,B,T,Z),J=ee(J,B,T),Y[Z]=J}return Y}function E(T,B,M,P){var Y=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,Z=Y.exec(T);if(!Z||!Z.length)return T;var J=Z[1],_e=Z[2],z;if(B&&_e in B?z=B[_e]:_e in c&&(z=c[_e]),J in m){var S=m[J];T=S(T,z,M,P)}return T}function ee(T,B,M){var P=/\{\{\s*(.+?)\s*\}\}/g;return T.replace(P,function(Y,Z){return B&&Z in B?B[Z]:Z in c?c[Z]:(console.log("argument {{"+Z+"}} for #"+M+" is undefined."),Y)})}function K(T){var B=l(T);if(B.id){var M=V(B.id,B.args);if(!M){console.warn("#"+B.id+" is undefined.");return}if(M[h]){if(O(T)===0)T[h]=M[h];else{for(var P=T.childNodes,Y=!1,Z=0,J=P.length;Z<J;Z++)P[Z].nodeType===3&&/\S/.test(P[Z].nodeValue)&&(Y?P[Z].nodeValue="":(P[Z].nodeValue=M[h],Y=!0));if(!Y){var _e=d.createTextNode(M[h]);T.prepend(_e)}}delete M[h]}for(var z in M)T[z]=M[z]}}function O(T){if(T.children)return T.children.length;if(typeof T.childElementCount!="undefined")return T.childElementCount;for(var B=0,M=0;M<T.childNodes.length;M++)B+=T.nodeType===1?1:0;return B}function L(T){T=T||d.documentElement;for(var B=y(T),M=B.length,P=0;P<M;P++)K(B[P]);K(T)}return{get:function(T,B,M){var P=T.lastIndexOf("."),Y=h;P>0&&(Y=T.substring(P+1),T=T.substring(0,P));var Z;M&&(Z={},Z[Y]=M);var J=V(T,B,Z);return J&&Y in J?J[Y]:"{{"+T+"}}"},getData:function(){return c},getText:function(){return x},getLanguage:function(){return k},setLanguage:function(T,B){v(T,function(){B&&B()})},getDirection:function(){var T=["ar","he","fa","ps","ur"],B=k.split("-",1)[0];return T.indexOf(B)>=0?"rtl":"ltr"},translate:L,getReadyState:function(){return u},ready:function(T){if(T)u=="complete"||u=="interactive"?D.setTimeout(function(){T()}):d.addEventListener&&d.addEventListener("localized",function B(){d.removeEventListener("localized",B),T()});else return}}}(window,document)},(D,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFFindController=d.FindState=void 0;var c=b(7),x=b(3),h=b(23);function k(Re,ce,de){u(Re,ce),ce.set(Re,de)}function m(Re,ce){u(Re,ce),ce.add(Re)}function u(Re,ce){if(ce.has(Re))throw new TypeError("Cannot initialize the same private elements twice on an object")}function w(Re,ce){var de=f(Re,ce,"get");return g(Re,de)}function f(Re,ce,de){if(!ce.has(Re))throw new TypeError("attempted to "+de+" private field on non-instance");return ce.get(Re)}function g(Re,ce){return ce.get?ce.get.call(Re):ce.value}function y(Re,ce,de){if(!ce.has(Re))throw new TypeError("attempted to get private field on non-instance");return de}const l={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};d.FindState=l;const n=250,a=-50,v=-400,_={"\u2010":"-","\u2018":"'","\u2019":"'","\u201A":"'","\u201B":"'","\u201C":'"',"\u201D":'"',"\u201E":'"',"\u201F":'"',"\xBC":"1/4","\xBD":"1/2","\xBE":"3/4"},I=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),V=[...I.values()].map(Re=>String.fromCharCode(Re)).join(""),E=new RegExp("\\p{M}+","gu"),ee=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),K=new RegExp("([^\\p{M}])\\p{M}*$","u"),O=new RegExp("^\\p{M}*([^\\p{M}])","u"),L=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,T=new Map,B="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]";let M=null,P=null;function Y(Re){const ce=[];let de;for(;(de=L.exec(Re))!==null;){let{index:X}=de;for(const G of de[0]){let ie=T.get(G);ie||(ie=G.normalize("NFD").length,T.set(G,ie)),ce.push([ie,X++])}}let Ce;if(ce.length===0&&M)Ce=M;else if(ce.length>0&&P)Ce=P;else{const G=`([${Object.keys(_).join("")}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`;ce.length===0?Ce=M=new RegExp(G+"|(\\u0000)","gum"):Ce=P=new RegExp(G+`|(${B})`,"gum")}const De=[];for(;(de=E.exec(Re))!==null;)De.push([de[0].length,de.index]);let Ve=Re.normalize("NFD");const Ye=[[0,0]];let et=0,it=0,Ge=0,nt=0,se=0,ne=!1;return Ve=Ve.replace(Ce,(X,G,ie,pe,fe,Ie,He)=>{var Ke;if(He-=nt,G){const Ze=_[X],tt=Ze.length;for(let rt=1;rt<tt;rt++)Ye.push([He-Ge+rt,Ge-rt]);return Ge-=tt-1,Ze}if(ie){var Xe;const Ze=ie.endsWith(`
`),tt=Ze?ie.length-2:ie.length;ne=!0;let rt=tt;He+se===((Xe=De[et])===null||Xe===void 0?void 0:Xe[1])&&(rt-=De[et][0],++et);for(let lt=1;lt<=rt;lt++)Ye.push([He-1-Ge+lt,Ge-lt]);return Ge-=rt,nt+=rt,Ze?(He+=tt-1,Ye.push([He-Ge+1,1+Ge]),Ge+=1,nt+=1,se+=1,ie.slice(0,tt)):ie}if(pe)return Ye.push([He-Ge+1,1+Ge]),Ge+=1,nt+=1,se+=1,pe.charAt(0);if(fe)return Ye.push([He-Ge+1,Ge-1]),Ge-=1,nt+=1,se+=1," ";if(He+se===((Ke=ce[it])===null||Ke===void 0?void 0:Ke[1])){const Ze=ce[it][0]-1;++it;for(let tt=1;tt<=Ze;tt++)Ye.push([He-(Ge-tt),Ge-tt]);Ge-=Ze,nt+=Ze}return Ie}),Ye.push([Ve.length,Ge]),[Ve,Ye,ne]}function Z(Re,ce,de){if(!Re)return[ce,de];const Ce=ce,De=ce+de;let Ve=(0,c.binarySearchFirstItem)(Re,et=>et[0]>=Ce);Re[Ve][0]>Ce&&--Ve;let Ye=(0,c.binarySearchFirstItem)(Re,et=>et[0]>=De,Ve);return Re[Ye][0]>De&&--Ye,[Ce+Re[Ve][1],de+Re[Ye][1]-Re[Ve][1]]}var J=new WeakSet,_e=new WeakSet,z=new WeakMap,S=new WeakSet,A=new WeakSet,j=new WeakSet,$=new WeakSet,p=new WeakSet,R=new WeakSet,F=new WeakSet,U=new WeakSet,q=new WeakSet,te=new WeakSet,le=new WeakSet,ge=new WeakSet,Se=new WeakSet,Ae=new WeakSet,Pe=new WeakSet,Ee=new WeakSet,ke=new WeakSet;class Be{constructor(ce){let{linkService:de,eventBus:Ce}=ce;m(this,ke),m(this,Ee),m(this,Pe),m(this,Ae),m(this,Se),m(this,ge),m(this,le),m(this,te),m(this,q),m(this,U),m(this,F),m(this,R),m(this,p),m(this,$),m(this,j),m(this,A),m(this,S),k(this,z,{get:qe,set:void 0}),m(this,_e),m(this,J),this._linkService=de,this._eventBus=Ce,y(this,_e,$e).call(this),Ce._on("find",y(this,J,Ue).bind(this)),Ce._on("findbarclose",y(this,Ae,ae).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(ce){this._pdfDocument&&y(this,_e,$e).call(this),ce&&(this._pdfDocument=ce,this._firstPageCapability.resolve())}scrollMatchIntoView(ce){let{element:de=null,selectedLeft:Ce=0,pageIndex:De=-1,matchIndex:Ve=-1}=ce;if(!this._scrollMatches||!de)return;if(Ve===-1||Ve!==this._selected.matchIdx)return;if(De===-1||De!==this._selected.pageIdx)return;this._scrollMatches=!1;const Ye={top:a,left:Ce+v};(0,c.scrollIntoView)(de,Ye,!0)}}d.PDFFindController=Be;function Ue(Re){if(!Re)return;const ce=this._pdfDocument,{type:de}=Re;(this._state===null||y(this,S,We).call(this,Re))&&(this._dirtyMatch=!0),this._state=Re,de!=="highlightallchange"&&y(this,ke,je).call(this,l.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||ce&&this._pdfDocument!==ce)return;y(this,R,he).call(this);const Ce=!this._highlightMatches,De=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),de?this._dirtyMatch?y(this,q,ve).call(this):de==="again"?(y(this,q,ve).call(this),Ce&&this._state.highlightAll&&y(this,U,Q).call(this)):de==="highlightallchange"?(De?y(this,q,ve).call(this):this._highlightMatches=!0,y(this,U,Q).call(this)):y(this,q,ve).call(this):this._findTimeout=setTimeout(()=>{y(this,q,ve).call(this),this._findTimeout=null},n)})}function $e(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,x.createPromiseCapability)()}function qe(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=Y(this._state.query)),this._normalizedQuery}function We(Re){if(Re.query!==this._state.query)return!0;switch(Re.type){case"again":const ce=this._selected.pageIdx+1,de=this._linkService;return ce>=1&&ce<=de.pagesCount&&ce!==de.page&&!de.isPageVisible(ce);case"highlightallchange":return!1}return!0}function Oe(Re,ce,de){let Ce=Re.slice(0,ce).match(K);if(Ce){const De=Re.charCodeAt(ce),Ve=Ce[1].charCodeAt(0);if((0,h.getCharacterType)(De)===(0,h.getCharacterType)(Ve))return!1}if(Ce=Re.slice(ce+de).match(O),Ce){const De=Re.charCodeAt(ce+de-1),Ve=Ce[1].charCodeAt(0);if((0,h.getCharacterType)(De)===(0,h.getCharacterType)(Ve))return!1}return!0}function Ne(Re,ce,de,Ce){const De=[],Ve=[],Ye=this._pageDiffs[de];let et;for(;(et=Re.exec(Ce))!==null;){if(ce&&!y(this,A,Oe).call(this,Ce,et.index,et[0].length))continue;const[it,Ge]=Z(Ye,et.index,et[0].length);Ge&&(De.push(it),Ve.push(Ge))}this._pageMatches[de]=De,this._pageMatchesLength[de]=Ve}function ze(Re,ce){const{matchDiacritics:de}=this._state;let Ce=!1;Re=Re.replace(ee,(Ve,Ye,et,it,Ge,nt)=>Ye?`[ ]*\\${Ye}[ ]*`:et?`[ ]*${et}[ ]*`:it?"[ ]+":de?Ge||nt:Ge?I.has(Ge.charCodeAt(0))?Ge:"":ce?(Ce=!0,`${nt}\\p{M}*`):nt);const De="[ ]*";return Re.endsWith(De)&&(Re=Re.slice(0,Re.length-De.length)),de&&ce&&(Ce=!0,Re=`${Re}(?=[${V}]|[^\\p{M}]|$)`),[Ce,Re]}function xe(Re){let ce=w(this,z);if(ce.length===0)return;const{caseSensitive:de,entireWord:Ce,phraseSearch:De}=this._state,Ve=this._pageContents[Re],Ye=this._hasDiacritics[Re];let et=!1;if(De)[et,ce]=y(this,$,ze).call(this,ce,Ye);else{const nt=ce.match(/\S+/g);nt&&(ce=nt.sort().reverse().map(se=>{const[ne,X]=y(this,$,ze).call(this,se,Ye);return et||(et=ne),`(${X})`}).join("|"))}const it=`g${et?"u":""}${de?"":"i"}`;ce=new RegExp(ce,it),y(this,j,Ne).call(this,ce,Ce,Re,Ve),this._state.highlightAll&&y(this,F,ye).call(this,Re),this._resumePageIdx===Re&&(this._resumePageIdx=null,y(this,le,Te).call(this));const Ge=this._pageMatches[Re].length;Ge>0&&(this._matchesCountTotal+=Ge,y(this,Ee,Me).call(this))}function he(){if(this._extractTextPromises.length>0)return;let Re=Promise.resolve();for(let ce=0,de=this._linkService.pagesCount;ce<de;ce++){const Ce=(0,x.createPromiseCapability)();this._extractTextPromises[ce]=Ce.promise,Re=Re.then(()=>this._pdfDocument.getPage(ce+1).then(De=>De.getTextContent()).then(De=>{const Ve=[];for(const Ye of De.items)Ve.push(Ye.str),Ye.hasEOL&&Ve.push(`
`);[this._pageContents[ce],this._pageDiffs[ce],this._hasDiacritics[ce]]=Y(Ve.join("")),Ce.resolve()},De=>{console.error(`Unable to get text content for page ${ce+1}`,De),this._pageContents[ce]="",this._pageDiffs[ce]=null,this._hasDiacritics[ce]=!1,Ce.resolve()}))}}function ye(Re){this._scrollMatches&&this._selected.pageIdx===Re&&(this._linkService.page=Re+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:Re})}function Q(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function ve(){const Re=this._state.findPrevious,ce=this._linkService.page-1,de=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=ce,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,y(this,U,Q).call(this);for(let De=0;De<de;De++)this._pendingFindMatches.has(De)||(this._pendingFindMatches.add(De),this._extractTextPromises[De].then(()=>{this._pendingFindMatches.delete(De),y(this,p,xe).call(this,De)}))}if(w(this,z)===""){y(this,ke,je).call(this,l.FOUND);return}if(this._resumePageIdx)return;const Ce=this._offset;if(this._pagesToSearch=de,Ce.matchIdx!==null){const De=this._pageMatches[Ce.pageIdx].length;if(!Re&&Ce.matchIdx+1<De||Re&&Ce.matchIdx>0){Ce.matchIdx=Re?Ce.matchIdx-1:Ce.matchIdx+1,y(this,Se,me).call(this,!0);return}y(this,ge,Fe).call(this,Re)}y(this,le,Te).call(this)}function oe(Re){const ce=this._offset,de=Re.length,Ce=this._state.findPrevious;return de?(ce.matchIdx=Ce?de-1:0,y(this,Se,me).call(this,!0),!0):(y(this,ge,Fe).call(this,Ce),ce.wrapped&&(ce.matchIdx=null,this._pagesToSearch<0)?(y(this,Se,me).call(this,!1),!0):!1)}function Te(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let Re=null;do{const ce=this._offset.pageIdx;if(Re=this._pageMatches[ce],!Re){this._resumePageIdx=ce;break}}while(!y(this,te,oe).call(this,Re))}function Fe(Re){const ce=this._offset,de=this._linkService.pagesCount;ce.pageIdx=Re?ce.pageIdx-1:ce.pageIdx+1,ce.matchIdx=null,this._pagesToSearch--,(ce.pageIdx>=de||ce.pageIdx<0)&&(ce.pageIdx=Re?de-1:0,ce.wrapped=!0)}function me(){let Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ce=l.NOT_FOUND;const de=this._offset.wrapped;if(this._offset.wrapped=!1,Re){const Ce=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,ce=de?l.WRAPPED:l.FOUND,Ce!==-1&&Ce!==this._selected.pageIdx&&y(this,F,ye).call(this,Ce)}y(this,ke,je).call(this,ce,this._state.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,y(this,F,ye).call(this,this._selected.pageIdx))}function ae(Re){const ce=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||ce&&this._pdfDocument!==ce||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),y(this,ke,je).call(this,l.FOUND),this._highlightMatches=!1,y(this,U,Q).call(this))})}function ue(){const{pageIdx:Re,matchIdx:ce}=this._selected;let de=0,Ce=this._matchesCountTotal;if(ce!==-1){for(let Ve=0;Ve<Re;Ve++){var De;de+=((De=this._pageMatches[Ve])===null||De===void 0?void 0:De.length)||0}de+=ce+1}return(de<1||de>Ce)&&(de=Ce=0),{current:de,total:Ce}}function Me(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:y(this,Pe,ue).call(this)})}function je(Re){var ce,de;let Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:Re,previous:Ce,matchesCount:y(this,Pe,ue).call(this),rawQuery:(ce=(de=this._state)===null||de===void 0?void 0:de.query)!==null&&ce!==void 0?ce:null})}},(D,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CharacterType=void 0,d.getCharacterType=l;const b={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};d.CharacterType=b;function c(n){return n<11904}function x(n){return(n&65408)===0}function h(n){return n>=97&&n<=122||n>=65&&n<=90}function k(n){return n>=48&&n<=57}function m(n){return n===32||n===9||n===13||n===10}function u(n){return n>=13312&&n<=40959||n>=63744&&n<=64255}function w(n){return n>=12448&&n<=12543}function f(n){return n>=12352&&n<=12447}function g(n){return n>=65376&&n<=65439}function y(n){return(n&65408)===3584}function l(n){return c(n)?x(n)?m(n)?b.SPACE:h(n)||k(n)||n===95?b.ALPHA_LETTER:b.PUNCT:y(n)?b.THAI_LETTER:n===160?b.SPACE:b.ALPHA_LETTER:u(n)?b.HAN_LETTER:w(n)?b.KATAKANA_LETTER:f(n)?b.HIRAGANA_LETTER:g(n)?b.HALFWIDTH_KATAKANA_LETTER:b.ALPHA_LETTER}},(D,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFHistory=void 0,d.isDestArraysEqual=g,d.isDestHashesEqual=f;var c=b(7),x=b(19);const h=1e3,k=50,m=1e3;function u(){return document.location.hash}class w{constructor(l){let{linkService:n,eventBus:a}=l;this.linkService=n,this.eventBus=a,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",v=>{this._isPagesLoaded=!!v.pagesCount},{once:!0})})}initialize(l){let{fingerprint:n,resetHistory:a=!1,updateUrl:v=!1}=l;if(!n||typeof n!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const _=this._fingerprint!==""&&this._fingerprint!==n;this._fingerprint=n,this._updateUrl=v===!0,this._initialized=!0,this._bindEvents();const I=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=u(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(I,!0)||a){const{hash:E,page:ee,rotation:K}=this._parseCurrentHash(!0);if(!E||_||a){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:E,page:ee,rotation:K},!0);return}const V=I.destination;this._updateInternalState(V,I.uid,!0),V.rotation!==void 0&&(this._initialRotation=V.rotation),V.dest?(this._initialBookmark=JSON.stringify(V.dest),this._destination.page=null):V.hash?this._initialBookmark=V.hash:V.page&&(this._initialBookmark=`page=${V.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push(l){let{namedDest:n=null,explicitDest:a,pageNumber:v}=l;if(!this._initialized)return;if(n&&typeof n!="string"){console.error(`PDFHistory.push: "${n}" is not a valid namedDest parameter.`);return}else if(Array.isArray(a)){if(!this._isValidPage(v)&&(v!==null||this._destination)){console.error(`PDFHistory.push: "${v}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${a}" is not a valid explicitDest parameter.`);return}const _=n||JSON.stringify(a);if(!_)return;let I=!1;if(this._destination&&(f(this._destination.hash,_)||g(this._destination.dest,a))){if(this._destination.page)return;I=!0}this._popStateInProgress&&!I||(this._pushOrReplaceState({dest:a,hash:_,page:v,rotation:this.linkService.rotation},I),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(l){var n;if(this._initialized){if(!this._isValidPage(l)){console.error(`PDFHistory.pushPage: "${l}" is not a valid page number.`);return}((n=this._destination)===null||n===void 0?void 0:n.page)!==l&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${l}`,page:l,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const l=window.history.state;this._isValidState(l)&&l.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const l=window.history.state;this._isValidState(l)&&l.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(l){const a=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)||!this._destination,v={fingerprint:this._fingerprint,uid:a?this._uid:this._uid+1,destination:l};this._updateInternalState(l,v.uid);let _;if(this._updateUrl&&l!==null&&l!==void 0&&l.hash){const I=document.location.href.split("#")[0];I.startsWith("file://")||(_=`${I}#${l.hash}`)}a?window.history.replaceState(v,"",_):window.history.pushState(v,"",_)}_tryPushCurrentPosition(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this._position)return;let n=this._position;if(l&&(n=Object.assign(Object.create(null),this._position),n.temporary=!0),!this._destination){this._pushOrReplaceState(n);return}if(this._destination.temporary){this._pushOrReplaceState(n,!0);return}if(this._destination.hash===n.hash||!this._destination.page&&(k<=0||this._numPositionUpdates<=k))return;let a=!1;if(this._destination.page>=n.first&&this._destination.page<=n.page){if(this._destination.dest!==void 0||!this._destination.first)return;a=!0}this._pushOrReplaceState(n,a)}_isValidPage(l){return Number.isInteger(l)&&l>0&&l<=this.linkService.pagesCount}_isValidState(l){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!l)return!1;if(l.fingerprint!==this._fingerprint)if(n){if(typeof l.fingerprint!="string"||l.fingerprint.length!==this._fingerprint.length)return!1;const[a]=performance.getEntriesByType("navigation");if((a==null?void 0:a.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(l.uid)||l.uid<0||l.destination===null||typeof l.destination!="object")}_updateInternalState(l,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),a&&l!==null&&l!==void 0&&l.temporary&&delete l.temporary,this._destination=l,this._uid=n,this._maxUid=Math.max(this._maxUid,n),this._numPositionUpdates=0}_parseCurrentHash(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const n=unescape(u()).substring(1),a=(0,c.parseQueryString)(n),v=a.get("nameddest")||"";let _=a.get("page")|0;return(!this._isValidPage(_)||l&&v.length>0)&&(_=null),{hash:n,page:_,rotation:this.linkService.rotation}}_updateViewarea(l){let{location:n}=l;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:n.pdfOpenParams.substring(1),page:this.linkService.page,first:n.pageNumber,rotation:n.rotation},!this._popStateInProgress&&(k>0&&this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,m>0&&(this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},m)))}_popState(l){let{state:n}=l;const a=u(),v=this._currentHash!==a;if(this._currentHash=a,!n){this._uid++;const{hash:I,page:V,rotation:E}=this._parseCurrentHash();this._pushOrReplaceState({hash:I,page:V,rotation:E},!0);return}if(!this._isValidState(n))return;this._popStateInProgress=!0,v&&(this._blockHashChange++,(0,x.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:h}).then(()=>{this._blockHashChange--}));const _=n.destination;this._updateInternalState(_,n.uid,!0),(0,c.isValidRotation)(_.rotation)&&(this.linkService.rotation=_.rotation),_.dest?this.linkService.goToDestination(_.dest):_.hash?this.linkService.setHash(_.hash):_.page&&(this.linkService.page=_.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}d.PDFHistory=w;function f(y,l){return typeof y!="string"||typeof l!="string"?!1:y===l||(0,c.parseQueryString)(y).get("nameddest")===l}function g(y,l){function n(a,v){if(typeof a!=typeof v||Array.isArray(a)||Array.isArray(v))return!1;if(a!==null&&typeof a=="object"&&v!==null){if(Object.keys(a).length!==Object.keys(v).length)return!1;for(const _ in a)if(!n(a[_],v[_]))return!1;return!0}return a===v||Number.isNaN(a)&&Number.isNaN(v)}if(!(Array.isArray(y)&&Array.isArray(l))||y.length!==l.length)return!1;for(let a=0,v=y.length;a<v;a++)if(!n(y[a],l[a]))return!1;return!0}},(D,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFScriptingManager=void 0;var c=b(7),x=b(3);class h{constructor(m){let{eventBus:u,sandboxBundleSrc:w=null,scriptingFactory:f=null,docPropertiesLookup:g=null}=m;this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=u,this._sandboxBundleSrc=w,this._scriptingFactory=f,this._docPropertiesLookup=g,this._scriptingFactory||window.addEventListener("updatefromsandbox",y=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:y.detail})})}setViewer(m){this._pdfViewer=m}setDocument(m){return st(this,null,function*(){var u;if(this._pdfDocument&&(yield this._destroyScripting()),this._pdfDocument=m,!m)return;const[w,f,g]=yield Promise.all([m.getFieldObjects(),m.getCalculationOrderIds(),m.getJSActions()]);if(!w&&!g){yield this._destroyScripting();return}if(m===this._pdfDocument){try{this._scripting=this._createScripting()}catch(y){console.error(`PDFScriptingManager.setDocument: "${y==null?void 0:y.message}".`),yield this._destroyScripting();return}this._internalEvents.set("updatefromsandbox",y=>{(y==null?void 0:y.source)===window&&this._updateFromSandbox(y.detail)}),this._internalEvents.set("dispatcheventinsandbox",y=>{var l;(l=this._scripting)===null||l===void 0||l.dispatchEventInSandbox(y.detail)}),this._internalEvents.set("pagechanging",y=>{let{pageNumber:l,previous:n}=y;l!==n&&(this._dispatchPageClose(n),this._dispatchPageOpen(l))}),this._internalEvents.set("pagerendered",y=>{let{pageNumber:l}=y;this._pageOpenPending.has(l)&&l===this._pdfViewer.currentPageNumber&&this._dispatchPageOpen(l)}),this._internalEvents.set("pagesdestroy",y=>st(this,null,function*(){var l,n;yield this._dispatchPageClose(this._pdfViewer.currentPageNumber),yield(l=this._scripting)===null||l===void 0?void 0:l.dispatchEventInSandbox({id:"doc",name:"WillClose"}),(n=this._closeCapability)===null||n===void 0||n.resolve()})),this._domEvents.set("mousedown",y=>{this._mouseState.isDown=!0}),this._domEvents.set("mouseup",y=>{this._mouseState.isDown=!1});for(const[y,l]of this._internalEvents)this._eventBus._on(y,l);for(const[y,l]of this._domEvents)window.addEventListener(y,l,!0);try{const y=yield this._getDocProperties();if(m!==this._pdfDocument)return;yield this._scripting.createSandbox({objects:w,calculationOrder:f,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:xn(Tn({},y),{actions:g})}),this._eventBus.dispatch("sandboxcreated",{source:this})}catch(y){console.error(`PDFScriptingManager.setDocument: "${y==null?void 0:y.message}".`),yield this._destroyScripting();return}yield(u=this._scripting)===null||u===void 0?void 0:u.dispatchEventInSandbox({id:"doc",name:"Open"}),yield this._dispatchPageOpen(this._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{m===this._pdfDocument&&(this._ready=!0)})}})}dispatchWillSave(m){return st(this,null,function*(){var u;return(u=this._scripting)===null||u===void 0?void 0:u.dispatchEventInSandbox({id:"doc",name:"WillSave"})})}dispatchDidSave(m){return st(this,null,function*(){var u;return(u=this._scripting)===null||u===void 0?void 0:u.dispatchEventInSandbox({id:"doc",name:"DidSave"})})}dispatchWillPrint(m){return st(this,null,function*(){var u;return(u=this._scripting)===null||u===void 0?void 0:u.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})}dispatchDidPrint(m){return st(this,null,function*(){var u;return(u=this._scripting)===null||u===void 0?void 0:u.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})}get mouseState(){return this._mouseState}get destroyPromise(){var m;return((m=this._destroyCapability)===null||m===void 0?void 0:m.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,x.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,x.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,x.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,x.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(m){return st(this,null,function*(){const u=this._pdfViewer.isInPresentationMode||this._pdfViewer.isChangingPresentationMode,{id:w,siblings:f,command:g,value:y}=m;if(!w){switch(g){case"clear":console.clear();break;case"error":console.error(y);break;case"layout":if(u)return;const a=(0,c.apiPageLayoutToViewerModes)(y);this._pdfViewer.spreadMode=a.spreadMode;break;case"page-num":this._pdfViewer.currentPageNumber=y+1;break;case"print":yield this._pdfViewer.pagesPromise,this._eventBus.dispatch("print",{source:this});break;case"println":console.log(y);break;case"zoom":if(u)return;this._pdfViewer.currentScaleValue=y;break;case"SaveAs":this._eventBus.dispatch("download",{source:this});break;case"FirstPage":this._pdfViewer.currentPageNumber=1;break;case"LastPage":this._pdfViewer.currentPageNumber=this._pdfViewer.pagesCount;break;case"NextPage":this._pdfViewer.nextPage();break;case"PrevPage":this._pdfViewer.previousPage();break;case"ZoomViewIn":if(u)return;this._pdfViewer.increaseScale();break;case"ZoomViewOut":if(u)return;this._pdfViewer.decreaseScale();break}return}if(u&&m.focus)return;delete m.id,delete m.siblings;const l=f?[w,...f]:[w];for(const a of l){const v=document.querySelector(`[data-element-id="${a}"]`);if(v)v.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:m}));else{var n;(n=this._pdfDocument)===null||n===void 0||n.annotationStorage.setValue(a,m)}}})}_dispatchPageOpen(u){return st(this,arguments,function*(m){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const f=this._pdfDocument,g=this._visitedPages;if(w&&(this._closeCapability=(0,x.createPromiseCapability)()),!this._closeCapability)return;const y=this._pdfViewer.getPageView(m-1);if((y==null?void 0:y.renderingState)!==c.RenderingStates.FINISHED){this._pageOpenPending.add(m);return}this._pageOpenPending.delete(m);const l=(()=>st(this,null,function*(){var n,a;const v=yield g.has(m)?null:(n=y.pdfPage)===null||n===void 0?void 0:n.getJSActions();f===this._pdfDocument&&(yield(a=this._scripting)===null||a===void 0?void 0:a.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:m,actions:v}))}))();g.set(m,l)})}_dispatchPageClose(m){return st(this,null,function*(){var u;const w=this._pdfDocument,f=this._visitedPages;if(!this._closeCapability||this._pageOpenPending.has(m))return;const g=f.get(m);g&&(f.set(m,null),yield g,w===this._pdfDocument&&(yield(u=this._scripting)===null||u===void 0?void 0:u.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:m})))})}_getDocProperties(){return st(this,null,function*(){if(this._docPropertiesLookup)return this._docPropertiesLookup(this._pdfDocument);const{docPropertiesLookup:m}=b(26);return m(this._pdfDocument)})}_createScripting(){if(this._destroyCapability=(0,x.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:m}=b(26);return new m(this._sandboxBundleSrc)}_destroyScripting(){return st(this,null,function*(){var m;if(!this._scripting){var u;this._pdfDocument=null,(u=this._destroyCapability)===null||u===void 0||u.resolve();return}this._closeCapability&&(yield Promise.race([this._closeCapability.promise,new Promise(w=>{setTimeout(w,1e3)})]).catch(w=>{}),this._closeCapability=null),this._pdfDocument=null;try{yield this._scripting.destroySandbox()}catch(w){}for(const[w,f]of this._internalEvents)this._eventBus._off(w,f);this._internalEvents.clear();for(const[w,f]of this._domEvents)window.removeEventListener(w,f,!0);this._domEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this._scripting=null,delete this._mouseState.isDown,this._ready=!1,(m=this._destroyCapability)===null||m===void 0||m.resolve()})}}d.PDFScriptingManager=h},(D,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GenericScripting=void 0,d.docPropertiesLookup=x;var c=b(3);function x(k){return st(this,null,function*(){const m="",u=m.split("#")[0];let{info:w,metadata:f,contentDispositionFilename:g,contentLength:y}=yield k.getMetadata();if(!y){const{length:l}=yield k.getDownloadInfo();y=l}return xn(Tn({},w),{baseURL:u,filesize:y,filename:g||(0,c.getPdfFilenameFromUrl)(m),metadata:f==null?void 0:f.getRaw(),authors:f==null?void 0:f.get("dc:creator"),numPages:k.numPages,URL:m})})}class h{constructor(m){this._ready=(0,c.loadScript)(m,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(m){return st(this,null,function*(){(yield this._ready).create(m)})}dispatchEventInSandbox(m){return st(this,null,function*(){const u=yield this._ready;setTimeout(()=>u.dispatchEvent(m),0)})}destroySandbox(){return st(this,null,function*(){(yield this._ready).nukeSandbox()})}}d.GenericScripting=h}],o={};function C(D){var d=o[D];if(d!==void 0)return d.exports;var b=o[D]={exports:{}};return r[D](b,b.exports,C),b.exports}var W={};return(()=>{var D=W;Object.defineProperty(D,"__esModule",{value:!0}),Object.defineProperty(D,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return h.AnnotationLayerBuilder}}),Object.defineProperty(D,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return d.DefaultAnnotationLayerFactory}}),Object.defineProperty(D,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return d.DefaultStructTreeLayerFactory}}),Object.defineProperty(D,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return d.DefaultTextLayerFactory}}),Object.defineProperty(D,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return d.DefaultXfaLayerFactory}}),Object.defineProperty(D,"DownloadManager",{enumerable:!0,get:function(){return k.DownloadManager}}),Object.defineProperty(D,"EventBus",{enumerable:!0,get:function(){return m.EventBus}}),Object.defineProperty(D,"GenericL10n",{enumerable:!0,get:function(){return u.GenericL10n}}),Object.defineProperty(D,"LinkTarget",{enumerable:!0,get:function(){return b.LinkTarget}}),Object.defineProperty(D,"NullL10n",{enumerable:!0,get:function(){return w.NullL10n}}),Object.defineProperty(D,"PDFFindController",{enumerable:!0,get:function(){return f.PDFFindController}}),Object.defineProperty(D,"PDFHistory",{enumerable:!0,get:function(){return g.PDFHistory}}),Object.defineProperty(D,"PDFLinkService",{enumerable:!0,get:function(){return b.PDFLinkService}}),Object.defineProperty(D,"PDFPageView",{enumerable:!0,get:function(){return y.PDFPageView}}),Object.defineProperty(D,"PDFScriptingManager",{enumerable:!0,get:function(){return l.PDFScriptingManager}}),Object.defineProperty(D,"PDFSinglePageViewer",{enumerable:!0,get:function(){return x.PDFSinglePageViewer}}),Object.defineProperty(D,"PDFViewer",{enumerable:!0,get:function(){return x.PDFViewer}}),Object.defineProperty(D,"ProgressBar",{enumerable:!0,get:function(){return c.ProgressBar}}),Object.defineProperty(D,"RenderingStates",{enumerable:!0,get:function(){return c.RenderingStates}}),Object.defineProperty(D,"ScrollMode",{enumerable:!0,get:function(){return c.ScrollMode}}),Object.defineProperty(D,"SimpleLinkService",{enumerable:!0,get:function(){return b.SimpleLinkService}}),Object.defineProperty(D,"SpreadMode",{enumerable:!0,get:function(){return c.SpreadMode}}),Object.defineProperty(D,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return n.StructTreeLayerBuilder}}),Object.defineProperty(D,"TextLayerBuilder",{enumerable:!0,get:function(){return a.TextLayerBuilder}}),Object.defineProperty(D,"XfaLayerBuilder",{enumerable:!0,get:function(){return v.XfaLayerBuilder}}),Object.defineProperty(D,"parseQueryString",{enumerable:!0,get:function(){return c.parseQueryString}});var d=C(1),b=C(6),c=C(7),x=C(11),h=C(5),k=C(18),m=C(19),u=C(20),w=C(4),f=C(22),g=C(24),y=C(13),l=C(25),n=C(8),a=C(9),v=C(10);const _="2.16.105",I="172ccdbe5"})(),W})())},23800:function(H,s,t){(function(r,o){o(s)})(this,function(r){"use strict";var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:function(e){return"Symbol(".concat(e,")")};function C(e,i){var N={label:0,sent:function(){if(we[0]&1)throw we[1];return we[1]},trys:[],ops:[]},re,be,we,Le;return Le={next:Je(0),throw:Je(1),return:Je(2)},typeof Symbol=="function"&&(Le[Symbol.iterator]=function(){return this}),Le;function Je(Qe){return function(ot){return at([Qe,ot])}}function at(Qe){if(re)throw new TypeError("Generator is already executing.");for(;Le&&(Le=0,Qe[0]&&(N=0)),N;)try{if(re=1,be&&(we=Qe[0]&2?be.return:Qe[0]?be.throw||((we=be.return)&&we.call(be),0):be.next)&&!(we=we.call(be,Qe[1])).done)return we;switch(be=0,we&&(Qe=[Qe[0]&2,we.value]),Qe[0]){case 0:case 1:we=Qe;break;case 4:return N.label++,{value:Qe[1],done:!1};case 5:N.label++,be=Qe[1],Qe=[0];continue;case 7:Qe=N.ops.pop(),N.trys.pop();continue;default:if(we=N.trys,!(we=we.length>0&&we[we.length-1])&&(Qe[0]===6||Qe[0]===2)){N=0;continue}if(Qe[0]===3&&(!we||Qe[1]>we[0]&&Qe[1]<we[3])){N.label=Qe[1];break}if(Qe[0]===6&&N.label<we[1]){N.label=we[1],we=Qe;break}if(we&&N.label<we[2]){N.label=we[2],N.ops.push(Qe);break}we[2]&&N.ops.pop(),N.trys.pop();continue}Qe=i.call(e,N)}catch(ot){Qe=[6,ot],be=0}finally{re=we=0}if(Qe[0]&5)throw Qe[1];return{value:Qe[0]?Qe[1]:void 0,done:!0}}}function W(e){var i=typeof Symbol=="function"&&Symbol.iterator,N=i&&e[i],re=0;if(N)return N.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&re>=e.length&&(e=void 0),{value:e&&e[re++],done:!e}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function D(e){return this instanceof D?(this.v=e,this):new D(e)}function d(e,i,N){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re=N.apply(e,i||[]),be,we=[];return be={},Le("next"),Le("throw"),Le("return"),be[Symbol.asyncIterator]=function(){return this},be;function Le(ht){re[ht]&&(be[ht]=function(wt){return new Promise(function(Ot,Ft){we.push([ht,wt,Ot,Ft])>1||Je(ht,wt)})})}function Je(ht,wt){try{at(re[ht](wt))}catch(Ot){ut(we[0][3],Ot)}}function at(ht){ht.value instanceof D?Promise.resolve(ht.value.v).then(Qe,ot):ut(we[0][2],ht)}function Qe(ht){Je("next",ht)}function ot(ht){Je("throw",ht)}function ut(ht,wt){ht(wt),we.shift(),we.length&&Je(we[0][0],we[0][1])}}function b(e){var i,N;return i={},re("next"),re("throw",function(be){throw be}),re("return"),i[Symbol.iterator]=function(){return this},i;function re(be,we){i[be]=e[be]?function(Le){return(N=!N)?{value:D(e[be](Le)),done:!1}:we?we(Le):Le}:we}}function c(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e[Symbol.asyncIterator],N;return i?i.call(e):(e=typeof W=="function"?W(e):e[Symbol.iterator](),N={},re("next"),re("throw"),re("return"),N[Symbol.asyncIterator]=function(){return this},N);function re(we){N[we]=e[we]&&function(Le){return new Promise(function(Je,at){Le=e[we](Le),be(Je,at,Le.done,Le.value)})}}function be(we,Le,Je,at){Promise.resolve(at).then(function(Qe){we({value:Qe,done:Je})},Le)}}typeof SuppressedError=="function"&&SuppressedError;function x(){}function h(e){return typeof e=="object"&&e!==null||typeof e=="function"}var k=x;function m(e,i){try{Object.defineProperty(e,"name",{value:i,configurable:!0})}catch(N){}}var u=Promise,w=Promise.prototype.then,f=Promise.reject.bind(u);function g(e){return new u(e)}function y(e){return g(function(i){return i(e)})}function l(e){return f(e)}function n(e,i,N){return w.call(e,i,N)}function a(e,i,N){n(n(e,i,N),void 0,k)}function v(e,i){a(e,i)}function _(e,i){a(e,void 0,i)}function I(e,i,N){return n(e,i,N)}function V(e){n(e,void 0,k)}var E=function(e){if(typeof queueMicrotask=="function")E=queueMicrotask;else{var i=y(void 0);E=function(N){return n(i,N)}}return E(e)};function ee(e,i,N){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,i,N)}function K(e,i,N){try{return y(ee(e,i,N))}catch(re){return l(re)}}var O=16384,L=function(){function e(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.push=function(i){var N=this._back,re=N;N._elements.length===O-1&&(re={_elements:[],_next:void 0}),N._elements.push(i),re!==N&&(this._back=re,N._next=re),++this._size},e.prototype.shift=function(){var i=this._front,N=i,re=this._cursor,be=re+1,we=i._elements,Le=we[re];return be===O&&(N=i._next,be=0),--this._size,this._cursor=be,i!==N&&(this._front=N),we[re]=void 0,Le},e.prototype.forEach=function(i){for(var N=this._cursor,re=this._front,be=re._elements;(N!==be.length||re._next!==void 0)&&!(N===be.length&&(re=re._next,be=re._elements,N=0,be.length===0));)i(be[N]),++N},e.prototype.peek=function(){var i=this._front,N=this._cursor;return i._elements[N]},e}(),T=o("[[AbortSteps]]"),B=o("[[ErrorSteps]]"),M=o("[[CancelSteps]]"),P=o("[[PullSteps]]"),Y=o("[[ReleaseSteps]]");function Z(e,i){e._ownerReadableStream=i,i._reader=e,i._state==="readable"?S(e):i._state==="closed"?j(e):A(e,i._storedError)}function J(e,i){var N=e._ownerReadableStream;return Bt(N,i)}function _e(e){var i=e._ownerReadableStream;i._state==="readable"?$(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):p(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),i._readableStreamController[Y](),i._reader=void 0,e._ownerReadableStream=void 0}function z(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function S(e){e._closedPromise=g(function(i,N){e._closedPromise_resolve=i,e._closedPromise_reject=N})}function A(e,i){S(e),$(e,i)}function j(e){S(e),R(e)}function $(e,i){e._closedPromise_reject!==void 0&&(V(e._closedPromise),e._closedPromise_reject(i),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function p(e,i){A(e,i)}function R(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}var F=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},U=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function q(e){return typeof e=="object"||typeof e=="function"}function te(e,i){if(e!==void 0&&!q(e))throw new TypeError("".concat(i," is not an object."))}function le(e,i){if(typeof e!="function")throw new TypeError("".concat(i," is not a function."))}function ge(e){return typeof e=="object"&&e!==null||typeof e=="function"}function Se(e,i){if(!ge(e))throw new TypeError("".concat(i," is not an object."))}function Ae(e,i,N){if(e===void 0)throw new TypeError("Parameter ".concat(i," is required in '").concat(N,"'."))}function Pe(e,i,N){if(e===void 0)throw new TypeError("".concat(i," is required in '").concat(N,"'."))}function Ee(e){return Number(e)}function ke(e){return e===0?0:e}function Be(e){return ke(U(e))}function Ue(e,i){var N=0,re=Number.MAX_SAFE_INTEGER,be=Number(e);if(be=ke(be),!F(be))throw new TypeError("".concat(i," is not a finite number"));if(be=Be(be),be<N||be>re)throw new TypeError("".concat(i," is outside the accepted range of ").concat(N," to ").concat(re,", inclusive"));return!F(be)||be===0?0:be}function $e(e,i){if(!qt(e))throw new TypeError("".concat(i," is not a ReadableStream."))}function qe(e){return new xe(e)}function We(e,i){e._reader._readRequests.push(i)}function Oe(e,i,N){var re=e._reader,be=re._readRequests.shift();N?be._closeSteps():be._chunkSteps(i)}function Ne(e){return e._reader._readRequests.length}function ze(e){var i=e._reader;return!(i===void 0||!he(i))}var xe=function(){function e(i){if(Ae(i,1,"ReadableStreamDefaultReader"),$e(i,"First parameter"),Qt(i))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Z(this,i),this._readRequests=new L}return Object.defineProperty(e.prototype,"closed",{get:function(){return he(this)?this._closedPromise:l(oe("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(i){return i===void 0&&(i=void 0),he(this)?this._ownerReadableStream===void 0?l(z("cancel")):J(this,i):l(oe("cancel"))},e.prototype.read=function(){if(!he(this))return l(oe("read"));if(this._ownerReadableStream===void 0)return l(z("read from"));var i,N,re=g(function(we,Le){i=we,N=Le}),be={_chunkSteps:function(we){return i({value:we,done:!1})},_closeSteps:function(){return i({value:void 0,done:!0})},_errorSteps:function(we){return N(we)}};return ye(this,be),re},e.prototype.releaseLock=function(){if(!he(this))throw oe("releaseLock");this._ownerReadableStream!==void 0&&Q(this)},e}();Object.defineProperties(xe.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),m(xe.prototype.cancel,"cancel"),m(xe.prototype.read,"read"),m(xe.prototype.releaseLock,"releaseLock"),typeof o.toStringTag=="symbol"&&Object.defineProperty(xe.prototype,o.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function he(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof xe}function ye(e,i){var N=e._ownerReadableStream;N._disturbed=!0,N._state==="closed"?i._closeSteps():N._state==="errored"?i._errorSteps(N._storedError):N._readableStreamController[P](i)}function Q(e){_e(e);var i=new TypeError("Reader was released");ve(e,i)}function ve(e,i){var N=e._readRequests;e._readRequests=new L,N.forEach(function(re){re._errorSteps(i)})}function oe(e){return new TypeError("ReadableStreamDefaultReader.prototype.".concat(e," can only be used on a ReadableStreamDefaultReader"))}var Te,Fe;typeof o.asyncIterator=="symbol"&&(Fe=(Te={},Te[o.asyncIterator]=function(){return this},Te),Object.defineProperty(Fe,o.asyncIterator,{enumerable:!1}));var me=function(){function e(i,N){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=i,this._preventCancel=N}return e.prototype.next=function(){var i=this,N=function(){return i._nextSteps()};return this._ongoingPromise=this._ongoingPromise?I(this._ongoingPromise,N,N):N(),this._ongoingPromise},e.prototype.return=function(i){var N=this,re=function(){return N._returnSteps(i)};return this._ongoingPromise?I(this._ongoingPromise,re,re):re()},e.prototype._nextSteps=function(){var i=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var N=this._reader,re,be,we=g(function(Je,at){re=Je,be=at}),Le={_chunkSteps:function(Je){i._ongoingPromise=void 0,E(function(){return re({value:Je,done:!1})})},_closeSteps:function(){i._ongoingPromise=void 0,i._isFinished=!0,_e(N),re({value:void 0,done:!0})},_errorSteps:function(Je){i._ongoingPromise=void 0,i._isFinished=!0,_e(N),be(Je)}};return ye(N,Le),we},e.prototype._returnSteps=function(i){if(this._isFinished)return Promise.resolve({value:i,done:!0});this._isFinished=!0;var N=this._reader;if(!this._preventCancel){var re=J(N,i);return _e(N),I(re,function(){return{value:i,done:!0}})}return _e(N),y({value:i,done:!0})},e}(),ae={next:function(){return Me(this)?this._asyncIteratorImpl.next():l(je("next"))},return:function(e){return Me(this)?this._asyncIteratorImpl.return(e):l(je("return"))}};Fe!==void 0&&Object.setPrototypeOf(ae,Fe);function ue(e,i){var N=qe(e),re=new me(N,i),be=Object.create(ae);return be._asyncIteratorImpl=re,be}function Me(e){if(!h(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof me}catch(i){return!1}}function je(e){return new TypeError("ReadableStreamAsyncIterator.".concat(e," can only be used on a ReadableSteamAsyncIterator"))}var Re=Number.isNaN||function(e){return e!==e};function ce(e){return e.slice()}function de(e,i,N,re,be){new Uint8Array(e).set(new Uint8Array(N,re,be),i)}var Ce=function(e){return typeof e.transfer=="function"?Ce=function(i){return i.transfer()}:typeof structuredClone=="function"?Ce=function(i){return structuredClone(i,{transfer:[i]})}:Ce=function(i){return i},Ce(e)},De=function(e){return typeof e.detached=="boolean"?De=function(i){return i.detached}:De=function(i){return i.byteLength===0},De(e)};function Ve(e,i,N){if(e.slice)return e.slice(i,N);var re=N-i,be=new ArrayBuffer(re);return de(be,0,e,i,re),be}function Ye(e,i){var N=e[i];if(N!=null){if(typeof N!="function")throw new TypeError("".concat(String(i)," is not a function"));return N}}function et(e){var i,N=(i={},i[o.iterator]=function(){return e.iterator},i),re=function(){return d(this,arguments,function(){return C(this,function(we){switch(we.label){case 0:return[5,W(b(c(N)))];case 1:return[4,D.apply(void 0,[we.sent()])];case 2:return[4,D.apply(void 0,[we.sent()])];case 3:return[2,we.sent()]}})})}(),be=re.next;return{iterator:re,nextMethod:be,done:!1}}function it(e,i,N){if(i===void 0&&(i="sync"),N===void 0)if(i==="async"){if(N=Ye(e,o.asyncIterator),N===void 0){var re=Ye(e,o.iterator),be=it(e,"sync",re);return et(be)}}else N=Ye(e,o.iterator);if(N===void 0)throw new TypeError("The object is not iterable");var we=ee(N,e,[]);if(!h(we))throw new TypeError("The iterator method must return an object");var Le=we.next;return{iterator:we,nextMethod:Le,done:!1}}function Ge(e){var i=ee(e.nextMethod,e.iterator,[]);if(!h(i))throw new TypeError("The iterator.next() method must return an object");return i}function nt(e){return!!e.done}function se(e){return e.value}function ne(e){return!(typeof e!="number"||Re(e)||e<0)}function X(e){var i=Ve(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(i)}function G(e){var i=e._queue.shift();return e._queueTotalSize-=i.size,e._queueTotalSize<0&&(e._queueTotalSize=0),i.value}function ie(e,i,N){if(!ne(N)||N===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:i,size:N}),e._queueTotalSize+=N}function pe(e){var i=e._queue.peek();return i.value}function fe(e){e._queue=new L,e._queueTotalSize=0}function Ie(e){return e===DataView}function He(e){return Ie(e.constructor)}function Ke(e){return Ie(e)?1:e.BYTES_PER_ELEMENT}var Xe=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"view",{get:function(){if(!rt(this))throw Zn("view");return this._view},enumerable:!1,configurable:!0}),e.prototype.respond=function(i){if(!rt(this))throw Zn("respond");if(Ae(i,1,"respond"),i=Ue(i,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(De(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");kn(this._associatedReadableByteStreamController,i)},e.prototype.respondWithNewView=function(i){if(!rt(this))throw Zn("respondWithNewView");if(Ae(i,1,"respondWithNewView"),!ArrayBuffer.isView(i))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(De(i.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");Mn(this._associatedReadableByteStreamController,i)},e}();Object.defineProperties(Xe.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),m(Xe.prototype.respond,"respond"),m(Xe.prototype.respondWithNewView,"respondWithNewView"),typeof o.toStringTag=="symbol"&&Object.defineProperty(Xe.prototype,o.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var Ze=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"byobRequest",{get:function(){if(!tt(this))throw yn("byobRequest");return bn(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!tt(this))throw yn("desiredSize");return Rn(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!tt(this))throw yn("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var i=this._controlledReadableByteStream._state;if(i!=="readable")throw new TypeError("The stream (in ".concat(i," state) is not in the readable state and cannot be closed"));Xt(this)},e.prototype.enqueue=function(i){if(!tt(this))throw yn("enqueue");if(Ae(i,1,"enqueue"),!ArrayBuffer.isView(i))throw new TypeError("chunk must be an array buffer view");if(i.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(i.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var N=this._controlledReadableByteStream._state;if(N!=="readable")throw new TypeError("The stream (in ".concat(N," state) is not in the readable state and cannot be enqueued to"));cn(this,i)},e.prototype.error=function(i){if(i===void 0&&(i=void 0),!tt(this))throw yn("error");Rt(this,i)},e.prototype[M]=function(i){ft(this),fe(this);var N=this._cancelAlgorithm(i);return ln(this),N},e.prototype[P]=function(i){var N=this._controlledReadableByteStream;if(this._queueTotalSize>0){vn(this,i);return}var re=this._autoAllocateChunkSize;if(re!==void 0){var be=void 0;try{be=new ArrayBuffer(re)}catch(Le){i._errorSteps(Le);return}var we={buffer:be,bufferByteLength:re,byteOffset:0,byteLength:re,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(we)}We(N,i),lt(this)},e.prototype[Y]=function(){if(this._pendingPullIntos.length>0){var i=this._pendingPullIntos.peek();i.readerType="none",this._pendingPullIntos=new L,this._pendingPullIntos.push(i)}},e}();Object.defineProperties(Ze.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),m(Ze.prototype.close,"close"),m(Ze.prototype.enqueue,"enqueue"),m(Ze.prototype.error,"error"),typeof o.toStringTag=="symbol"&&Object.defineProperty(Ze.prototype,o.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function tt(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof Ze}function rt(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof Xe}function lt(e){var i=Jn(e);if(i){if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;var N=e._pullAlgorithm();a(N,function(){return e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,lt(e)),null},function(re){return Rt(e,re),null})}}function ft(e){_t(e),e._pendingPullIntos=new L}function mt(e,i){var N=!1;e._state==="closed"&&(N=!0);var re=St(i);i.readerType==="default"?Oe(e,re,N):hi(e,re,N)}function St(e){var i=e.bytesFilled,N=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,i/N)}function pt(e,i,N,re){e._queue.push({buffer:i,byteOffset:N,byteLength:re}),e._queueTotalSize+=re}function dt(e,i,N,re){var be;try{be=Ve(i,N,N+re)}catch(we){throw Rt(e,we),we}pt(e,be,0,re)}function At(e,i){i.bytesFilled>0&&dt(e,i.buffer,i.byteOffset,i.bytesFilled),Ht(e)}function Ct(e,i){var N=Math.min(e._queueTotalSize,i.byteLength-i.bytesFilled),re=i.bytesFilled+N,be=N,we=!1,Le=re%i.elementSize,Je=re-Le;Je>=i.minimumFill&&(be=Je-i.bytesFilled,we=!0);for(var at=e._queue;be>0;){var Qe=at.peek(),ot=Math.min(be,Qe.byteLength),ut=i.byteOffset+i.bytesFilled;de(i.buffer,ut,Qe.buffer,Qe.byteOffset,ot),Qe.byteLength===ot?at.shift():(Qe.byteOffset+=ot,Qe.byteLength-=ot),e._queueTotalSize-=ot,kt(e,ot,i),be-=ot}return we}function kt(e,i,N){N.bytesFilled+=i}function Mt(e){e._queueTotalSize===0&&e._closeRequested?(ln(e),En(e._controlledReadableByteStream)):lt(e)}function _t(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Lt(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;var i=e._pendingPullIntos.peek();Ct(e,i)&&(Ht(e),mt(e._controlledReadableByteStream,i))}}function Tt(e){for(var i=e._controlledReadableByteStream._reader;i._readRequests.length>0;){if(e._queueTotalSize===0)return;var N=i._readRequests.shift();vn(e,N)}}function It(e,i,N,re){var be=e._controlledReadableByteStream,we=i.constructor,Le=Ke(we),Je=i.byteOffset,at=i.byteLength,Qe=N*Le,ot;try{ot=Ce(i.buffer)}catch(Ft){re._errorSteps(Ft);return}var ut={buffer:ot,bufferByteLength:ot.byteLength,byteOffset:Je,byteLength:at,bytesFilled:0,minimumFill:Qe,elementSize:Le,viewConstructor:we,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(ut),Sr(be,re);return}if(be._state==="closed"){var ht=new we(ut.buffer,ut.byteOffset,0);re._closeSteps(ht);return}if(e._queueTotalSize>0){if(Ct(e,ut)){var wt=St(ut);Mt(e),re._chunkSteps(wt);return}if(e._closeRequested){var Ot=new TypeError("Insufficient bytes to fill elements in the given buffer");Rt(e,Ot),re._errorSteps(Ot);return}}e._pendingPullIntos.push(ut),Sr(be,re),lt(e)}function yt(e,i){i.readerType==="none"&&Ht(e);var N=e._controlledReadableByteStream;if(er(N))for(;_r(N)>0;){var re=Ht(e);mt(N,re)}}function xt(e,i,N){if(kt(e,i,N),N.readerType==="none"){At(e,N),Lt(e);return}if(!(N.bytesFilled<N.minimumFill)){Ht(e);var re=N.bytesFilled%N.elementSize;if(re>0){var be=N.byteOffset+N.bytesFilled;dt(e,N.buffer,be-re,re)}N.bytesFilled-=re,mt(e._controlledReadableByteStream,N),Lt(e)}}function on(e,i){var N=e._pendingPullIntos.peek();_t(e);var re=e._controlledReadableByteStream._state;re==="closed"?yt(e,N):xt(e,i,N),lt(e)}function Ht(e){var i=e._pendingPullIntos.shift();return i}function Jn(e){var i=e._controlledReadableByteStream;if(i._state!=="readable"||e._closeRequested||!e._started)return!1;if(ze(i)&&Ne(i)>0||er(i)&&_r(i)>0)return!0;var N=Rn(e);return N>0}function ln(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Xt(e){var i=e._controlledReadableByteStream;if(!(e._closeRequested||i._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0){var N=e._pendingPullIntos.peek();if(N.bytesFilled%N.elementSize!==0){var re=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Rt(e,re),re}}ln(e),En(i)}}function cn(e,i){var N=e._controlledReadableByteStream;if(!(e._closeRequested||N._state!=="readable")){var re=i.buffer,be=i.byteOffset,we=i.byteLength;if(De(re))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");var Le=Ce(re);if(e._pendingPullIntos.length>0){var Je=e._pendingPullIntos.peek();if(De(Je.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");_t(e),Je.buffer=Ce(Je.buffer),Je.readerType==="none"&&At(e,Je)}if(ze(N))if(Tt(e),Ne(N)===0)pt(e,Le,be,we);else{e._pendingPullIntos.length>0&&Ht(e);var at=new Uint8Array(Le,be,we);Oe(N,at,!1)}else er(N)?(pt(e,Le,be,we),Lt(e)):pt(e,Le,be,we);lt(e)}}function Rt(e,i){var N=e._controlledReadableByteStream;N._state==="readable"&&(ft(e),fe(e),ln(e),$r(N,i))}function vn(e,i){var N=e._queue.shift();e._queueTotalSize-=N.byteLength,Mt(e);var re=new Uint8Array(N.buffer,N.byteOffset,N.byteLength);i._chunkSteps(re)}function bn(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){var i=e._pendingPullIntos.peek(),N=new Uint8Array(i.buffer,i.byteOffset+i.bytesFilled,i.byteLength-i.bytesFilled),re=Object.create(Xe.prototype);li(re,e,N),e._byobRequest=re}return e._byobRequest}function Rn(e){var i=e._controlledReadableByteStream._state;return i==="errored"?null:i==="closed"?0:e._strategyHWM-e._queueTotalSize}function kn(e,i){var N=e._pendingPullIntos.peek(),re=e._controlledReadableByteStream._state;if(re==="closed"){if(i!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(i===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(N.bytesFilled+i>N.byteLength)throw new RangeError("bytesWritten out of range")}N.buffer=Ce(N.buffer),on(e,i)}function Mn(e,i){var N=e._pendingPullIntos.peek(),re=e._controlledReadableByteStream._state;if(re==="closed"){if(i.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(i.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(N.byteOffset+N.bytesFilled!==i.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(N.bufferByteLength!==i.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(N.bytesFilled+i.byteLength>N.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var be=i.byteLength;N.buffer=Ce(i.buffer),on(e,be)}function br(e,i,N,re,be,we,Le){i._controlledReadableByteStream=e,i._pullAgain=!1,i._pulling=!1,i._byobRequest=null,i._queue=i._queueTotalSize=void 0,fe(i),i._closeRequested=!1,i._started=!1,i._strategyHWM=we,i._pullAlgorithm=re,i._cancelAlgorithm=be,i._autoAllocateChunkSize=Le,i._pendingPullIntos=new L,e._readableStreamController=i;var Je=N();a(y(Je),function(){return i._started=!0,lt(i),null},function(at){return Rt(i,at),null})}function oi(e,i,N){var re=Object.create(Ze.prototype),be,we,Le;i.start!==void 0?be=function(){return i.start(re)}:be=function(){},i.pull!==void 0?we=function(){return i.pull(re)}:we=function(){return y(void 0)},i.cancel!==void 0?Le=function(at){return i.cancel(at)}:Le=function(){return y(void 0)};var Je=i.autoAllocateChunkSize;if(Je===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");br(e,re,be,we,Le,N,Je)}function li(e,i,N){e._associatedReadableByteStreamController=i,e._view=N}function Zn(e){return new TypeError("ReadableStreamBYOBRequest.prototype.".concat(e," can only be used on a ReadableStreamBYOBRequest"))}function yn(e){return new TypeError("ReadableByteStreamController.prototype.".concat(e," can only be used on a ReadableByteStreamController"))}function ci(e,i){te(e,i);var N=e==null?void 0:e.mode;return{mode:N===void 0?void 0:ui(N,"".concat(i," has member 'mode' that"))}}function ui(e,i){if(e="".concat(e),e!=="byob")throw new TypeError("".concat(i," '").concat(e,"' is not a valid enumeration value for ReadableStreamReaderMode"));return e}function di(e,i){var N;te(e,i);var re=(N=e==null?void 0:e.min)!==null&&N!==void 0?N:1;return{min:Ue(re,"".concat(i," has member 'min' that"))}}function yr(e){return new Yt(e)}function Sr(e,i){e._reader._readIntoRequests.push(i)}function hi(e,i,N){var re=e._reader,be=re._readIntoRequests.shift();N?be._closeSteps(i):be._chunkSteps(i)}function _r(e){return e._reader._readIntoRequests.length}function er(e){var i=e._reader;return!(i===void 0||!en(i))}var Yt=function(){function e(i){if(Ae(i,1,"ReadableStreamBYOBReader"),$e(i,"First parameter"),Qt(i))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!tt(i._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Z(this,i),this._readIntoRequests=new L}return Object.defineProperty(e.prototype,"closed",{get:function(){return en(this)?this._closedPromise:l(On("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(i){return i===void 0&&(i=void 0),en(this)?this._ownerReadableStream===void 0?l(z("cancel")):J(this,i):l(On("cancel"))},e.prototype.read=function(i,N){if(N===void 0&&(N={}),!en(this))return l(On("read"));if(!ArrayBuffer.isView(i))return l(new TypeError("view must be an array buffer view"));if(i.byteLength===0)return l(new TypeError("view must have non-zero byteLength"));if(i.buffer.byteLength===0)return l(new TypeError("view's buffer must have non-zero byteLength"));if(De(i.buffer))return l(new TypeError("view's buffer has been detached"));var re;try{re=di(N,"options")}catch(Qe){return l(Qe)}var be=re.min;if(be===0)return l(new TypeError("options.min must be greater than 0"));if(He(i)){if(be>i.byteLength)return l(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(be>i.length)return l(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return l(z("read from"));var we,Le,Je=g(function(Qe,ot){we=Qe,Le=ot}),at={_chunkSteps:function(Qe){return we({value:Qe,done:!1})},_closeSteps:function(Qe){return we({value:Qe,done:!0})},_errorSteps:function(Qe){return Le(Qe)}};return wr(this,i,be,at),Je},e.prototype.releaseLock=function(){if(!en(this))throw On("releaseLock");this._ownerReadableStream!==void 0&&fi(this)},e}();Object.defineProperties(Yt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),m(Yt.prototype.cancel,"cancel"),m(Yt.prototype.read,"read"),m(Yt.prototype.releaseLock,"releaseLock"),typeof o.toStringTag=="symbol"&&Object.defineProperty(Yt.prototype,o.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function en(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof Yt}function wr(e,i,N,re){var be=e._ownerReadableStream;be._disturbed=!0,be._state==="errored"?re._errorSteps(be._storedError):It(be._readableStreamController,i,N,re)}function fi(e){_e(e);var i=new TypeError("Reader was released");Ar(e,i)}function Ar(e,i){var N=e._readIntoRequests;e._readIntoRequests=new L,N.forEach(function(re){re._errorSteps(i)})}function On(e){return new TypeError("ReadableStreamBYOBReader.prototype.".concat(e," can only be used on a ReadableStreamBYOBReader"))}function Sn(e,i){var N=e.highWaterMark;if(N===void 0)return i;if(Re(N)||N<0)throw new RangeError("Invalid highWaterMark");return N}function Dn(e){var i=e.size;return i||function(){return 1}}function In(e,i){te(e,i);var N=e==null?void 0:e.highWaterMark,re=e==null?void 0:e.size;return{highWaterMark:N===void 0?void 0:Ee(N),size:re===void 0?void 0:pi(re,"".concat(i," has member 'size' that"))}}function pi(e,i){return le(e,i),function(N){return Ee(e(N))}}function gi(e,i){te(e,i);var N=e==null?void 0:e.abort,re=e==null?void 0:e.close,be=e==null?void 0:e.start,we=e==null?void 0:e.type,Le=e==null?void 0:e.write;return{abort:N===void 0?void 0:mi(N,e,"".concat(i," has member 'abort' that")),close:re===void 0?void 0:vi(re,e,"".concat(i," has member 'close' that")),start:be===void 0?void 0:bi(be,e,"".concat(i," has member 'start' that")),write:Le===void 0?void 0:yi(Le,e,"".concat(i," has member 'write' that")),type:we}}function mi(e,i,N){return le(e,N),function(re){return K(e,i,[re])}}function vi(e,i,N){return le(e,N),function(){return K(e,i,[])}}function bi(e,i,N){return le(e,N),function(re){return ee(e,i,[re])}}function yi(e,i,N){return le(e,N),function(re,be){return K(e,i,[re,be])}}function Pr(e,i){if(!un(e))throw new TypeError("".concat(i," is not a WritableStream."))}function Si(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch(i){return!1}}var _i=typeof AbortController=="function";function wi(){if(_i)return new AbortController}var Kt=function(){function e(i,N){i===void 0&&(i={}),N===void 0&&(N={}),i===void 0?i=null:Se(i,"First parameter");var re=In(N,"Second parameter"),be=gi(i,"First parameter");Cr(this);var we=be.type;if(we!==void 0)throw new RangeError("Invalid type is specified");var Le=Dn(re),Je=Sn(re,1);Li(this,be,Je,Le)}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!un(this))throw Wn("locked");return dn(this)},enumerable:!1,configurable:!0}),e.prototype.abort=function(i){return i===void 0&&(i=void 0),un(this)?dn(this)?l(new TypeError("Cannot abort a stream that already has a writer")):Fn(this,i):l(Wn("abort"))},e.prototype.close=function(){return un(this)?dn(this)?l(new TypeError("Cannot close a stream that already has a writer")):Wt(this)?l(new TypeError("Cannot close an already-closing stream")):Tr(this):l(Wn("close"))},e.prototype.getWriter=function(){if(!un(this))throw Wn("getWriter");return Er(this)},e}();Object.defineProperties(Kt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),m(Kt.prototype.abort,"abort"),m(Kt.prototype.close,"close"),m(Kt.prototype.getWriter,"getWriter"),typeof o.toStringTag=="symbol"&&Object.defineProperty(Kt.prototype,o.toStringTag,{value:"WritableStream",configurable:!0});function Er(e){return new jt(e)}function Ai(e,i,N,re,be,we){be===void 0&&(be=1),we===void 0&&(we=function(){return 1});var Le=Object.create(Kt.prototype);Cr(Le);var Je=Object.create(hn.prototype);return Dr(Le,Je,e,i,N,re,be,we),Le}function Cr(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new L,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function un(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof Kt}function dn(e){return e._writer!==void 0}function Fn(e,i){var N;if(e._state==="closed"||e._state==="errored")return y(void 0);e._writableStreamController._abortReason=i,(N=e._writableStreamController._abortController)===null||N===void 0||N.abort(i);var re=e._state;if(re==="closed"||re==="errored")return y(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;var be=!1;re==="erroring"&&(be=!0,i=void 0);var we=g(function(Le,Je){e._pendingAbortRequest={_promise:void 0,_resolve:Le,_reject:Je,_reason:i,_wasAlreadyErroring:be}});return e._pendingAbortRequest._promise=we,be||nr(e,i),we}function Tr(e){var i=e._state;if(i==="closed"||i==="errored")return l(new TypeError("The stream (in ".concat(i," state) is not in the writable state and cannot be closed")));var N=g(function(be,we){var Le={_resolve:be,_reject:we};e._closeRequest=Le}),re=e._writer;return re!==void 0&&e._backpressure&&i==="writable"&&ur(re),Ni(e._writableStreamController),N}function Pi(e){var i=g(function(N,re){var be={_resolve:N,_reject:re};e._writeRequests.push(be)});return i}function tr(e,i){var N=e._state;if(N==="writable"){nr(e,i);return}rr(e)}function nr(e,i){var N=e._writableStreamController;e._state="erroring",e._storedError=i;var re=e._writer;re!==void 0&&Rr(re,i),!Ri(e)&&N._started&&rr(e)}function rr(e){e._state="errored",e._writableStreamController[B]();var i=e._storedError;if(e._writeRequests.forEach(function(be){be._reject(i)}),e._writeRequests=new L,e._pendingAbortRequest===void 0){Ln(e);return}var N=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,N._wasAlreadyErroring){N._reject(i),Ln(e);return}var re=e._writableStreamController[T](N._reason);a(re,function(){return N._resolve(),Ln(e),null},function(be){return N._reject(be),Ln(e),null})}function Ei(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function Ci(e,i){e._inFlightWriteRequest._reject(i),e._inFlightWriteRequest=void 0,tr(e,i)}function Ti(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0;var i=e._state;i==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";var N=e._writer;N!==void 0&&Nr(N)}function xi(e,i){e._inFlightCloseRequest._reject(i),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(i),e._pendingAbortRequest=void 0),tr(e,i)}function Wt(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function Ri(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function ki(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function Mi(e){e._inFlightWriteRequest=e._writeRequests.shift()}function Ln(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var i=e._writer;i!==void 0&&lr(i,e._storedError)}function ir(e,i){var N=e._writer;N!==void 0&&i!==e._backpressure&&(i?ji(N):ur(N)),e._backpressure=i}var jt=function(){function e(i){if(Ae(i,1,"WritableStreamDefaultWriter"),Pr(i,"First parameter"),dn(i))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=i,i._writer=this;var N=i._state;if(N==="writable")!Wt(i)&&i._backpressure?Un(this):Br(this),zn(this);else if(N==="erroring")cr(this,i._storedError),zn(this);else if(N==="closed")Br(this),Vi(this);else{var re=i._storedError;cr(this,re),Lr(this,re)}}return Object.defineProperty(e.prototype,"closed",{get:function(){return tn(this)?this._closedPromise:l(nn("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!tn(this))throw nn("desiredSize");if(this._ownerWritableStream===void 0)throw wn("desiredSize");return Fi(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return tn(this)?this._readyPromise:l(nn("ready"))},enumerable:!1,configurable:!0}),e.prototype.abort=function(i){return i===void 0&&(i=void 0),tn(this)?this._ownerWritableStream===void 0?l(wn("abort")):Oi(this,i):l(nn("abort"))},e.prototype.close=function(){if(!tn(this))return l(nn("close"));var i=this._ownerWritableStream;return i===void 0?l(wn("close")):Wt(i)?l(new TypeError("Cannot close an already-closing stream")):xr(this)},e.prototype.releaseLock=function(){if(!tn(this))throw nn("releaseLock");var i=this._ownerWritableStream;i!==void 0&&kr(this)},e.prototype.write=function(i){return i===void 0&&(i=void 0),tn(this)?this._ownerWritableStream===void 0?l(wn("write to")):Mr(this,i):l(nn("write"))},e}();Object.defineProperties(jt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),m(jt.prototype.abort,"abort"),m(jt.prototype.close,"close"),m(jt.prototype.releaseLock,"releaseLock"),m(jt.prototype.write,"write"),typeof o.toStringTag=="symbol"&&Object.defineProperty(jt.prototype,o.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function tn(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof jt}function Oi(e,i){var N=e._ownerWritableStream;return Fn(N,i)}function xr(e){var i=e._ownerWritableStream;return Tr(i)}function Di(e){var i=e._ownerWritableStream,N=i._state;return Wt(i)||N==="closed"?y(void 0):N==="errored"?l(i._storedError):xr(e)}function Ii(e,i){e._closedPromiseState==="pending"?lr(e,i):Hi(e,i)}function Rr(e,i){e._readyPromiseState==="pending"?Wr(e,i):$i(e,i)}function Fi(e){var i=e._ownerWritableStream,N=i._state;return N==="errored"||N==="erroring"?null:N==="closed"?0:Ir(i._writableStreamController)}function kr(e){var i=e._ownerWritableStream,N=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Rr(e,N),Ii(e,N),i._writer=void 0,e._ownerWritableStream=void 0}function Mr(e,i){var N=e._ownerWritableStream,re=N._writableStreamController,be=Bi(re,i);if(N!==e._ownerWritableStream)return l(wn("write to"));var we=N._state;if(we==="errored")return l(N._storedError);if(Wt(N)||we==="closed")return l(new TypeError("The stream is closing or closed and cannot be written to"));if(we==="erroring")return l(N._storedError);var Le=Pi(N);return Wi(re,i,be),Le}var Or={},hn=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"abortReason",{get:function(){if(!ar(this))throw or("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"signal",{get:function(){if(!ar(this))throw or("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),e.prototype.error=function(i){if(i===void 0&&(i=void 0),!ar(this))throw or("error");var N=this._controlledWritableStream._state;N==="writable"&&Fr(this,i)},e.prototype[T]=function(i){var N=this._abortAlgorithm(i);return Nn(this),N},e.prototype[B]=function(){fe(this)},e}();Object.defineProperties(hn.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof o.toStringTag=="symbol"&&Object.defineProperty(hn.prototype,o.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function ar(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof hn}function Dr(e,i,N,re,be,we,Le,Je){i._controlledWritableStream=e,e._writableStreamController=i,i._queue=void 0,i._queueTotalSize=void 0,fe(i),i._abortReason=void 0,i._abortController=wi(),i._started=!1,i._strategySizeAlgorithm=Je,i._strategyHWM=Le,i._writeAlgorithm=re,i._closeAlgorithm=be,i._abortAlgorithm=we;var at=sr(i);ir(e,at);var Qe=N(),ot=y(Qe);a(ot,function(){return i._started=!0,Bn(i),null},function(ut){return i._started=!0,tr(e,ut),null})}function Li(e,i,N,re){var be=Object.create(hn.prototype),we,Le,Je,at;i.start!==void 0?we=function(){return i.start(be)}:we=function(){},i.write!==void 0?Le=function(Qe){return i.write(Qe,be)}:Le=function(){return y(void 0)},i.close!==void 0?Je=function(){return i.close()}:Je=function(){return y(void 0)},i.abort!==void 0?at=function(Qe){return i.abort(Qe)}:at=function(){return y(void 0)},Dr(e,be,we,Le,Je,at,N,re)}function Nn(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Ni(e){ie(e,Or,0),Bn(e)}function Bi(e,i){try{return e._strategySizeAlgorithm(i)}catch(N){return _n(e,N),1}}function Ir(e){return e._strategyHWM-e._queueTotalSize}function Wi(e,i,N){try{ie(e,i,N)}catch(we){_n(e,we);return}var re=e._controlledWritableStream;if(!Wt(re)&&re._state==="writable"){var be=sr(e);ir(re,be)}Bn(e)}function Bn(e){var i=e._controlledWritableStream;if(e._started&&i._inFlightWriteRequest===void 0){var N=i._state;if(N==="erroring"){rr(i);return}if(e._queue.length!==0){var re=pe(e);re===Or?zi(e):Ui(e,re)}}}function _n(e,i){e._controlledWritableStream._state==="writable"&&Fr(e,i)}function zi(e){var i=e._controlledWritableStream;ki(i),G(e);var N=e._closeAlgorithm();Nn(e),a(N,function(){return Ti(i),null},function(re){return xi(i,re),null})}function Ui(e,i){var N=e._controlledWritableStream;Mi(N);var re=e._writeAlgorithm(i);a(re,function(){Ei(N);var be=N._state;if(G(e),!Wt(N)&&be==="writable"){var we=sr(e);ir(N,we)}return Bn(e),null},function(be){return N._state==="writable"&&Nn(e),Ci(N,be),null})}function sr(e){var i=Ir(e);return i<=0}function Fr(e,i){var N=e._controlledWritableStream;Nn(e),nr(N,i)}function Wn(e){return new TypeError("WritableStream.prototype.".concat(e," can only be used on a WritableStream"))}function or(e){return new TypeError("WritableStreamDefaultController.prototype.".concat(e," can only be used on a WritableStreamDefaultController"))}function nn(e){return new TypeError("WritableStreamDefaultWriter.prototype.".concat(e," can only be used on a WritableStreamDefaultWriter"))}function wn(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function zn(e){e._closedPromise=g(function(i,N){e._closedPromise_resolve=i,e._closedPromise_reject=N,e._closedPromiseState="pending"})}function Lr(e,i){zn(e),lr(e,i)}function Vi(e){zn(e),Nr(e)}function lr(e,i){e._closedPromise_reject!==void 0&&(V(e._closedPromise),e._closedPromise_reject(i),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Hi(e,i){Lr(e,i)}function Nr(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function Un(e){e._readyPromise=g(function(i,N){e._readyPromise_resolve=i,e._readyPromise_reject=N}),e._readyPromiseState="pending"}function cr(e,i){Un(e),Wr(e,i)}function Br(e){Un(e),ur(e)}function Wr(e,i){e._readyPromise_reject!==void 0&&(V(e._readyPromise),e._readyPromise_reject(i),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function ji(e){Un(e)}function $i(e,i){cr(e,i)}function ur(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}function Gi(){if(typeof globalThis!="undefined")return globalThis;if(typeof self!="undefined")return self;if(typeof t.g!="undefined")return t.g}var dr=Gi();function Xi(e){if(!(typeof e=="function"||typeof e=="object")||e.name!=="DOMException")return!1;try{return new e,!0}catch(i){return!1}}function Yi(){var e=dr==null?void 0:dr.DOMException;return Xi(e)?e:void 0}function Ki(){var e=function(N,re){this.message=N||"",this.name=re||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return m(e,"DOMException"),e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}var qi=Yi()||Ki();function zr(e,i,N,re,be,we){var Le=qe(e),Je=Er(i);e._disturbed=!0;var at=!1,Qe=y(void 0);return g(function(ot,ut){var ht;if(we!==void 0){if(ht=function(){var ct=we.reason!==void 0?we.reason:new qi("Aborted","AbortError"),gt=[];re||gt.push(function(){return i._state==="writable"?Fn(i,ct):y(void 0)}),be||gt.push(function(){return e._state==="readable"?Bt(e,ct):y(void 0)}),Dt(function(){return Promise.all(gt.map(function(bt){return bt()}))},!0,ct)},we.aborted){ht();return}we.addEventListener("abort",ht)}function wt(){return g(function(ct,gt){function bt(Vt){Vt?ct():n(Ot(),bt,gt)}bt(!1)})}function Ot(){return at?y(!0):n(Je._readyPromise,function(){return g(function(ct,gt){ye(Le,{_chunkSteps:function(bt){Qe=n(Mr(Je,bt),void 0,x),ct(!1)},_closeSteps:function(){return ct(!0)},_errorSteps:gt})})})}if(Pt(e,Le._closedPromise,function(ct){return re?Gt(!0,ct):Dt(function(){return Fn(i,ct)},!0,ct),null}),Pt(i,Je._closedPromise,function(ct){return be?Gt(!0,ct):Dt(function(){return Bt(e,ct)},!0,ct),null}),Ut(e,Le._closedPromise,function(){return N?Gt():Dt(function(){return Di(Je)}),null}),Wt(i)||i._state==="closed"){var Ft=new TypeError("the destination writable stream closed before all data could be piped to it");be?Gt(!0,Ft):Dt(function(){return Bt(e,Ft)},!0,Ft)}V(wt());function zt(){var ct=Qe;return n(Qe,function(){return ct!==Qe?zt():void 0})}function Pt(ct,gt,bt){ct._state==="errored"?bt(ct._storedError):_(gt,bt)}function Ut(ct,gt,bt){ct._state==="closed"?bt():v(gt,bt)}function Dt(ct,gt,bt){if(at)return;at=!0,i._state==="writable"&&!Wt(i)?v(zt(),Vt):Vt();function Vt(){return a(ct(),function(){return vt(gt,bt)},function(Zt){return vt(!0,Zt)}),null}}function Gt(ct,gt){at||(at=!0,i._state==="writable"&&!Wt(i)?v(zt(),function(){return vt(ct,gt)}):vt(ct,gt))}function vt(ct,gt){return kr(Je),_e(Le),we!==void 0&&we.removeEventListener("abort",ht),ct?ut(gt):ot(void 0),null}})}var $t=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Vn(this))throw jn("desiredSize");return hr(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!Vn(this))throw jn("close");if(!pn(this))throw new TypeError("The stream is not in a state that permits close");rn(this)},e.prototype.enqueue=function(i){if(i===void 0&&(i=void 0),!Vn(this))throw jn("enqueue");if(!pn(this))throw new TypeError("The stream is not in a state that permits enqueue");return fn(this,i)},e.prototype.error=function(i){if(i===void 0&&(i=void 0),!Vn(this))throw jn("error");Nt(this,i)},e.prototype[M]=function(i){fe(this);var N=this._cancelAlgorithm(i);return Hn(this),N},e.prototype[P]=function(i){var N=this._controlledReadableStream;if(this._queue.length>0){var re=G(this);this._closeRequested&&this._queue.length===0?(Hn(this),En(N)):An(this),i._chunkSteps(re)}else We(N,i),An(this)},e.prototype[Y]=function(){},e}();Object.defineProperties($t.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),m($t.prototype.close,"close"),m($t.prototype.enqueue,"enqueue"),m($t.prototype.error,"error"),typeof o.toStringTag=="symbol"&&Object.defineProperty($t.prototype,o.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Vn(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof $t}function An(e){var i=Ur(e);if(i){if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;var N=e._pullAlgorithm();a(N,function(){return e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,An(e)),null},function(re){return Nt(e,re),null})}}function Ur(e){var i=e._controlledReadableStream;if(!pn(e)||!e._started)return!1;if(Qt(i)&&Ne(i)>0)return!0;var N=hr(e);return N>0}function Hn(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function rn(e){if(pn(e)){var i=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(Hn(e),En(i))}}function fn(e,i){if(pn(e)){var N=e._controlledReadableStream;if(Qt(N)&&Ne(N)>0)Oe(N,i,!1);else{var re=void 0;try{re=e._strategySizeAlgorithm(i)}catch(be){throw Nt(e,be),be}try{ie(e,i,re)}catch(be){throw Nt(e,be),be}}An(e)}}function Nt(e,i){var N=e._controlledReadableStream;N._state==="readable"&&(fe(e),Hn(e),$r(N,i))}function hr(e){var i=e._controlledReadableStream._state;return i==="errored"?null:i==="closed"?0:e._strategyHWM-e._queueTotalSize}function Qi(e){return!Ur(e)}function pn(e){var i=e._controlledReadableStream._state;return!e._closeRequested&&i==="readable"}function Vr(e,i,N,re,be,we,Le){i._controlledReadableStream=e,i._queue=void 0,i._queueTotalSize=void 0,fe(i),i._started=!1,i._closeRequested=!1,i._pullAgain=!1,i._pulling=!1,i._strategySizeAlgorithm=Le,i._strategyHWM=we,i._pullAlgorithm=re,i._cancelAlgorithm=be,e._readableStreamController=i;var Je=N();a(y(Je),function(){return i._started=!0,An(i),null},function(at){return Nt(i,at),null})}function Ji(e,i,N,re){var be=Object.create($t.prototype),we,Le,Je;i.start!==void 0?we=function(){return i.start(be)}:we=function(){},i.pull!==void 0?Le=function(){return i.pull(be)}:Le=function(){return y(void 0)},i.cancel!==void 0?Je=function(at){return i.cancel(at)}:Je=function(){return y(void 0)},Vr(e,be,we,Le,Je,N,re)}function jn(e){return new TypeError("ReadableStreamDefaultController.prototype.".concat(e," can only be used on a ReadableStreamDefaultController"))}function Zi(e,i){return tt(e._readableStreamController)?ta(e):ea(e)}function ea(e,i){var N=qe(e),re=!1,be=!1,we=!1,Le=!1,Je,at,Qe,ot,ut,ht=g(function(Pt){ut=Pt});function wt(){if(re)return be=!0,y(void 0);re=!0;var Pt={_chunkSteps:function(Ut){E(function(){be=!1;var Dt=Ut,Gt=Ut;we||fn(Qe._readableStreamController,Dt),Le||fn(ot._readableStreamController,Gt),re=!1,be&&wt()})},_closeSteps:function(){re=!1,we||rn(Qe._readableStreamController),Le||rn(ot._readableStreamController),(!we||!Le)&&ut(void 0)},_errorSteps:function(){re=!1}};return ye(N,Pt),y(void 0)}function Ot(Pt){if(we=!0,Je=Pt,Le){var Ut=ce([Je,at]),Dt=Bt(e,Ut);ut(Dt)}return ht}function Ft(Pt){if(Le=!0,at=Pt,we){var Ut=ce([Je,at]),Dt=Bt(e,Ut);ut(Dt)}return ht}function zt(){}return Qe=Pn(zt,wt,Ot),ot=Pn(zt,wt,Ft),_(N._closedPromise,function(Pt){return Nt(Qe._readableStreamController,Pt),Nt(ot._readableStreamController,Pt),(!we||!Le)&&ut(void 0),null}),[Qe,ot]}function ta(e){var i=qe(e),N=!1,re=!1,be=!1,we=!1,Le=!1,Je,at,Qe,ot,ut,ht=g(function(vt){ut=vt});function wt(vt){_(vt._closedPromise,function(ct){return vt!==i||(Rt(Qe._readableStreamController,ct),Rt(ot._readableStreamController,ct),(!we||!Le)&&ut(void 0)),null})}function Ot(){en(i)&&(_e(i),i=qe(e),wt(i));var vt={_chunkSteps:function(ct){E(function(){re=!1,be=!1;var gt=ct,bt=ct;if(!we&&!Le)try{bt=X(ct)}catch(Vt){Rt(Qe._readableStreamController,Vt),Rt(ot._readableStreamController,Vt),ut(Bt(e,Vt));return}we||cn(Qe._readableStreamController,gt),Le||cn(ot._readableStreamController,bt),N=!1,re?zt():be&&Pt()})},_closeSteps:function(){N=!1,we||Xt(Qe._readableStreamController),Le||Xt(ot._readableStreamController),Qe._readableStreamController._pendingPullIntos.length>0&&kn(Qe._readableStreamController,0),ot._readableStreamController._pendingPullIntos.length>0&&kn(ot._readableStreamController,0),(!we||!Le)&&ut(void 0)},_errorSteps:function(){N=!1}};ye(i,vt)}function Ft(vt,ct){he(i)&&(_e(i),i=yr(e),wt(i));var gt=ct?ot:Qe,bt=ct?Qe:ot,Vt={_chunkSteps:function(Zt){E(function(){re=!1,be=!1;var mn=ct?Le:we,Cn=ct?we:Le;if(Cn)mn||Mn(gt._readableStreamController,Zt);else{var ii=void 0;try{ii=X(Zt)}catch(vr){Rt(gt._readableStreamController,vr),Rt(bt._readableStreamController,vr),ut(Bt(e,vr));return}mn||Mn(gt._readableStreamController,Zt),cn(bt._readableStreamController,ii)}N=!1,re?zt():be&&Pt()})},_closeSteps:function(Zt){N=!1;var mn=ct?Le:we,Cn=ct?we:Le;mn||Xt(gt._readableStreamController),Cn||Xt(bt._readableStreamController),Zt!==void 0&&(mn||Mn(gt._readableStreamController,Zt),!Cn&&bt._readableStreamController._pendingPullIntos.length>0&&kn(bt._readableStreamController,0)),(!mn||!Cn)&&ut(void 0)},_errorSteps:function(){N=!1}};wr(i,vt,1,Vt)}function zt(){if(N)return re=!0,y(void 0);N=!0;var vt=bn(Qe._readableStreamController);return vt===null?Ot():Ft(vt._view,!1),y(void 0)}function Pt(){if(N)return be=!0,y(void 0);N=!0;var vt=bn(ot._readableStreamController);return vt===null?Ot():Ft(vt._view,!0),y(void 0)}function Ut(vt){if(we=!0,Je=vt,Le){var ct=ce([Je,at]),gt=Bt(e,ct);ut(gt)}return ht}function Dt(vt){if(Le=!0,at=vt,we){var ct=ce([Je,at]),gt=Bt(e,ct);ut(gt)}return ht}function Gt(){}return Qe=jr(Gt,zt,Ut),ot=jr(Gt,Pt,Dt),wt(i),[Qe,ot]}function na(e){return h(e)&&typeof e.getReader!="undefined"}function ra(e){return na(e)?aa(e.getReader()):ia(e)}function ia(e){var i,N=it(e,"async"),re=x;function be(){var Le;try{Le=Ge(N)}catch(at){return l(at)}var Je=y(Le);return I(Je,function(at){if(!h(at))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");var Qe=nt(at);if(Qe)rn(i._readableStreamController);else{var ot=se(at);fn(i._readableStreamController,ot)}})}function we(Le){var Je=N.iterator,at;try{at=Ye(Je,"return")}catch(ut){return l(ut)}if(at===void 0)return y(void 0);var Qe;try{Qe=ee(at,Je,[Le])}catch(ut){return l(ut)}var ot=y(Qe);return I(ot,function(ut){if(!h(ut))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return i=Pn(re,be,we,0),i}function aa(e){var i,N=x;function re(){var we;try{we=e.read()}catch(Le){return l(Le)}return I(we,function(Le){if(!h(Le))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(Le.done)rn(i._readableStreamController);else{var Je=Le.value;fn(i._readableStreamController,Je)}})}function be(we){try{return y(e.cancel(we))}catch(Le){return l(Le)}}return i=Pn(N,re,be,0),i}function sa(e,i){te(e,i);var N=e,re=N==null?void 0:N.autoAllocateChunkSize,be=N==null?void 0:N.cancel,we=N==null?void 0:N.pull,Le=N==null?void 0:N.start,Je=N==null?void 0:N.type;return{autoAllocateChunkSize:re===void 0?void 0:Ue(re,"".concat(i," has member 'autoAllocateChunkSize' that")),cancel:be===void 0?void 0:oa(be,N,"".concat(i," has member 'cancel' that")),pull:we===void 0?void 0:la(we,N,"".concat(i," has member 'pull' that")),start:Le===void 0?void 0:ca(Le,N,"".concat(i," has member 'start' that")),type:Je===void 0?void 0:ua(Je,"".concat(i," has member 'type' that"))}}function oa(e,i,N){return le(e,N),function(re){return K(e,i,[re])}}function la(e,i,N){return le(e,N),function(re){return K(e,i,[re])}}function ca(e,i,N){return le(e,N),function(re){return ee(e,i,[re])}}function ua(e,i){if(e="".concat(e),e!=="bytes")throw new TypeError("".concat(i," '").concat(e,"' is not a valid enumeration value for ReadableStreamType"));return e}function da(e,i){te(e,i);var N=e==null?void 0:e.preventCancel;return{preventCancel:!!N}}function Hr(e,i){te(e,i);var N=e==null?void 0:e.preventAbort,re=e==null?void 0:e.preventCancel,be=e==null?void 0:e.preventClose,we=e==null?void 0:e.signal;return we!==void 0&&ha(we,"".concat(i," has member 'signal' that")),{preventAbort:!!N,preventCancel:!!re,preventClose:!!be,signal:we}}function ha(e,i){if(!Si(e))throw new TypeError("".concat(i," is not an AbortSignal."))}function fa(e,i){te(e,i);var N=e==null?void 0:e.readable;Pe(N,"readable","ReadableWritablePair"),$e(N,"".concat(i," has member 'readable' that"));var re=e==null?void 0:e.writable;return Pe(re,"writable","ReadableWritablePair"),Pr(re,"".concat(i," has member 'writable' that")),{readable:N,writable:re}}var Et=function(){function e(i,N){i===void 0&&(i={}),N===void 0&&(N={}),i===void 0?i=null:Se(i,"First parameter");var re=In(N,"Second parameter"),be=sa(i,"First parameter");if(fr(this),be.type==="bytes"){if(re.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");var we=Sn(re,0);oi(this,be,we)}else{var Le=Dn(re),we=Sn(re,1);Ji(this,be,we,Le)}}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!qt(this))throw an("locked");return Qt(this)},enumerable:!1,configurable:!0}),e.prototype.cancel=function(i){return i===void 0&&(i=void 0),qt(this)?Qt(this)?l(new TypeError("Cannot cancel a stream that already has a reader")):Bt(this,i):l(an("cancel"))},e.prototype.getReader=function(i){if(i===void 0&&(i=void 0),!qt(this))throw an("getReader");var N=ci(i,"First parameter");return N.mode===void 0?qe(this):yr(this)},e.prototype.pipeThrough=function(i,N){if(N===void 0&&(N={}),!qt(this))throw an("pipeThrough");Ae(i,1,"pipeThrough");var re=fa(i,"First parameter"),be=Hr(N,"Second parameter");if(Qt(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(dn(re.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");var we=zr(this,re.writable,be.preventClose,be.preventAbort,be.preventCancel,be.signal);return V(we),re.readable},e.prototype.pipeTo=function(i,N){if(N===void 0&&(N={}),!qt(this))return l(an("pipeTo"));if(i===void 0)return l("Parameter 1 is required in 'pipeTo'.");if(!un(i))return l(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var re;try{re=Hr(N,"Second parameter")}catch(be){return l(be)}return Qt(this)?l(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):dn(i)?l(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):zr(this,i,re.preventClose,re.preventAbort,re.preventCancel,re.signal)},e.prototype.tee=function(){if(!qt(this))throw an("tee");var i=Zi(this);return ce(i)},e.prototype.values=function(i){if(i===void 0&&(i=void 0),!qt(this))throw an("values");var N=da(i,"First parameter");return ue(this,N.preventCancel)},e.from=function(i){return ra(i)},e}();Object.defineProperties(Et,{from:{enumerable:!0}}),Object.defineProperties(Et.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),m(Et.from,"from"),m(Et.prototype.cancel,"cancel"),m(Et.prototype.getReader,"getReader"),m(Et.prototype.pipeThrough,"pipeThrough"),m(Et.prototype.pipeTo,"pipeTo"),m(Et.prototype.tee,"tee"),m(Et.prototype.values,"values"),typeof o.toStringTag=="symbol"&&Object.defineProperty(Et.prototype,o.toStringTag,{value:"ReadableStream",configurable:!0}),typeof o.asyncIterator=="symbol"&&Object.defineProperty(Et.prototype,o.asyncIterator,{value:Et.prototype.values,writable:!0,configurable:!0});function Pn(e,i,N,re,be){re===void 0&&(re=1),be===void 0&&(be=function(){return 1});var we=Object.create(Et.prototype);fr(we);var Le=Object.create($t.prototype);return Vr(we,Le,e,i,N,re,be),we}function jr(e,i,N){var re=Object.create(Et.prototype);fr(re);var be=Object.create(Ze.prototype);return br(re,be,e,i,N,0,void 0),re}function fr(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function qt(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof Et}function Qt(e){return e._reader!==void 0}function Bt(e,i){if(e._disturbed=!0,e._state==="closed")return y(void 0);if(e._state==="errored")return l(e._storedError);En(e);var N=e._reader;if(N!==void 0&&en(N)){var re=N._readIntoRequests;N._readIntoRequests=new L,re.forEach(function(we){we._closeSteps(void 0)})}var be=e._readableStreamController[M](i);return I(be,x)}function En(e){e._state="closed";var i=e._reader;if(i!==void 0&&(R(i),he(i))){var N=i._readRequests;i._readRequests=new L,N.forEach(function(re){re._closeSteps()})}}function $r(e,i){e._state="errored",e._storedError=i;var N=e._reader;N!==void 0&&($(N,i),he(N)?ve(N,i):Ar(N,i))}function an(e){return new TypeError("ReadableStream.prototype.".concat(e," can only be used on a ReadableStream"))}function Gr(e,i){te(e,i);var N=e==null?void 0:e.highWaterMark;return Pe(N,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Ee(N)}}var Xr=function(e){return e.byteLength};m(Xr,"size");var $n=function(){function e(i){Ae(i,1,"ByteLengthQueuingStrategy"),i=Gr(i,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=i.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!Kr(this))throw Yr("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!Kr(this))throw Yr("size");return Xr},enumerable:!1,configurable:!0}),e}();Object.defineProperties($n.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof o.toStringTag=="symbol"&&Object.defineProperty($n.prototype,o.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Yr(e){return new TypeError("ByteLengthQueuingStrategy.prototype.".concat(e," can only be used on a ByteLengthQueuingStrategy"))}function Kr(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof $n}var qr=function(){return 1};m(qr,"size");var Gn=function(){function e(i){Ae(i,1,"CountQueuingStrategy"),i=Gr(i,"First parameter"),this._countQueuingStrategyHighWaterMark=i.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!Jr(this))throw Qr("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!Jr(this))throw Qr("size");return qr},enumerable:!1,configurable:!0}),e}();Object.defineProperties(Gn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof o.toStringTag=="symbol"&&Object.defineProperty(Gn.prototype,o.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Qr(e){return new TypeError("CountQueuingStrategy.prototype.".concat(e," can only be used on a CountQueuingStrategy"))}function Jr(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof Gn}function pa(e,i){te(e,i);var N=e==null?void 0:e.cancel,re=e==null?void 0:e.flush,be=e==null?void 0:e.readableType,we=e==null?void 0:e.start,Le=e==null?void 0:e.transform,Je=e==null?void 0:e.writableType;return{cancel:N===void 0?void 0:ba(N,e,"".concat(i," has member 'cancel' that")),flush:re===void 0?void 0:ga(re,e,"".concat(i," has member 'flush' that")),readableType:be,start:we===void 0?void 0:ma(we,e,"".concat(i," has member 'start' that")),transform:Le===void 0?void 0:va(Le,e,"".concat(i," has member 'transform' that")),writableType:Je}}function ga(e,i,N){return le(e,N),function(re){return K(e,i,[re])}}function ma(e,i,N){return le(e,N),function(re){return ee(e,i,[re])}}function va(e,i,N){return le(e,N),function(re,be){return K(e,i,[re,be])}}function ba(e,i,N){return le(e,N),function(re){return K(e,i,[re])}}var Xn=function(){function e(i,N,re){i===void 0&&(i={}),N===void 0&&(N={}),re===void 0&&(re={}),i===void 0&&(i=null);var be=In(N,"Second parameter"),we=In(re,"Third parameter"),Le=pa(i,"First parameter");if(Le.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(Le.writableType!==void 0)throw new RangeError("Invalid writableType specified");var Je=Sn(we,0),at=Dn(we),Qe=Sn(be,1),ot=Dn(be),ut,ht=g(function(wt){ut=wt});ya(this,ht,Qe,ot,Je,at),_a(this,Le),Le.start!==void 0?ut(Le.start(this._transformStreamController)):ut(void 0)}return Object.defineProperty(e.prototype,"readable",{get:function(){if(!Zr(this))throw ri("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"writable",{get:function(){if(!Zr(this))throw ri("writable");return this._writable},enumerable:!1,configurable:!0}),e}();Object.defineProperties(Xn.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof o.toStringTag=="symbol"&&Object.defineProperty(Xn.prototype,o.toStringTag,{value:"TransformStream",configurable:!0});function ya(e,i,N,re,be,we){function Le(){return i}function Je(ht){return Pa(e,ht)}function at(ht){return Ea(e,ht)}function Qe(){return Ca(e)}e._writable=Ai(Le,Je,Qe,at,N,re);function ot(){return Ta(e)}function ut(ht){return xa(e,ht)}e._readable=Pn(Le,ot,ut,be,we),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,Yn(e,!0),e._transformStreamController=void 0}function Zr(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof Xn}function ei(e,i){Nt(e._readable._readableStreamController,i),pr(e,i)}function pr(e,i){qn(e._transformStreamController),_n(e._writable._writableStreamController,i),gr(e)}function gr(e){e._backpressure&&Yn(e,!1)}function Yn(e,i){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=g(function(N){e._backpressureChangePromise_resolve=N}),e._backpressure=i}var Jt=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Kn(this))throw Qn("desiredSize");var i=this._controlledTransformStream._readable._readableStreamController;return hr(i)},enumerable:!1,configurable:!0}),e.prototype.enqueue=function(i){if(i===void 0&&(i=void 0),!Kn(this))throw Qn("enqueue");ti(this,i)},e.prototype.error=function(i){if(i===void 0&&(i=void 0),!Kn(this))throw Qn("error");wa(this,i)},e.prototype.terminate=function(){if(!Kn(this))throw Qn("terminate");Aa(this)},e}();Object.defineProperties(Jt.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),m(Jt.prototype.enqueue,"enqueue"),m(Jt.prototype.error,"error"),m(Jt.prototype.terminate,"terminate"),typeof o.toStringTag=="symbol"&&Object.defineProperty(Jt.prototype,o.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function Kn(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof Jt}function Sa(e,i,N,re,be){i._controlledTransformStream=e,e._transformStreamController=i,i._transformAlgorithm=N,i._flushAlgorithm=re,i._cancelAlgorithm=be,i._finishPromise=void 0,i._finishPromise_resolve=void 0,i._finishPromise_reject=void 0}function _a(e,i){var N=Object.create(Jt.prototype),re,be,we;i.transform!==void 0?re=function(Le){return i.transform(Le,N)}:re=function(Le){try{return ti(N,Le),y(void 0)}catch(Je){return l(Je)}},i.flush!==void 0?be=function(){return i.flush(N)}:be=function(){return y(void 0)},i.cancel!==void 0?we=function(Le){return i.cancel(Le)}:we=function(){return y(void 0)},Sa(e,N,re,be,we)}function qn(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0,e._cancelAlgorithm=void 0}function ti(e,i){var N=e._controlledTransformStream,re=N._readable._readableStreamController;if(!pn(re))throw new TypeError("Readable side is not in a state that permits enqueue");try{fn(re,i)}catch(we){throw pr(N,we),N._readable._storedError}var be=Qi(re);be!==N._backpressure&&Yn(N,!0)}function wa(e,i){ei(e._controlledTransformStream,i)}function ni(e,i){var N=e._transformAlgorithm(i);return I(N,void 0,function(re){throw ei(e._controlledTransformStream,re),re})}function Aa(e){var i=e._controlledTransformStream,N=i._readable._readableStreamController;rn(N);var re=new TypeError("TransformStream terminated");pr(i,re)}function Pa(e,i){var N=e._transformStreamController;if(e._backpressure){var re=e._backpressureChangePromise;return I(re,function(){var be=e._writable,we=be._state;if(we==="erroring")throw be._storedError;return ni(N,i)})}return ni(N,i)}function Ea(e,i){var N=e._transformStreamController;if(N._finishPromise!==void 0)return N._finishPromise;var re=e._readable;N._finishPromise=g(function(we,Le){N._finishPromise_resolve=we,N._finishPromise_reject=Le});var be=N._cancelAlgorithm(i);return qn(N),a(be,function(){return re._state==="errored"?gn(N,re._storedError):(Nt(re._readableStreamController,i),mr(N)),null},function(we){return Nt(re._readableStreamController,we),gn(N,we),null}),N._finishPromise}function Ca(e){var i=e._transformStreamController;if(i._finishPromise!==void 0)return i._finishPromise;var N=e._readable;i._finishPromise=g(function(be,we){i._finishPromise_resolve=be,i._finishPromise_reject=we});var re=i._flushAlgorithm();return qn(i),a(re,function(){return N._state==="errored"?gn(i,N._storedError):(rn(N._readableStreamController),mr(i)),null},function(be){return Nt(N._readableStreamController,be),gn(i,be),null}),i._finishPromise}function Ta(e){return Yn(e,!1),e._backpressureChangePromise}function xa(e,i){var N=e._transformStreamController;if(N._finishPromise!==void 0)return N._finishPromise;var re=e._writable;N._finishPromise=g(function(we,Le){N._finishPromise_resolve=we,N._finishPromise_reject=Le});var be=N._cancelAlgorithm(i);return qn(N),a(be,function(){return re._state==="errored"?gn(N,re._storedError):(_n(re._writableStreamController,i),gr(e),mr(N)),null},function(we){return _n(re._writableStreamController,we),gr(e),gn(N,we),null}),N._finishPromise}function Qn(e){return new TypeError("TransformStreamDefaultController.prototype.".concat(e," can only be used on a TransformStreamDefaultController"))}function mr(e){e._finishPromise_resolve!==void 0&&(e._finishPromise_resolve(),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function gn(e,i){e._finishPromise_reject!==void 0&&(V(e._finishPromise),e._finishPromise_reject(i),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function ri(e){return new TypeError("TransformStream.prototype.".concat(e," can only be used on a TransformStream"))}r.ByteLengthQueuingStrategy=$n,r.CountQueuingStrategy=Gn,r.ReadableByteStreamController=Ze,r.ReadableStream=Et,r.ReadableStreamBYOBReader=Yt,r.ReadableStreamBYOBRequest=Xe,r.ReadableStreamDefaultController=$t,r.ReadableStreamDefaultReader=xe,r.TransformStream=Xn,r.TransformStreamDefaultController=Jt,r.WritableStream=Kt,r.WritableStreamDefaultController=hn,r.WritableStreamDefaultWriter=jt})}}]);
}());
//# sourceMappingURL=3568.54b314d9.async.js.map