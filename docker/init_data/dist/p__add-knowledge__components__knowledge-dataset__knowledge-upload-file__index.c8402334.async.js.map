{"version":3,"file":"p__add-knowledge__components__knowledge-dataset__knowledge-upload-file__index.c8402334.async.js","mappings":"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","sources":["webpack:///./node_modules/@ant-design/icons-svg/es/asn/EditOutlined.js","webpack:///./node_modules/@ant-design/icons/es/icons/EditOutlined.js","webpack:///./src/hooks/knowledgeHook.ts","webpack:///./src/assets/svg/select-files-end.svg","webpack:///./src/assets/svg/select-files-start.svg","webpack:///./node_modules/@ant-design/icons-svg/es/asn/FileDoneOutlined.js","webpack:///./node_modules/@ant-design/icons/es/icons/FileDoneOutlined.js","webpack:///./node_modules/@ant-design/icons-svg/es/asn/CloudUploadOutlined.js","webpack:///./node_modules/@ant-design/icons/es/icons/CloudUploadOutlined.js","webpack:///./src/pages/add-knowledge/components/knowledge-dataset/knowledge-upload-file/index.less?96d7","webpack:///./src/pages/add-knowledge/components/knowledge-dataset/knowledge-upload-file/index.tsx","webpack:///./node_modules/antd/es/modal/PurePanel.js","webpack:///./node_modules/antd/es/modal/index.js","webpack:///./node_modules/eventsource-parser/dist/index.js","webpack:///./node_modules/eventsource-parser/dist/stream.js"],"sourcesContent":["// This icon file is generated automatically.\nvar EditOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z\" } }] }, \"name\": \"edit\", \"theme\": \"outlined\" };\nexport default EditOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport EditOutlinedSvg from \"@ant-design/icons-svg/es/asn/EditOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar EditOutlined = function EditOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: EditOutlinedSvg\n  }));\n};\nif (process.env.NODE_ENV !== 'production') {\n  EditOutlined.displayName = 'EditOutlined';\n}\nexport default /*#__PURE__*/React.forwardRef(EditOutlined);","import { useShowDeleteConfirm } from '@/hooks/commonHooks';\nimport { IKnowledge } from '@/interfaces/database/knowledge';\nimport { useCallback, useEffect, useMemo } from 'react';\nimport { useDispatch, useSearchParams, useSelector } from 'umi';\nimport { useGetKnowledgeSearchParams } from './routeHook';\nimport { useOneNamespaceEffectsLoading } from './storeHooks';\n\nexport const useKnowledgeBaseId = (): string => {\n  const [searchParams] = useSearchParams();\n  const knowledgeBaseId = searchParams.get('id');\n\n  return knowledgeBaseId || '';\n};\n\nexport const useDeleteDocumentById = (): {\n  removeDocument: (documentId: string) => Promise<number>;\n} => {\n  const dispatch = useDispatch();\n  const knowledgeBaseId = useKnowledgeBaseId();\n  const showDeleteConfirm = useShowDeleteConfirm();\n\n  const removeDocument = (documentId: string) => () => {\n    return dispatch({\n      type: 'kFModel/document_rm',\n      payload: {\n        doc_id: documentId,\n        kb_id: knowledgeBaseId,\n      },\n    });\n  };\n\n  const onRmDocument = (documentId: string): Promise<number> => {\n    return showDeleteConfirm({ onOk: removeDocument(documentId) });\n  };\n\n  return {\n    removeDocument: onRmDocument,\n  };\n};\n\nexport const useFetchKnowledgeDetail = () => {\n  const dispatch = useDispatch();\n  const { knowledgeId } = useGetKnowledgeSearchParams();\n\n  const fetchKnowledgeDetail = useCallback(\n    (knowledgeId: string) => {\n      dispatch({\n        type: 'knowledgeModel/getKnowledgeDetail',\n        payload: { kb_id: knowledgeId },\n      });\n    },\n    [dispatch],\n  );\n\n  useEffect(() => {\n    fetchKnowledgeDetail(knowledgeId);\n  }, [fetchKnowledgeDetail, knowledgeId]);\n\n  return fetchKnowledgeDetail;\n};\n\nexport const useSelectKnowledgeDetail = () => {\n  const knowledge: IKnowledge = useSelector(\n    (state: any) => state.knowledgeModel.knowledge,\n  );\n\n  return knowledge;\n};\n\nexport const useGetDocumentDefaultParser = () => {\n  const item = useSelectKnowledgeDetail();\n\n  return {\n    defaultParserId: item?.parser_id ?? '',\n    parserConfig: item?.parser_config ?? '',\n  };\n};\n\nexport const useDeleteChunkByIds = (): {\n  removeChunk: (chunkIds: string[], documentId: string) => Promise<number>;\n} => {\n  const dispatch = useDispatch();\n  const showDeleteConfirm = useShowDeleteConfirm();\n\n  const removeChunk = useCallback(\n    (chunkIds: string[], documentId: string) => () => {\n      return dispatch({\n        type: 'chunkModel/rm_chunk',\n        payload: {\n          chunk_ids: chunkIds,\n          doc_id: documentId,\n        },\n      });\n    },\n    [dispatch],\n  );\n\n  const onRemoveChunk = useCallback(\n    (chunkIds: string[], documentId: string): Promise<number> => {\n      return showDeleteConfirm({ onOk: removeChunk(chunkIds, documentId) });\n    },\n    [removeChunk, showDeleteConfirm],\n  );\n\n  return {\n    removeChunk: onRemoveChunk,\n  };\n};\n\nexport const useFetchKnowledgeBaseConfiguration = () => {\n  const dispatch = useDispatch();\n  const knowledgeBaseId = useKnowledgeBaseId();\n\n  const fetchKnowledgeBaseConfiguration = useCallback(() => {\n    dispatch({\n      type: 'kSModel/getKbDetail',\n      payload: {\n        kb_id: knowledgeBaseId,\n      },\n    });\n  }, [dispatch, knowledgeBaseId]);\n\n  useEffect(() => {\n    fetchKnowledgeBaseConfiguration();\n  }, [fetchKnowledgeBaseConfiguration]);\n};\n\nexport const useSelectKnowledgeList = () => {\n  const knowledgeModel = useSelector((state) => state.knowledgeModel);\n  const { data = [] } = knowledgeModel;\n  return data;\n};\n\nexport const useFetchKnowledgeList = (\n  shouldFilterListWithoutDocument: boolean = false,\n) => {\n  const dispatch = useDispatch();\n  const loading = useOneNamespaceEffectsLoading('knowledgeModel', ['getList']);\n\n  const knowledgeModel = useSelector((state) => state.knowledgeModel);\n  const { data = [] } = knowledgeModel;\n  const list: IKnowledge[] = useMemo(() => {\n    return shouldFilterListWithoutDocument\n      ? data.filter((x: IKnowledge) => x.chunk_num > 0)\n      : data;\n  }, [data, shouldFilterListWithoutDocument]);\n\n  const fetchList = useCallback(() => {\n    dispatch({\n      type: 'knowledgeModel/getList',\n    });\n  }, [dispatch]);\n\n  useEffect(() => {\n    fetchList();\n  }, [fetchList]);\n\n  return { list, loading, fetchList };\n};\n\nexport const useSelectFileThumbnails = () => {\n  const fileThumbnails: Record<string, string> = useSelector(\n    (state: any) => state.kFModel.fileThumbnails,\n  );\n\n  return fileThumbnails;\n};\n\nexport const useFetchFileThumbnails = (docIds?: Array<string>) => {\n  const dispatch = useDispatch();\n  const fileThumbnails = useSelectFileThumbnails();\n\n  const fetchFileThumbnails = useCallback(\n    (docIds: Array<string>) => {\n      dispatch({\n        type: 'kFModel/fetch_document_thumbnails',\n        payload: { doc_ids: docIds.join(',') },\n      });\n    },\n    [dispatch],\n  );\n\n  useEffect(() => {\n    if (docIds) {\n      fetchFileThumbnails(docIds);\n    }\n  }, [docIds, fetchFileThumbnails]);\n\n  return { fileThumbnails, fetchFileThumbnails };\n};\n\n//#region knowledge configuration\n\nexport const useUpdateKnowledge = () => {\n  const dispatch = useDispatch();\n\n  const saveKnowledgeConfiguration = useCallback(\n    (payload: any) => {\n      dispatch({\n        type: 'kSModel/updateKb',\n        payload,\n      });\n    },\n    [dispatch],\n  );\n\n  return saveKnowledgeConfiguration;\n};\n\nexport const useSelectKnowledgeDetails = () => {\n  const knowledgeDetails: IKnowledge = useSelector(\n    (state: any) => state.kSModel.knowledgeDetails,\n  );\n  return knowledgeDetails;\n};\n//#endregion\n\n//#region Retrieval testing\n\nexport const useTestChunkRetrieval = () => {\n  const dispatch = useDispatch();\n  const knowledgeBaseId = useKnowledgeBaseId();\n\n  const testChunk = useCallback(\n    (values: any) => {\n      dispatch({\n        type: 'testingModel/testDocumentChunk',\n        payload: {\n          ...values,\n          kb_id: knowledgeBaseId,\n        },\n      });\n    },\n    [dispatch, knowledgeBaseId],\n  );\n\n  return testChunk;\n};\n//#endregion\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgSelectFilesEnd = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ width: 32, height: 32, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, props), /* @__PURE__ */ React.createElement(\"g\", { clipPath: \"url(#select-files-end_svg__a)\" }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z\", fill: \"#F9F5FF\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M1 16C1 7.716 7.716 1 16 1c8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15-8.284 0-15-6.716-15-15Z\", fill: \"#7F56D9\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M1 16C1 7.716 7.716 1 16 1c8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15-8.284 0-15-6.716-15-15Z\", stroke: \"#7F56D9\", strokeWidth: 2 }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"m22.795 9.853-9.547 9.214-2.533-2.707c-.467-.44-1.2-.467-1.733-.093-.52.386-.667 1.066-.347 1.613l3 4.88c.293.453.8.733 1.373.733a1.63 1.63 0 0 0 1.36-.733c.48-.627 9.64-11.547 9.64-11.547 1.2-1.226-.253-2.306-1.213-1.373v.013Z\", fill: \"#fff\" })), /* @__PURE__ */ React.createElement(\"defs\", null, /* @__PURE__ */ React.createElement(\"clipPath\", { id: \"select-files-end_svg__a\" }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z\", fill: \"#fff\" }))));\nexport { SvgSelectFilesEnd as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBkPSJNMCAxNkMwIDcuMTYzIDcuMTYzIDAgMTYgMHMxNiA3LjE2MyAxNiAxNi03LjE2MyAxNi0xNiAxNlMwIDI0LjgzNyAwIDE2WiIgZmlsbD0iI0Y5RjVGRiIvPjxwYXRoIGQ9Ik0xIDE2QzEgNy43MTYgNy43MTYgMSAxNiAxYzguMjg0IDAgMTUgNi43MTYgMTUgMTUgMCA4LjI4NC02LjcxNiAxNS0xNSAxNS04LjI4NCAwLTE1LTYuNzE2LTE1LTE1WiIgZmlsbD0iIzdGNTZEOSIvPjxwYXRoIGQ9Ik0xIDE2QzEgNy43MTYgNy43MTYgMSAxNiAxYzguMjg0IDAgMTUgNi43MTYgMTUgMTUgMCA4LjI4NC02LjcxNiAxNS0xNSAxNS04LjI4NCAwLTE1LTYuNzE2LTE1LTE1WiIgc3Ryb2tlPSIjN0Y1NkQ5IiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTIyLjc5NSA5Ljg1My05LjU0NyA5LjIxNC0yLjUzMy0yLjcwN2MtLjQ2Ny0uNDQtMS4yLS40NjctMS43MzMtLjA5My0uNTIuMzg2LS42NjcgMS4wNjYtLjM0NyAxLjYxM2wzIDQuODhjLjI5My40NTMuOC43MzMgMS4zNzMuNzMzYTEuNjMgMS42MyAwIDAgMCAxLjM2LS43MzNjLjQ4LS42MjcgOS42NC0xMS41NDcgOS42NC0xMS41NDcgMS4yLTEuMjI2LS4yNTMtMi4zMDYtMS4yMTMtMS4zNzN2LjAxM1oiIGZpbGw9IiNmZmYiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBkPSJNMCAxNkMwIDcuMTYzIDcuMTYzIDAgMTYgMHMxNiA3LjE2MyAxNiAxNi03LjE2MyAxNi0xNiAxNlMwIDI0LjgzNyAwIDE2WiIgZmlsbD0iI2ZmZiIvPjwvY2xpcFBhdGg+PC9kZWZzPjwvc3ZnPg==\";\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgSelectFilesStart = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ width: 40, height: 40, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, props), /* @__PURE__ */ React.createElement(\"g\", { filter: \"url(#select-files-start_svg__a)\" }, /* @__PURE__ */ React.createElement(\"g\", { clipPath: \"url(#select-files-start_svg__b)\" }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M4 20c0-8.837 7.163-16 16-16s16 7.163 16 16-7.163 16-16 16S4 28.837 4 20Z\", fill: \"#F9F5FF\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M5 20c0-8.284 6.716-15 15-15 8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15-8.284 0-15-6.716-15-15Z\", fill: \"#7F56D9\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M5 20c0-8.284 6.716-15 15-15 8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15-8.284 0-15-6.716-15-15Z\", stroke: \"#7F56D9\", strokeWidth: 2 }), /* @__PURE__ */ React.createElement(\"circle\", { cx: 20, cy: 20, r: 5, fill: \"#fff\" }))), /* @__PURE__ */ React.createElement(\"defs\", null, /* @__PURE__ */ React.createElement(\"clipPath\", { id: \"select-files-start_svg__b\" }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M4 20c0-8.837 7.163-16 16-16s16 7.163 16 16-7.163 16-16 16S4 28.837 4 20Z\", fill: \"#fff\" })), /* @__PURE__ */ React.createElement(\"filter\", { id: \"select-files-start_svg__a\", x: 0, y: 0, width: 40, height: 40, filterUnits: \"userSpaceOnUse\", colorInterpolationFilters: \"sRGB\" }, /* @__PURE__ */ React.createElement(\"feFlood\", { floodOpacity: 0, result: \"BackgroundImageFix\" }), /* @__PURE__ */ React.createElement(\"feColorMatrix\", { in: \"SourceAlpha\", values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\", result: \"hardAlpha\" }), /* @__PURE__ */ React.createElement(\"feMorphology\", { radius: 4, operator: \"dilate\", in: \"SourceAlpha\", result: \"effect1_dropShadow_304_382\" }), /* @__PURE__ */ React.createElement(\"feOffset\", null), /* @__PURE__ */ React.createElement(\"feComposite\", { in2: \"hardAlpha\", operator: \"out\" }), /* @__PURE__ */ React.createElement(\"feColorMatrix\", { values: \"0 0 0 0 0.619152 0 0 0 0 0.465529 0 0 0 0 0.930549 0 0 0 0.24 0\" }), /* @__PURE__ */ React.createElement(\"feBlend\", { in2: \"BackgroundImageFix\", result: \"effect1_dropShadow_304_382\" }), /* @__PURE__ */ React.createElement(\"feBlend\", { in: \"SourceGraphic\", in2: \"effect1_dropShadow_304_382\", result: \"shape\" }))));\nexport { SvgSelectFilesStart as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsdGVyPSJ1cmwoI2EpIj48ZyBjbGlwLXBhdGg9InVybCgjYikiPjxwYXRoIGQ9Ik00IDIwYzAtOC44MzcgNy4xNjMtMTYgMTYtMTZzMTYgNy4xNjMgMTYgMTYtNy4xNjMgMTYtMTYgMTZTNCAyOC44MzcgNCAyMFoiIGZpbGw9IiNGOUY1RkYiLz48cGF0aCBkPSJNNSAyMGMwLTguMjg0IDYuNzE2LTE1IDE1LTE1IDguMjg0IDAgMTUgNi43MTYgMTUgMTUgMCA4LjI4NC02LjcxNiAxNS0xNSAxNS04LjI4NCAwLTE1LTYuNzE2LTE1LTE1WiIgZmlsbD0iIzdGNTZEOSIvPjxwYXRoIGQ9Ik01IDIwYzAtOC4yODQgNi43MTYtMTUgMTUtMTUgOC4yODQgMCAxNSA2LjcxNiAxNSAxNSAwIDguMjg0LTYuNzE2IDE1LTE1IDE1LTguMjg0IDAtMTUtNi43MTYtMTUtMTVaIiBzdHJva2U9IiM3RjU2RDkiIHN0cm9rZS13aWR0aD0iMiIvPjxjaXJjbGUgY3g9IjIwIiBjeT0iMjAiIHI9IjUiIGZpbGw9IiNmZmYiLz48L2c+PC9nPjxkZWZzPjxjbGlwUGF0aCBpZD0iYiI+PHBhdGggZD0iTTQgMjBjMC04LjgzNyA3LjE2My0xNiAxNi0xNnMxNiA3LjE2MyAxNiAxNi03LjE2MyAxNi0xNiAxNlM0IDI4LjgzNyA0IDIwWiIgZmlsbD0iI2ZmZiIvPjwvY2xpcFBhdGg+PGZpbHRlciBpZD0iYSIgeD0iMCIgeT0iMCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiI+PGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz48ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlQWxwaGEiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiIHJlc3VsdD0iaGFyZEFscGhhIi8+PGZlTW9ycGhvbG9neSByYWRpdXM9IjQiIG9wZXJhdG9yPSJkaWxhdGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3dfMzA0XzM4MiIvPjxmZU9mZnNldC8+PGZlQ29tcG9zaXRlIGluMj0iaGFyZEFscGhhIiBvcGVyYXRvcj0ib3V0Ii8+PGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuNjE5MTUyIDAgMCAwIDAgMC40NjU1MjkgMCAwIDAgMCAwLjkzMDU0OSAwIDAgMCAwLjI0IDAiLz48ZmVCbGVuZCBpbjI9IkJhY2tncm91bmRJbWFnZUZpeCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3dfMzA0XzM4MiIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImVmZmVjdDFfZHJvcFNoYWRvd18zMDRfMzgyIiByZXN1bHQ9InNoYXBlIi8+PC9maWx0ZXI+PC9kZWZzPjwvc3ZnPg==\";\n","// This icon file is generated automatically.\nvar FileDoneOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm376 116c-119.3 0-216 96.7-216 216s96.7 216 216 216 216-96.7 216-216-96.7-216-216-216zm107.5 323.5C750.8 868.2 712.6 884 672 884s-78.8-15.8-107.5-44.5C535.8 810.8 520 772.6 520 732s15.8-78.8 44.5-107.5C593.2 595.8 631.4 580 672 580s78.8 15.8 107.5 44.5C808.2 653.2 824 691.4 824 732s-15.8 78.8-44.5 107.5zM761 656h-44.3c-2.6 0-5 1.2-6.5 3.3l-63.5 87.8-23.1-31.9a7.92 7.92 0 00-6.5-3.3H573c-6.5 0-10.3 7.4-6.5 12.7l73.8 102.1c3.2 4.4 9.7 4.4 12.9 0l114.2-158c3.9-5.3.1-12.7-6.4-12.7zM440 852H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"file-done\", \"theme\": \"outlined\" };\nexport default FileDoneOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport FileDoneOutlinedSvg from \"@ant-design/icons-svg/es/asn/FileDoneOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar FileDoneOutlined = function FileDoneOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: FileDoneOutlinedSvg\n  }));\n};\nif (process.env.NODE_ENV !== 'production') {\n  FileDoneOutlined.displayName = 'FileDoneOutlined';\n}\nexport default /*#__PURE__*/React.forwardRef(FileDoneOutlined);","// This icon file is generated automatically.\nvar CloudUploadOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z\" } }] }, \"name\": \"cloud-upload\", \"theme\": \"outlined\" };\nexport default CloudUploadOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport CloudUploadOutlinedSvg from \"@ant-design/icons-svg/es/asn/CloudUploadOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar CloudUploadOutlined = function CloudUploadOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: CloudUploadOutlinedSvg\n  }));\n};\nif (process.env.NODE_ENV !== 'production') {\n  CloudUploadOutlined.displayName = 'CloudUploadOutlined';\n}\nexport default /*#__PURE__*/React.forwardRef(CloudUploadOutlined);","// extracted by mini-css-extract-plugin\nexport default {\"uploadWrapper\":\"uploadWrapper___lI_Uj\",\"backToList\":\"backToList___OSBoP\",\"footer\":\"footer___mu5Ql\",\"nextButton\":\"nextButton___H_c7u\",\"uploadContent\":\"uploadContent___H2UOT\",\"uploader\":\"uploader___J_kY5\",\"hiddenUploader\":\"hiddenUploader___eVP6R\",\"fileIcon\":\"fileIcon___MNG5b\",\"uploaderButton\":\"uploaderButton___nrZBj\",\"uploaderIcon\":\"uploaderIcon___pon6k\",\"deleteIcon\":\"deleteIcon___RARFL\",\"uploaderItem\":\"uploaderItem___wWr9h\",\"uploaderItemProgress\":\"uploaderItemProgress___FUj_L\",\"uploaderItemTextWrapper\":\"uploaderItemTextWrapper___bTzTB\",\"progressWrapper\":\"progressWrapper___j7RXP\",\"progress\":\"progress___zSrYV\",\"selectFilesText\":\"selectFilesText___Wvg63\",\"changeSpecificCategoryText\":\"changeSpecificCategoryText___vAhN8\"};","import { ReactComponent as SelectFilesEndIcon } from '@/assets/svg/select-files-end.svg';\nimport { ReactComponent as SelectFilesStartIcon } from '@/assets/svg/select-files-start.svg';\nimport ChunkMethodModal from '@/components/chunk-method-modal';\nimport { KnowledgeRouteKey } from '@/constants/knowledge';\nimport {\n  useRunDocument,\n  useSelectDocumentList,\n  useUploadDocument,\n} from '@/hooks/documentHooks';\nimport {\n  useDeleteDocumentById,\n  useFetchKnowledgeDetail,\n  useKnowledgeBaseId,\n} from '@/hooks/knowledgeHook';\nimport {\n  useChangeDocumentParser,\n  useSetSelectedRecord,\n} from '@/hooks/logicHooks';\nimport { useFetchTenantInfo } from '@/hooks/userSettingHook';\nimport { IKnowledgeFile } from '@/interfaces/database/knowledge';\nimport { getExtension, isFileUploadDone } from '@/utils/documentUtils';\nimport {\n  ArrowLeftOutlined,\n  CloudUploadOutlined,\n  DeleteOutlined,\n  EditOutlined,\n  FileDoneOutlined,\n} from '@ant-design/icons';\nimport {\n  Button,\n  Card,\n  Flex,\n  Progress,\n  Space,\n  Upload,\n  UploadFile,\n  UploadProps,\n} from 'antd';\nimport classNames from 'classnames';\nimport { ReactElement, useCallback, useMemo, useRef, useState } from 'react';\nimport { Link, useNavigate } from 'umi';\n\nimport { useTranslate } from '@/hooks/commonHooks';\nimport styles from './index.less';\n\nconst { Dragger } = Upload;\n\ntype UploadRequestOption = Parameters<\n  NonNullable<UploadProps['customRequest']>\n>[0];\n\nconst UploaderItem = ({\n  file,\n  isUpload,\n  remove,\n  handleEdit,\n}: {\n  isUpload: boolean;\n  originNode: ReactElement;\n  file: UploadFile;\n  fileList: object[];\n  showModal: () => void;\n  remove: (id: string) => void;\n  setRecord: (record: IKnowledgeFile) => void;\n  handleEdit: (id: string) => void;\n}) => {\n  const { removeDocument } = useDeleteDocumentById();\n\n  const documentId = file?.response?.id;\n\n  const handleRemove = async () => {\n    if (file.status === 'error') {\n      remove(documentId);\n    } else {\n      const ret: any = await removeDocument(documentId);\n      if (ret === 0) {\n        remove(documentId);\n      }\n    }\n  };\n\n  const handleEditClick = () => {\n    if (file.status === 'done') {\n      handleEdit(documentId);\n    }\n  };\n\n  return (\n    <Card className={styles.uploaderItem}>\n      <Flex justify=\"space-between\">\n        <FileDoneOutlined className={styles.fileIcon} />\n        <section className={styles.uploaderItemTextWrapper}>\n          <div>\n            <b>{file.name}</b>\n          </div>\n          <span>{file.size}</span>\n        </section>\n        {isUpload ? (\n          <DeleteOutlined\n            className={styles.deleteIcon}\n            onClick={handleRemove}\n          />\n        ) : (\n          <EditOutlined onClick={handleEditClick} />\n        )}\n      </Flex>\n      <Flex>\n        <Progress\n          showInfo={false}\n          percent={100}\n          className={styles.uploaderItemProgress}\n          strokeColor=\"\n        rgba(127, 86, 217, 1)\n        \"\n        />\n        <span>100%</span>\n      </Flex>\n    </Card>\n  );\n};\n\nconst KnowledgeUploadFile = () => {\n  const knowledgeBaseId = useKnowledgeBaseId();\n  const [isUpload, setIsUpload] = useState(true);\n  const [uploadedFileIds, setUploadedFileIds] = useState<string[]>([]);\n  const fileListRef = useRef<UploadFile[]>([]);\n  const navigate = useNavigate();\n  const { currentRecord, setRecord } = useSetSelectedRecord();\n  const {\n    changeParserLoading,\n    onChangeParserOk,\n    changeParserVisible,\n    hideChangeParserModal,\n    showChangeParserModal,\n  } = useChangeDocumentParser(currentRecord.id);\n  const documentList = useSelectDocumentList();\n  const runDocumentByIds = useRunDocument();\n  const uploadDocument = useUploadDocument();\n  const { t } = useTranslate('knowledgeDetails');\n\n  const enabled = useMemo(() => {\n    if (isUpload) {\n      return (\n        uploadedFileIds.length > 0 &&\n        fileListRef.current.filter((x) => isFileUploadDone(x)).length ===\n          uploadedFileIds.length\n      );\n    }\n    return true;\n  }, [uploadedFileIds, isUpload]);\n\n  const createRequest: (props: UploadRequestOption) => void = async function ({\n    file,\n    onSuccess,\n    onError,\n    // onProgress,\n  }) {\n    const data = await uploadDocument(file as UploadFile);\n    if (data?.retcode === 0) {\n      setUploadedFileIds((pre) => {\n        return pre.concat(data.data.id);\n      });\n      if (onSuccess) {\n        onSuccess(data.data);\n      }\n    } else {\n      if (onError) {\n        onError(data?.data);\n      }\n    }\n  };\n\n  const removeIdFromUploadedIds = useCallback((id: string) => {\n    setUploadedFileIds((pre) => {\n      return pre.filter((x) => x !== id);\n    });\n  }, []);\n\n  const handleItemEdit = useCallback(\n    (id: string) => {\n      const document = documentList.find((x) => x.id === id);\n      if (document) {\n        setRecord(document);\n      }\n      showChangeParserModal();\n    },\n    [documentList, showChangeParserModal, setRecord],\n  );\n\n  const props: UploadProps = {\n    name: 'file',\n    multiple: true,\n    itemRender(originNode, file, fileList, actions) {\n      fileListRef.current = fileList;\n      const remove = (id: string) => {\n        if (isFileUploadDone(file)) {\n          removeIdFromUploadedIds(id);\n        }\n        actions.remove();\n      };\n      return (\n        <UploaderItem\n          isUpload={isUpload}\n          file={file}\n          fileList={fileList}\n          originNode={originNode}\n          remove={remove}\n          showModal={showChangeParserModal}\n          setRecord={setRecord}\n          handleEdit={handleItemEdit}\n        ></UploaderItem>\n      );\n    },\n    customRequest: createRequest,\n    onDrop(e) {\n      console.log('Dropped files', e.dataTransfer.files);\n    },\n  };\n\n  const runSelectedDocument = () => {\n    const ids = fileListRef.current.map((x) => x.response.id);\n    runDocumentByIds({ doc_ids: ids, run: 1 });\n  };\n\n  const handleNextClick = () => {\n    if (!isUpload) {\n      runSelectedDocument();\n      navigate(`/knowledge/${KnowledgeRouteKey.Dataset}?id=${knowledgeBaseId}`);\n    } else {\n      setIsUpload(false);\n    }\n  };\n\n  useFetchTenantInfo();\n  useFetchKnowledgeDetail();\n\n  return (\n    <>\n      <div className={styles.uploadWrapper}>\n        <section>\n          <Space className={styles.backToList}>\n            <ArrowLeftOutlined />\n            <Link to={`/knowledge/dataset?id=${knowledgeBaseId}`}>\n              Back to select files\n            </Link>\n          </Space>\n          <div className={styles.progressWrapper}>\n            <Flex align=\"center\" justify=\"center\">\n              <SelectFilesStartIcon></SelectFilesStartIcon>\n              <Progress\n                percent={100}\n                showInfo={false}\n                className={styles.progress}\n                strokeColor=\"\n                 rgba(127, 86, 217, 1)\n                \"\n              />\n              <SelectFilesEndIcon></SelectFilesEndIcon>\n            </Flex>\n            <Flex justify=\"space-around\">\n              <p className={styles.selectFilesText}>\n                <b>{t('selectFiles')}</b>\n              </p>\n              <p className={styles.changeSpecificCategoryText}>\n                <b>{t('changeSpecificCategory')}</b>\n              </p>\n            </Flex>\n          </div>\n        </section>\n        <section className={styles.uploadContent}>\n          <Dragger\n            {...props}\n            className={classNames(styles.uploader, {\n              [styles.hiddenUploader]: !isUpload,\n            })}\n          >\n            <Button className={styles.uploaderButton}>\n              <CloudUploadOutlined className={styles.uploaderIcon} />\n            </Button>\n            <p className=\"ant-upload-text\">{t('uploadTitle')}</p>\n            <p className=\"ant-upload-hint\">{t('uploadDescription')}</p>\n          </Dragger>\n        </section>\n        <section className={styles.footer}>\n          <Button\n            type=\"primary\"\n            className={styles.nextButton}\n            onClick={handleNextClick}\n            disabled={!enabled}\n            size=\"large\"\n          >\n            {t('next', { keyPrefix: 'common' })}\n          </Button>\n        </section>\n      </div>\n      <ChunkMethodModal\n        documentId={currentRecord.id}\n        parserId={currentRecord.parser_id}\n        parserConfig={currentRecord.parser_config}\n        documentExtension={getExtension(currentRecord.name)}\n        onOk={onChangeParserOk}\n        visible={changeParserVisible}\n        hideModal={hideChangeParserModal}\n        loading={changeParserLoading}\n      />\n    </>\n  );\n};\n\nexport default KnowledgeUploadFile;\n","\"use client\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n/* eslint-disable react/jsx-no-useless-fragment */\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { Panel } from 'rc-dialog';\nimport { withPureRenderTheme } from '../_util/PurePanel';\nimport { ConfigContext } from '../config-provider';\nimport { ConfirmContent } from './ConfirmDialog';\nimport { Footer, renderCloseIcon } from './shared';\nimport useStyle from './style';\nimport useCSSVarCls from '../config-provider/hooks/useCSSVarCls';\nconst PurePanel = props => {\n  const {\n      prefixCls: customizePrefixCls,\n      className,\n      closeIcon,\n      closable,\n      type,\n      title,\n      children,\n      footer\n    } = props,\n    restProps = __rest(props, [\"prefixCls\", \"className\", \"closeIcon\", \"closable\", \"type\", \"title\", \"children\", \"footer\"]);\n  const {\n    getPrefixCls\n  } = React.useContext(ConfigContext);\n  const rootPrefixCls = getPrefixCls();\n  const prefixCls = customizePrefixCls || getPrefixCls('modal');\n  const rootCls = useCSSVarCls(rootPrefixCls);\n  const [wrapCSSVar, hashId, cssVarCls] = useStyle(prefixCls, rootCls);\n  const confirmPrefixCls = `${prefixCls}-confirm`;\n  // Choose target props by confirm mark\n  let additionalProps = {};\n  if (type) {\n    additionalProps = {\n      closable: closable !== null && closable !== void 0 ? closable : false,\n      title: '',\n      footer: '',\n      children: ( /*#__PURE__*/React.createElement(ConfirmContent, Object.assign({}, props, {\n        prefixCls: prefixCls,\n        confirmPrefixCls: confirmPrefixCls,\n        rootPrefixCls: rootPrefixCls,\n        content: children\n      })))\n    };\n  } else {\n    additionalProps = {\n      closable: closable !== null && closable !== void 0 ? closable : true,\n      title,\n      footer: footer !== null && /*#__PURE__*/React.createElement(Footer, Object.assign({}, props)),\n      children\n    };\n  }\n  return wrapCSSVar( /*#__PURE__*/React.createElement(Panel, Object.assign({\n    prefixCls: prefixCls,\n    className: classNames(hashId, `${prefixCls}-pure-panel`, type && confirmPrefixCls, type && `${confirmPrefixCls}-${type}`, className, cssVarCls, rootCls)\n  }, restProps, {\n    closeIcon: renderCloseIcon(prefixCls, closeIcon),\n    closable: closable\n  }, additionalProps)));\n};\nexport default withPureRenderTheme(PurePanel);","\"use client\";\n\nimport confirm, { modalGlobalConfig, withConfirm, withError, withInfo, withSuccess, withWarn } from './confirm';\nimport destroyFns from './destroyFns';\nimport OriginModal from './Modal';\nimport PurePanel from './PurePanel';\nimport useModal from './useModal';\nfunction modalWarn(props) {\n  return confirm(withWarn(props));\n}\nconst Modal = OriginModal;\nModal.useModal = useModal;\nModal.info = function infoFn(props) {\n  return confirm(withInfo(props));\n};\nModal.success = function successFn(props) {\n  return confirm(withSuccess(props));\n};\nModal.error = function errorFn(props) {\n  return confirm(withError(props));\n};\nModal.warning = modalWarn;\nModal.warn = modalWarn;\nModal.confirm = function confirmFn(props) {\n  return confirm(withConfirm(props));\n};\nModal.destroyAll = function destroyAllFn() {\n  while (destroyFns.length) {\n    const close = destroyFns.pop();\n    if (close) {\n      close();\n    }\n  }\n};\nModal.config = modalGlobalConfig;\nModal._InternalPanelDoNotUseOrYouWillBeFired = PurePanel;\nif (process.env.NODE_ENV !== 'production') {\n  Modal.displayName = 'Modal';\n}\nexport default Modal;","function createParser(onParse) {\n  let isFirstChunk;\n  let buffer;\n  let startingPosition;\n  let startingFieldLength;\n  let eventId;\n  let eventName;\n  let data;\n  reset();\n  return {\n    feed,\n    reset\n  };\n  function reset() {\n    isFirstChunk = true;\n    buffer = \"\";\n    startingPosition = 0;\n    startingFieldLength = -1;\n    eventId = void 0;\n    eventName = void 0;\n    data = \"\";\n  }\n  function feed(chunk) {\n    buffer = buffer ? buffer + chunk : chunk;\n    if (isFirstChunk && hasBom(buffer)) {\n      buffer = buffer.slice(BOM.length);\n    }\n    isFirstChunk = false;\n    const length = buffer.length;\n    let position = 0;\n    let discardTrailingNewline = false;\n    while (position < length) {\n      if (discardTrailingNewline) {\n        if (buffer[position] === \"\\n\") {\n          ++position;\n        }\n        discardTrailingNewline = false;\n      }\n      let lineLength = -1;\n      let fieldLength = startingFieldLength;\n      let character;\n      for (let index = startingPosition; lineLength < 0 && index < length; ++index) {\n        character = buffer[index];\n        if (character === \":\" && fieldLength < 0) {\n          fieldLength = index - position;\n        } else if (character === \"\\r\") {\n          discardTrailingNewline = true;\n          lineLength = index - position;\n        } else if (character === \"\\n\") {\n          lineLength = index - position;\n        }\n      }\n      if (lineLength < 0) {\n        startingPosition = length - position;\n        startingFieldLength = fieldLength;\n        break;\n      } else {\n        startingPosition = 0;\n        startingFieldLength = -1;\n      }\n      parseEventStreamLine(buffer, position, fieldLength, lineLength);\n      position += lineLength + 1;\n    }\n    if (position === length) {\n      buffer = \"\";\n    } else if (position > 0) {\n      buffer = buffer.slice(position);\n    }\n  }\n  function parseEventStreamLine(lineBuffer, index, fieldLength, lineLength) {\n    if (lineLength === 0) {\n      if (data.length > 0) {\n        onParse({\n          type: \"event\",\n          id: eventId,\n          event: eventName || void 0,\n          data: data.slice(0, -1)\n          // remove trailing newline\n        });\n\n        data = \"\";\n        eventId = void 0;\n      }\n      eventName = void 0;\n      return;\n    }\n    const noValue = fieldLength < 0;\n    const field = lineBuffer.slice(index, index + (noValue ? lineLength : fieldLength));\n    let step = 0;\n    if (noValue) {\n      step = lineLength;\n    } else if (lineBuffer[index + fieldLength + 1] === \" \") {\n      step = fieldLength + 2;\n    } else {\n      step = fieldLength + 1;\n    }\n    const position = index + step;\n    const valueLength = lineLength - step;\n    const value = lineBuffer.slice(position, position + valueLength).toString();\n    if (field === \"data\") {\n      data += value ? \"\".concat(value, \"\\n\") : \"\\n\";\n    } else if (field === \"event\") {\n      eventName = value;\n    } else if (field === \"id\" && !value.includes(\"\\0\")) {\n      eventId = value;\n    } else if (field === \"retry\") {\n      const retry = parseInt(value, 10);\n      if (!Number.isNaN(retry)) {\n        onParse({\n          type: \"reconnect-interval\",\n          value: retry\n        });\n      }\n    }\n  }\n}\nconst BOM = [239, 187, 191];\nfunction hasBom(buffer) {\n  return BOM.every((charCode, index) => buffer.charCodeAt(index) === charCode);\n}\nexport { createParser };\n//# sourceMappingURL=index.js.map\n","import { createParser } from './index.js';\nclass EventSourceParserStream extends TransformStream {\n  constructor() {\n    let parser;\n    super({\n      start(controller) {\n        parser = createParser(event => {\n          if (event.type === \"event\") {\n            controller.enqueue(event);\n          }\n        });\n      },\n      transform(chunk) {\n        parser.feed(chunk);\n      }\n    });\n  }\n}\nexport { EventSourceParserStream };\n//# sourceMappingURL=stream.js.map\n"],"names":["EditOutlined","props","ref","AntdIcon","useKnowledgeBaseId","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchParams","knowledgeBaseId","get","useDeleteDocumentById","dispatch","useDispatch","showDeleteConfirm","useShowDeleteConfirm","removeDocument","documentId","type","payload","doc_id","kb_id","onRmDocument","onOk","useFetchKnowledgeDetail","_useGetKnowledgeSearc","useGetKnowledgeSearchParams","knowledgeId","fetchKnowledgeDetail","useCallback","useEffect","useSelectKnowledgeDetail","knowledge","useSelector","state","knowledgeModel","useGetDocumentDefaultParser","_item$parser_id","_item$parser_config","item","defaultParserId","parser_id","parserConfig","parser_config","useDeleteChunkByIds","removeChunk","chunkIds","chunk_ids","onRemoveChunk","useFetchKnowledgeBaseConfiguration","fetchKnowledgeBaseConfiguration","useSelectKnowledgeList","_knowledgeModel$data","data","useFetchKnowledgeList","shouldFilterListWithoutDocument","arguments","length","undefined","loading","useOneNamespaceEffectsLoading","_knowledgeModel$data2","list","useMemo","filter","x","chunk_num","fetchList","useSelectFileThumbnails","fileThumbnails","kFModel","useFetchFileThumbnails","docIds","fetchFileThumbnails","doc_ids","join","useUpdateKnowledge","saveKnowledgeConfiguration","useSelectKnowledgeDetails","knowledgeDetails","kSModel","useTestChunkRetrieval","testChunk","values","_objectSpread","__defProp","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","obj","key","value","__spreadValues","a","b","prop","SvgSelectFilesEnd","SvgSelectFilesStart","FileDoneOutlined","CloudUploadOutlined","Dragger","Upload","UploaderItem","_ref","_file$response","file","isUpload","remove","handleEdit","_useDeleteDocumentByI","response","id","handleRemove","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","ret","wrap","_context","prev","next","status","sent","stop","apply","handleEditClick","_jsxs","Card","className","styles","uploaderItem","children","Flex","justify","_jsx","fileIcon","uploaderItemTextWrapper","name","size","DeleteOutlined","deleteIcon","onClick","Progress","showInfo","percent","uploaderItemProgress","strokeColor","KnowledgeUploadFile","_useState","useState","_useState2","setIsUpload","_useState3","_useState4","uploadedFileIds","setUploadedFileIds","fileListRef","useRef","navigate","useNavigate","_useSetSelectedRecord","useSetSelectedRecord","currentRecord","setRecord","_useChangeDocumentPar","useChangeDocumentParser","changeParserLoading","onChangeParserOk","changeParserVisible","hideChangeParserModal","showChangeParserModal","documentList","useSelectDocumentList","runDocumentByIds","useRunDocument","uploadDocument","useUploadDocument","_useTranslate","useTranslate","t","enabled","current","isFileUploadDone","createRequest","_ref4","_callee2","_ref3","onSuccess","onError","_context2","retcode","pre","concat","_x","removeIdFromUploadedIds","handleItemEdit","document","find","multiple","itemRender","originNode","fileList","actions","showModal","customRequest","onDrop","e","console","log","dataTransfer","files","runSelectedDocument","ids","map","run","handleNextClick","KnowledgeRouteKey","Dataset","useFetchTenantInfo","_Fragment","uploadWrapper","Space","backToList","ArrowLeftOutlined","Link","to","progressWrapper","align","SelectFilesStartIcon","progress","SelectFilesEndIcon","selectFilesText","changeSpecificCategoryText","uploadContent","classNames","uploader","_defineProperty","hiddenUploader","Button","uploaderButton","uploaderIcon","footer","nextButton","disabled","keyPrefix","ChunkMethodModal","parserId","documentExtension","getExtension","visible","hideModal","__rest","p","i","customizePrefixCls","closeIcon","closable","title","restProps","getPrefixCls","rootPrefixCls","prefixCls","rootCls","useCSSVarCls","wrapCSSVar","hashId","cssVarCls","confirmPrefixCls","additionalProps","modalWarn","useModal","destroyFns","close","createParser","onParse","isFirstChunk","buffer","startingPosition","startingFieldLength","eventId","eventName","reset","feed","chunk","hasBom","BOM","position","discardTrailingNewline","lineLength","fieldLength","character","index","parseEventStreamLine","lineBuffer","noValue","field","step","valueLength","retry","charCode","EventSourceParserStream","parser","controller","event"],"sourceRoot":""}