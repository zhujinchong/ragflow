{"version":3,"file":"p__add-knowledge__components__knowledge-chunk__index.a7115f4f.async.js","mappings":"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","sources":["webpack:///./src/components/image.tsx","webpack:///./src/components/pdf-previewer/hooks.ts","webpack:///./src/constants/knowledge.ts","webpack:///./src/hooks/commonHooks.tsx","webpack:///./src/hooks/knowledgeHook.ts","webpack:///./src/hooks/routeHook.ts","webpack:///./src/utils/storeUtil.ts","webpack:///./src/hooks/storeHooks.ts","webpack:///./src/hooks/chunkHooks.ts","webpack:///./src/pages/add-knowledge/components/knowledge-chunk/constant.ts","webpack:///./src/pages/add-knowledge/components/knowledge-chunk/components/chunk-card/index.less?48f9","webpack:///./src/pages/add-knowledge/components/knowledge-chunk/components/chunk-card/index.tsx","webpack:///./src/pages/add-knowledge/components/knowledge-chunk/components/edit-tag/index.less?5c38","webpack:///./src/pages/add-knowledge/components/knowledge-chunk/components/edit-tag/index.tsx","webpack:///./src/pages/add-knowledge/components/knowledge-chunk/components/chunk-creating-modal/index.tsx","webpack:///./src/assets/filter.svg","webpack:///./src/pages/add-knowledge/components/knowledge-chunk/components/chunk-toolbar/index.tsx","webpack:///./src/pages/add-knowledge/components/knowledge-chunk/hooks.ts","webpack:///./src/pages/add-knowledge/components/knowledge-chunk/components/document-preview/hooks.ts","webpack:///./src/pages/add-knowledge/components/knowledge-chunk/components/document-preview/index.less?b5d4","webpack:///./src/pages/add-knowledge/components/knowledge-chunk/components/document-preview/preview.tsx","webpack:///./src/pages/add-knowledge/components/knowledge-chunk/index.less?fd51","webpack:///./src/pages/add-knowledge/components/knowledge-chunk/index.tsx","webpack:///./src/pages/document-viewer/file-error/index.less?9a0d","webpack:///./src/pages/document-viewer/file-error/index.tsx","webpack:///./src/utils/documentUtils.ts","webpack:///./src/hooks/ lazy namespace object"],"sourcesContent":["import { api_host } from '@/utils/api';\n\ninterface IImage {\n  id: string;\n  className: string;\n}\n\nconst Image = ({ id, className, ...props }: IImage) => {\n  return (\n    <img\n      {...props}\n      src={`${api_host}/document/image/${id}`}\n      alt=\"\"\n      className={className}\n    />\n  );\n};\n\nexport default Image;\n","import axios from 'axios';\nimport { useCallback, useEffect, useState } from 'react';\n\nexport const useCatchDocumentError = (url: string) => {\n  const [error, setError] = useState<string>('');\n\n  const fetchDocument = useCallback(async () => {\n    const { data } = await axios.get(url);\n    if (data.retcode !== 0) {\n      setError(data?.retmsg);\n    }\n  }, [url]);\n  useEffect(() => {\n    fetchDocument();\n  }, [fetchDocument]);\n\n  return error;\n};\n","export enum KnowledgeRouteKey {\n  Dataset = 'dataset',\n  Testing = 'testing',\n  Configuration = 'configuration',\n}\n\nexport enum RunningStatus {\n  UNSTART = '0', // need to run\n  RUNNING = '1', // need to cancel\n  CANCEL = '2', // need to refresh\n  DONE = '3', // need to refresh\n  FAIL = '4', // need to refresh\n}\n\nexport enum ModelVariableType {\n  Improvise = 'Improvise',\n  Precise = 'Precise',\n  Balance = 'Balance',\n}\n\nexport const settledModelVariableMap = {\n  [ModelVariableType.Improvise]: {\n    temperature: 0.9,\n    top_p: 0.9,\n    frequency_penalty: 0.2,\n    presence_penalty: 0.4,\n    max_tokens: 512,\n  },\n  [ModelVariableType.Precise]: {\n    temperature: 0.1,\n    top_p: 0.3,\n    frequency_penalty: 0.7,\n    presence_penalty: 0.4,\n    max_tokens: 512,\n  },\n  [ModelVariableType.Balance]: {\n    temperature: 0.5,\n    top_p: 0.5,\n    frequency_penalty: 0.7,\n    presence_penalty: 0.4,\n    max_tokens: 512,\n  },\n};\n\nexport enum LlmModelType {\n  Embedding = 'embedding',\n  Chat = 'chat',\n  Image2text = 'image2text',\n  Speech2text = 'speech2text',\n  Rerank = 'rerank',\n}\n\nexport enum KnowledgeSearchParams {\n  DocumentId = 'doc_id',\n  KnowledgeId = 'id',\n}\n","import { ExclamationCircleFilled } from '@ant-design/icons';\nimport { App } from 'antd';\nimport isEqual from 'lodash/isEqual';\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport const useSetModalState = () => {\n  const [visible, setVisible] = useState(false);\n\n  const showModal = () => {\n    setVisible(true);\n  };\n  const hideModal = () => {\n    setVisible(false);\n  };\n\n  const switchVisible = () => {\n    setVisible(!visible);\n  };\n\n  return { visible, showModal, hideModal, switchVisible };\n};\n\nexport const useDeepCompareEffect = (\n  effect: React.EffectCallback,\n  deps: React.DependencyList,\n) => {\n  const ref = useRef<React.DependencyList>();\n  let callback: ReturnType<React.EffectCallback> = () => {};\n  if (!isEqual(deps, ref.current)) {\n    callback = effect();\n    ref.current = deps;\n  }\n  useEffect(() => {\n    return () => {\n      if (callback) {\n        callback();\n      }\n    };\n  }, []);\n};\n\nexport interface UseDynamicSVGImportOptions {\n  onCompleted?: (\n    name: string,\n    SvgIcon: React.FC<React.SVGProps<SVGSVGElement>> | undefined,\n  ) => void;\n  onError?: (err: Error) => void;\n}\n\nexport function useDynamicSVGImport(\n  name: string,\n  options: UseDynamicSVGImportOptions = {},\n) {\n  const ImportedIconRef = useRef<React.FC<React.SVGProps<SVGSVGElement>>>();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<Error>();\n\n  const { onCompleted, onError } = options;\n  useEffect(() => {\n    setLoading(true);\n    const importIcon = async (): Promise<void> => {\n      try {\n        ImportedIconRef.current = (await import(name)).ReactComponent;\n        onCompleted?.(name, ImportedIconRef.current);\n      } catch (err: any) {\n        onError?.(err);\n        setError(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    importIcon();\n  }, [name, onCompleted, onError]);\n\n  return { error, loading, SvgIcon: ImportedIconRef.current };\n}\n\ninterface IProps {\n  onOk?: (...args: any[]) => any;\n  onCancel?: (...args: any[]) => any;\n}\n\nexport const useShowDeleteConfirm = () => {\n  const { modal } = App.useApp();\n  const { t } = useTranslation();\n\n  const showDeleteConfirm = useCallback(\n    ({ onOk, onCancel }: IProps): Promise<number> => {\n      return new Promise((resolve, reject) => {\n        modal.confirm({\n          title: t('common.deleteModalTitle'),\n          icon: <ExclamationCircleFilled />,\n          // content: 'Some descriptions',\n          okText: t('common.ok'),\n          okType: 'danger',\n          cancelText: t('common.cancel'),\n          async onOk() {\n            try {\n              const ret = await onOk?.();\n              resolve(ret);\n              console.info(ret);\n            } catch (error) {\n              reject(error);\n            }\n          },\n          onCancel() {\n            onCancel?.();\n          },\n        });\n      });\n    },\n    [t, modal],\n  );\n\n  return showDeleteConfirm;\n};\n\nexport const useTranslate = (keyPrefix: string) => {\n  return useTranslation('translation', { keyPrefix });\n};\n\nexport const useCommonTranslation = () => {\n  return useTranslation('translation', { keyPrefix: 'common' });\n};\n","import { useShowDeleteConfirm } from '@/hooks/commonHooks';\nimport { IKnowledge } from '@/interfaces/database/knowledge';\nimport { useCallback, useEffect, useMemo } from 'react';\nimport { useDispatch, useSearchParams, useSelector } from 'umi';\nimport { useGetKnowledgeSearchParams } from './routeHook';\nimport { useOneNamespaceEffectsLoading } from './storeHooks';\n\nexport const useKnowledgeBaseId = (): string => {\n  const [searchParams] = useSearchParams();\n  const knowledgeBaseId = searchParams.get('id');\n\n  return knowledgeBaseId || '';\n};\n\nexport const useDeleteDocumentById = (): {\n  removeDocument: (documentId: string) => Promise<number>;\n} => {\n  const dispatch = useDispatch();\n  const knowledgeBaseId = useKnowledgeBaseId();\n  const showDeleteConfirm = useShowDeleteConfirm();\n\n  const removeDocument = (documentId: string) => () => {\n    return dispatch({\n      type: 'kFModel/document_rm',\n      payload: {\n        doc_id: documentId,\n        kb_id: knowledgeBaseId,\n      },\n    });\n  };\n\n  const onRmDocument = (documentId: string): Promise<number> => {\n    return showDeleteConfirm({ onOk: removeDocument(documentId) });\n  };\n\n  return {\n    removeDocument: onRmDocument,\n  };\n};\n\nexport const useFetchKnowledgeDetail = () => {\n  const dispatch = useDispatch();\n  const { knowledgeId } = useGetKnowledgeSearchParams();\n\n  const fetchKnowledgeDetail = useCallback(\n    (knowledgeId: string) => {\n      dispatch({\n        type: 'knowledgeModel/getKnowledgeDetail',\n        payload: { kb_id: knowledgeId },\n      });\n    },\n    [dispatch],\n  );\n\n  useEffect(() => {\n    fetchKnowledgeDetail(knowledgeId);\n  }, [fetchKnowledgeDetail, knowledgeId]);\n\n  return fetchKnowledgeDetail;\n};\n\nexport const useSelectKnowledgeDetail = () => {\n  const knowledge: IKnowledge = useSelector(\n    (state: any) => state.knowledgeModel.knowledge,\n  );\n\n  return knowledge;\n};\n\nexport const useGetDocumentDefaultParser = () => {\n  const item = useSelectKnowledgeDetail();\n\n  return {\n    defaultParserId: item?.parser_id ?? '',\n    parserConfig: item?.parser_config ?? '',\n  };\n};\n\nexport const useDeleteChunkByIds = (): {\n  removeChunk: (chunkIds: string[], documentId: string) => Promise<number>;\n} => {\n  const dispatch = useDispatch();\n  const showDeleteConfirm = useShowDeleteConfirm();\n\n  const removeChunk = useCallback(\n    (chunkIds: string[], documentId: string) => () => {\n      return dispatch({\n        type: 'chunkModel/rm_chunk',\n        payload: {\n          chunk_ids: chunkIds,\n          doc_id: documentId,\n        },\n      });\n    },\n    [dispatch],\n  );\n\n  const onRemoveChunk = useCallback(\n    (chunkIds: string[], documentId: string): Promise<number> => {\n      return showDeleteConfirm({ onOk: removeChunk(chunkIds, documentId) });\n    },\n    [removeChunk, showDeleteConfirm],\n  );\n\n  return {\n    removeChunk: onRemoveChunk,\n  };\n};\n\nexport const useFetchKnowledgeBaseConfiguration = () => {\n  const dispatch = useDispatch();\n  const knowledgeBaseId = useKnowledgeBaseId();\n\n  const fetchKnowledgeBaseConfiguration = useCallback(() => {\n    dispatch({\n      type: 'kSModel/getKbDetail',\n      payload: {\n        kb_id: knowledgeBaseId,\n      },\n    });\n  }, [dispatch, knowledgeBaseId]);\n\n  useEffect(() => {\n    fetchKnowledgeBaseConfiguration();\n  }, [fetchKnowledgeBaseConfiguration]);\n};\n\nexport const useSelectKnowledgeList = () => {\n  const knowledgeModel = useSelector((state) => state.knowledgeModel);\n  const { data = [] } = knowledgeModel;\n  return data;\n};\n\nexport const useFetchKnowledgeList = (\n  shouldFilterListWithoutDocument: boolean = false,\n) => {\n  const dispatch = useDispatch();\n  const loading = useOneNamespaceEffectsLoading('knowledgeModel', ['getList']);\n\n  const knowledgeModel = useSelector((state) => state.knowledgeModel);\n  const { data = [] } = knowledgeModel;\n  const list: IKnowledge[] = useMemo(() => {\n    return shouldFilterListWithoutDocument\n      ? data.filter((x: IKnowledge) => x.chunk_num > 0)\n      : data;\n  }, [data, shouldFilterListWithoutDocument]);\n\n  const fetchList = useCallback(() => {\n    dispatch({\n      type: 'knowledgeModel/getList',\n    });\n  }, [dispatch]);\n\n  useEffect(() => {\n    fetchList();\n  }, [fetchList]);\n\n  return { list, loading, fetchList };\n};\n\nexport const useSelectFileThumbnails = () => {\n  const fileThumbnails: Record<string, string> = useSelector(\n    (state: any) => state.kFModel.fileThumbnails,\n  );\n\n  return fileThumbnails;\n};\n\nexport const useFetchFileThumbnails = (docIds?: Array<string>) => {\n  const dispatch = useDispatch();\n  const fileThumbnails = useSelectFileThumbnails();\n\n  const fetchFileThumbnails = useCallback(\n    (docIds: Array<string>) => {\n      dispatch({\n        type: 'kFModel/fetch_document_thumbnails',\n        payload: { doc_ids: docIds.join(',') },\n      });\n    },\n    [dispatch],\n  );\n\n  useEffect(() => {\n    if (docIds) {\n      fetchFileThumbnails(docIds);\n    }\n  }, [docIds, fetchFileThumbnails]);\n\n  return { fileThumbnails, fetchFileThumbnails };\n};\n\n//#region knowledge configuration\n\nexport const useUpdateKnowledge = () => {\n  const dispatch = useDispatch();\n\n  const saveKnowledgeConfiguration = useCallback(\n    (payload: any) => {\n      dispatch({\n        type: 'kSModel/updateKb',\n        payload,\n      });\n    },\n    [dispatch],\n  );\n\n  return saveKnowledgeConfiguration;\n};\n\nexport const useSelectKnowledgeDetails = () => {\n  const knowledgeDetails: IKnowledge = useSelector(\n    (state: any) => state.kSModel.knowledgeDetails,\n  );\n  return knowledgeDetails;\n};\n//#endregion\n\n//#region Retrieval testing\n\nexport const useTestChunkRetrieval = () => {\n  const dispatch = useDispatch();\n  const knowledgeBaseId = useKnowledgeBaseId();\n\n  const testChunk = useCallback(\n    (values: any) => {\n      dispatch({\n        type: 'testingModel/testDocumentChunk',\n        payload: {\n          ...values,\n          kb_id: knowledgeBaseId,\n        },\n      });\n    },\n    [dispatch, knowledgeBaseId],\n  );\n\n  return testChunk;\n};\n//#endregion\n","import {\n  KnowledgeRouteKey,\n  KnowledgeSearchParams,\n} from '@/constants/knowledge';\nimport { useCallback } from 'react';\nimport { useLocation, useNavigate, useSearchParams } from 'umi';\n\nexport enum SegmentIndex {\n  Second = '2',\n  Third = '3',\n}\n\nexport const useSegmentedPathName = (index: SegmentIndex) => {\n  const { pathname } = useLocation();\n\n  const pathArray = pathname.split('/');\n  return pathArray[index] || '';\n};\n\nexport const useSecondPathName = () => {\n  return useSegmentedPathName(SegmentIndex.Second);\n};\n\nexport const useThirdPathName = () => {\n  return useSegmentedPathName(SegmentIndex.Third);\n};\n\nexport const useGetKnowledgeSearchParams = () => {\n  const [currentQueryParameters] = useSearchParams();\n\n  return {\n    documentId:\n      currentQueryParameters.get(KnowledgeSearchParams.DocumentId) || '',\n    knowledgeId:\n      currentQueryParameters.get(KnowledgeSearchParams.KnowledgeId) || '',\n  };\n};\n\nexport const useNavigateWithFromState = () => {\n  const navigate = useNavigate();\n  return useCallback(\n    (path: string) => {\n      navigate(path, { state: { from: path } });\n    },\n    [navigate],\n  );\n};\n\nexport const useNavigateToDataset = () => {\n  const navigate = useNavigate();\n  const { knowledgeId } = useGetKnowledgeSearchParams();\n\n  return useCallback(() => {\n    navigate(`/knowledge/${KnowledgeRouteKey.Dataset}?id=${knowledgeId}`);\n  }, [knowledgeId, navigate]);\n};\n","export const getOneNamespaceEffectsLoading = (\n  namespace: string,\n  effects: Record<string, boolean>,\n  effectNames: Array<string>,\n) => {\n  return effectNames.some(\n    (effectName) => effects[`${namespace}/${effectName}`],\n  );\n};\n\nexport const delay = (ms: number) =>\n  new Promise((resolve) => {\n    setTimeout(resolve, ms);\n  });\n","import { getOneNamespaceEffectsLoading } from '@/utils/storeUtil';\nimport { useSelector } from 'umi';\n\n// Get the loading status of given effects under a certain namespace\nexport const useOneNamespaceEffectsLoading = (\n  namespace: string,\n  effectNames: Array<string>,\n) => {\n  const effects = useSelector((state: any) => state.loading.effects);\n  return getOneNamespaceEffectsLoading(namespace, effects, effectNames);\n};\n","import { useCallback } from 'react';\nimport { useDispatch } from 'umi';\nimport { useGetKnowledgeSearchParams } from './routeHook';\n\ninterface PayloadType {\n  doc_id: string;\n  keywords?: string;\n}\n\nexport const useFetchChunkList = () => {\n  const dispatch = useDispatch();\n  const { documentId } = useGetKnowledgeSearchParams();\n\n  const fetchChunkList = useCallback(() => {\n    dispatch({\n      type: 'chunkModel/chunk_list',\n      payload: {\n        doc_id: documentId,\n      },\n    });\n  }, [dispatch, documentId]);\n\n  return fetchChunkList;\n};\n","export enum ChunkTextMode {\n  Full = 'full',\n  Ellipse = 'ellipse',\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"image\":\"image___fDGTe\",\"imagePreview\":\"imagePreview___N6faK\",\"content\":\"content___dvAD4\",\"contentEllipsis\":\"contentEllipsis___ku_hG\",\"chunkCard\":\"chunkCard___FJadg\",\"cardSelected\":\"cardSelected___xZpKQ\"};","import Image from '@/components/image';\nimport { IChunk } from '@/interfaces/database/knowledge';\nimport { Card, Checkbox, CheckboxProps, Flex, Popover, Switch } from 'antd';\nimport classNames from 'classnames';\nimport { useState } from 'react';\n\nimport { ChunkTextMode } from '../../constant';\nimport styles from './index.less';\n\ninterface IProps {\n  item: IChunk;\n  checked: boolean;\n  switchChunk: (available?: number, chunkIds?: string[]) => void;\n  editChunk: (chunkId: string) => void;\n  handleCheckboxClick: (chunkId: string, checked: boolean) => void;\n  selected: boolean;\n  clickChunkCard: (chunkId: string) => void;\n  textMode: ChunkTextMode;\n}\n\nconst ChunkCard = ({\n  item,\n  checked,\n  handleCheckboxClick,\n  editChunk,\n  switchChunk,\n  selected,\n  clickChunkCard,\n  textMode,\n}: IProps) => {\n  const available = Number(item.available_int);\n  const [enabled, setEnabled] = useState(available === 1);\n\n  const onChange = (checked: boolean) => {\n    setEnabled(checked);\n    switchChunk(available === 0 ? 1 : 0, [item.chunk_id]);\n  };\n\n  const handleCheck: CheckboxProps['onChange'] = (e) => {\n    handleCheckboxClick(item.chunk_id, e.target.checked);\n  };\n\n  const handleContentDoubleClick = () => {\n    editChunk(item.chunk_id);\n  };\n\n  const handleContentClick = () => {\n    clickChunkCard(item.chunk_id);\n  };\n\n  return (\n    <Card\n      className={classNames(styles.chunkCard, {\n        [styles.cardSelected]: selected,\n      })}\n    >\n      <Flex gap={'middle'} justify={'space-between'}>\n        <Checkbox onChange={handleCheck} checked={checked}></Checkbox>\n        {item.img_id && (\n          <Popover\n            placement=\"right\"\n            content={\n              <Image id={item.img_id} className={styles.imagePreview}></Image>\n            }\n          >\n            <Image id={item.img_id} className={styles.image}></Image>\n          </Popover>\n        )}\n\n        <section\n          onDoubleClick={handleContentDoubleClick}\n          onClick={handleContentClick}\n          className={styles.content}\n        >\n          <div\n            dangerouslySetInnerHTML={{ __html: item.content_with_weight }}\n            className={classNames({\n              [styles.contentEllipsis]: textMode === ChunkTextMode.Ellipse,\n            })}\n          ></div>\n        </section>\n\n        <div>\n          <Switch checked={enabled} onChange={onChange} />\n        </div>\n      </Flex>\n    </Card>\n  );\n};\n\nexport default ChunkCard;\n","// extracted by mini-css-extract-plugin\nexport default {\"tweenGroup\":\"tweenGroup___FzEVj\"};","import { PlusOutlined } from '@ant-design/icons';\nimport type { InputRef } from 'antd';\nimport { Input, Tag, theme } from 'antd';\nimport { TweenOneGroup } from 'rc-tween-one';\nimport React, { useEffect, useRef, useState } from 'react';\n\nimport styles from './index.less';\n\ninterface EditTagsProps {\n  tags: string[];\n  setTags: (tags: string[]) => void;\n}\n\nconst EditTag = ({ tags, setTags }: EditTagsProps) => {\n  const { token } = theme.useToken();\n  const [inputVisible, setInputVisible] = useState(false);\n  const [inputValue, setInputValue] = useState('');\n  const inputRef = useRef<InputRef>(null);\n\n  useEffect(() => {\n    if (inputVisible) {\n      inputRef.current?.focus();\n    }\n  }, [inputVisible]);\n\n  const handleClose = (removedTag: string) => {\n    const newTags = tags.filter((tag) => tag !== removedTag);\n    console.log(newTags);\n    setTags(newTags);\n  };\n\n  const showInput = () => {\n    setInputVisible(true);\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setInputValue(e.target.value);\n  };\n\n  const handleInputConfirm = () => {\n    if (inputValue && tags.indexOf(inputValue) === -1) {\n      setTags([...tags, inputValue]);\n    }\n    setInputVisible(false);\n    setInputValue('');\n  };\n\n  const forMap = (tag: string) => {\n    const tagElem = (\n      <Tag\n        closable\n        onClose={(e) => {\n          e.preventDefault();\n          handleClose(tag);\n        }}\n      >\n        {tag}\n      </Tag>\n    );\n    return (\n      <span key={tag} style={{ display: 'inline-block' }}>\n        {tagElem}\n      </span>\n    );\n  };\n\n  const tagChild = tags.map(forMap);\n\n  const tagPlusStyle: React.CSSProperties = {\n    background: token.colorBgContainer,\n    borderStyle: 'dashed',\n  };\n\n  return (\n    <>\n      <span>\n        <TweenOneGroup\n          className={styles.tweenGroup}\n          enter={{\n            scale: 0.8,\n            opacity: 0,\n            type: 'from',\n            duration: 100,\n          }}\n          onEnd={(e) => {\n            if (e.type === 'appear' || e.type === 'enter') {\n              (e.target as any).style = 'display: inline-block';\n            }\n          }}\n          leave={{ opacity: 0, width: 0, scale: 0, duration: 200 }}\n          appear={false}\n        >\n          {tagChild}\n        </TweenOneGroup>\n      </span>\n      {inputVisible ? (\n        <Input\n          ref={inputRef}\n          type=\"text\"\n          size=\"small\"\n          style={{ width: 78 }}\n          value={inputValue}\n          onChange={handleInputChange}\n          onBlur={handleInputConfirm}\n          onPressEnter={handleInputConfirm}\n        />\n      ) : (\n        <Tag onClick={showInput} style={tagPlusStyle}>\n          <PlusOutlined />\n        </Tag>\n      )}\n    </>\n  );\n};\n\nexport default EditTag;\n","import { useDeleteChunkByIds } from '@/hooks/knowledgeHook';\nimport { useOneNamespaceEffectsLoading } from '@/hooks/storeHooks';\nimport { DeleteOutlined } from '@ant-design/icons';\nimport { Checkbox, Divider, Form, Input, Modal, Space } from 'antd';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch, useSelector } from 'umi';\nimport EditTag from '../edit-tag';\n\ntype FieldType = {\n  content?: string;\n};\ninterface kFProps {\n  doc_id: string;\n  chunkId: string | undefined;\n}\n\nconst ChunkCreatingModal: React.FC<kFProps> = ({ doc_id, chunkId }) => {\n  const dispatch = useDispatch();\n  const [form] = Form.useForm();\n  const isShowCreateModal: boolean = useSelector(\n    (state: any) => state.chunkModel.isShowCreateModal,\n  );\n  const [checked, setChecked] = useState(false);\n  const [keywords, setKeywords] = useState<string[]>([]);\n  const loading = useOneNamespaceEffectsLoading('chunkModel', ['create_chunk']);\n  const { removeChunk } = useDeleteChunkByIds();\n  const { t } = useTranslation();\n\n  const handleCancel = () => {\n    dispatch({\n      type: 'chunkModel/setIsShowCreateModal',\n      payload: false,\n    });\n  };\n\n  const getChunk = useCallback(async () => {\n    console.info(chunkId);\n    if (chunkId && isShowCreateModal) {\n      const data = await dispatch<any>({\n        type: 'chunkModel/get_chunk',\n        payload: {\n          chunk_id: chunkId,\n        },\n      });\n\n      if (data?.retcode === 0) {\n        const { content_with_weight, important_kwd = [] } = data.data;\n        form.setFieldsValue({ content: content_with_weight });\n        setKeywords(important_kwd);\n      }\n    }\n\n    if (!chunkId) {\n      setKeywords([]);\n      form.setFieldsValue({ content: undefined });\n    }\n  }, [chunkId, isShowCreateModal, dispatch, form]);\n\n  useEffect(() => {\n    getChunk();\n  }, [getChunk]);\n\n  const handleOk = async () => {\n    try {\n      const values = await form.validateFields();\n      dispatch({\n        type: 'chunkModel/create_chunk',\n        payload: {\n          content_with_weight: values.content,\n          doc_id,\n          chunk_id: chunkId,\n          important_kwd: keywords, // keywords\n        },\n      });\n    } catch (errorInfo) {\n      console.log('Failed:', errorInfo);\n    }\n  };\n\n  const handleRemove = () => {\n    if (chunkId) {\n      return removeChunk([chunkId], doc_id);\n    }\n  };\n  const handleCheck = () => {\n    setChecked(!checked);\n  };\n\n  return (\n    <Modal\n      title={`${chunkId ? t('common.edit') : t('common.create')} ${t('chunk.chunk')}`}\n      open={isShowCreateModal}\n      onOk={handleOk}\n      onCancel={handleCancel}\n      okButtonProps={{ loading }}\n    >\n      <Form\n        form={form}\n        // name=\"validateOnly\"\n        autoComplete=\"off\"\n        layout={'vertical'}\n      >\n        <Form.Item<FieldType>\n          label={t('chunk.chunk')}\n          name=\"content\"\n          rules={[{ required: true, message: t('chunk.chunkMessage') }]}\n        >\n          <Input.TextArea autoSize={{ minRows: 4, maxRows: 10 }} />\n        </Form.Item>\n      </Form>\n      <section>\n        <p>{t('chunk.keyword')} *</p>\n        <EditTag tags={keywords} setTags={setKeywords} />\n      </section>\n      {chunkId && (\n        <section>\n          <Divider></Divider>\n          <Space size={'large'}>\n            <Checkbox onChange={handleCheck} checked={checked}>\n              {t('chunk.enabled')}\n            </Checkbox>\n\n            <span onClick={handleRemove}>\n              <DeleteOutlined /> {t('common.delete')}\n            </span>\n          </Space>\n        </section>\n      )}\n    </Modal>\n  );\n};\nexport default ChunkCreatingModal;\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgFilter = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ width: 20, height: 20, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, props), /* @__PURE__ */ React.createElement(\"path\", { d: \"M5 10h10M2.5 5h15m-10 10h5\", stroke: \"#344054\", strokeWidth: 1.667, strokeLinecap: \"round\", strokeLinejoin: \"round\" }));\nexport { SvgFilter as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTUgMTBoMTBNMi41IDVoMTVtLTEwIDEwaDUiIHN0cm9rZT0iIzM0NDA1NCIgc3Ryb2tlLXdpZHRoPSIxLjY2NyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PC9zdmc+\";\n","import { ReactComponent as FilterIcon } from '@/assets/filter.svg';\nimport { KnowledgeRouteKey } from '@/constants/knowledge';\nimport { useTranslate } from '@/hooks/commonHooks';\nimport { useKnowledgeBaseId } from '@/hooks/knowledgeHook';\nimport {\n  ArrowLeftOutlined,\n  CheckCircleOutlined,\n  CloseCircleOutlined,\n  DeleteOutlined,\n  DownOutlined,\n  FilePdfOutlined,\n  PlusOutlined,\n  SearchOutlined,\n} from '@ant-design/icons';\nimport {\n  Button,\n  Checkbox,\n  Flex,\n  Input,\n  Menu,\n  MenuProps,\n  Popover,\n  Radio,\n  RadioChangeEvent,\n  Segmented,\n  SegmentedProps,\n  Space,\n  Typography,\n} from 'antd';\nimport { ChangeEventHandler, useCallback, useMemo, useState } from 'react';\nimport { Link, useDispatch, useSelector } from 'umi';\nimport { ChunkTextMode } from '../../constant';\nimport { ChunkModelState } from '../../model';\n\nconst { Text } = Typography;\n\ninterface IProps {\n  checked: boolean;\n  getChunkList: () => void;\n  selectAllChunk: (checked: boolean) => void;\n  createChunk: () => void;\n  removeChunk: () => void;\n  switchChunk: (available: number) => void;\n  changeChunkTextMode(mode: ChunkTextMode): void;\n}\n\nconst ChunkToolBar = ({\n  getChunkList,\n  selectAllChunk,\n  checked,\n  createChunk,\n  removeChunk,\n  switchChunk,\n  changeChunkTextMode,\n}: IProps) => {\n  const { documentInfo, available, searchString }: ChunkModelState =\n    useSelector((state: any) => state.chunkModel);\n  const dispatch = useDispatch();\n  const knowledgeBaseId = useKnowledgeBaseId();\n  const [isShowSearchBox, setIsShowSearchBox] = useState(false);\n  const { t } = useTranslate('chunk');\n\n  const handleSelectAllCheck = useCallback(\n    (e: any) => {\n      selectAllChunk(e.target.checked);\n    },\n    [selectAllChunk],\n  );\n\n  const handleSearchIconClick = () => {\n    setIsShowSearchBox(true);\n  };\n\n  const handleSearchChange: ChangeEventHandler<HTMLInputElement> = (e) => {\n    const val = e.target.value;\n    dispatch({ type: 'chunkModel/setSearchString', payload: val });\n    dispatch({\n      type: 'chunkModel/throttledGetChunkList',\n      payload: documentInfo.id,\n    });\n  };\n\n  const handleSearchBlur = () => {\n    if (!searchString.trim()) {\n      setIsShowSearchBox(false);\n    }\n  };\n\n  const handleDelete = useCallback(() => {\n    removeChunk();\n  }, [removeChunk]);\n\n  const handleEnabledClick = useCallback(() => {\n    switchChunk(1);\n  }, [switchChunk]);\n\n  const handleDisabledClick = useCallback(() => {\n    switchChunk(0);\n  }, [switchChunk]);\n\n  const items: MenuProps['items'] = useMemo(() => {\n    return [\n      {\n        key: '1',\n        label: (\n          <>\n            <Checkbox onChange={handleSelectAllCheck} checked={checked}>\n              <b>{t('selectAll')}</b>\n            </Checkbox>\n          </>\n        ),\n      },\n      { type: 'divider' },\n      {\n        key: '2',\n        label: (\n          <Space onClick={handleEnabledClick}>\n            <CheckCircleOutlined />\n            <b>{t('enabledSelected')}</b>\n          </Space>\n        ),\n      },\n      {\n        key: '3',\n        label: (\n          <Space onClick={handleDisabledClick}>\n            <CloseCircleOutlined />\n            <b>{t('disabledSelected')}</b>\n          </Space>\n        ),\n      },\n      { type: 'divider' },\n      {\n        key: '4',\n        label: (\n          <Space onClick={handleDelete}>\n            <DeleteOutlined />\n            <b>{t('deleteSelected')}</b>\n          </Space>\n        ),\n      },\n    ];\n  }, [\n    checked,\n    handleSelectAllCheck,\n    handleDelete,\n    handleEnabledClick,\n    handleDisabledClick,\n    t,\n  ]);\n\n  const content = (\n    <Menu style={{ width: 200 }} items={items} selectable={false} />\n  );\n\n  const handleFilterChange = (e: RadioChangeEvent) => {\n    selectAllChunk(false);\n    dispatch({ type: 'chunkModel/setAvailable', payload: e.target.value });\n    getChunkList();\n  };\n\n  const filterContent = (\n    <Radio.Group onChange={handleFilterChange} value={available}>\n      <Space direction=\"vertical\">\n        <Radio value={undefined}>{t('all')}</Radio>\n        <Radio value={1}>{t('enabled')}</Radio>\n        <Radio value={0}>{t('disabled')}</Radio>\n      </Space>\n    </Radio.Group>\n  );\n\n  return (\n    <Flex justify=\"space-between\" align=\"center\">\n      <Space size={'middle'}>\n        <Link\n          to={`/knowledge/${KnowledgeRouteKey.Dataset}?id=${knowledgeBaseId}`}\n        >\n          <ArrowLeftOutlined />\n        </Link>\n        <FilePdfOutlined />\n        <Text ellipsis={{ tooltip: documentInfo.name }} style={{ width: 150 }}>\n          {documentInfo.name}\n        </Text>\n      </Space>\n      <Space>\n        <Segmented\n          options={[\n            { label: t(ChunkTextMode.Full), value: ChunkTextMode.Full },\n            { label: t(ChunkTextMode.Ellipse), value: ChunkTextMode.Ellipse },\n          ]}\n          onChange={changeChunkTextMode as SegmentedProps['onChange']}\n        />\n        <Popover content={content} placement=\"bottom\" arrow={false}>\n          <Button>\n            {t('bulk')}\n            <DownOutlined />\n          </Button>\n        </Popover>\n        {isShowSearchBox ? (\n          <Input\n            size=\"middle\"\n            placeholder={t('search')}\n            prefix={<SearchOutlined />}\n            allowClear\n            onChange={handleSearchChange}\n            onBlur={handleSearchBlur}\n            value={searchString}\n          />\n        ) : (\n          <Button icon={<SearchOutlined />} onClick={handleSearchIconClick} />\n        )}\n\n        <Popover content={filterContent} placement=\"bottom\" arrow={false}>\n          <Button icon={<FilterIcon />} />\n        </Popover>\n        <Button\n          icon={<PlusOutlined />}\n          type=\"primary\"\n          onClick={() => createChunk()}\n        />\n      </Space>\n    </Flex>\n  );\n};\n\nexport default ChunkToolBar;\n","import { useOneNamespaceEffectsLoading } from '@/hooks/storeHooks';\nimport { IChunk, IKnowledgeFile } from '@/interfaces/database/knowledge';\nimport { buildChunkHighlights } from '@/utils/documentUtils';\nimport { useCallback, useMemo, useState } from 'react';\nimport { IHighlight } from 'react-pdf-highlighter';\nimport { useSelector } from 'umi';\nimport { ChunkTextMode } from './constant';\n\nexport const useSelectDocumentInfo = () => {\n  const documentInfo: IKnowledgeFile = useSelector(\n    (state: any) => state.chunkModel.documentInfo,\n  );\n  return documentInfo;\n};\n\nexport const useSelectChunkList = () => {\n  const chunkList: IChunk[] = useSelector(\n    (state: any) => state.chunkModel.data,\n  );\n  return chunkList;\n};\n\nexport const useHandleChunkCardClick = () => {\n  const [selectedChunkId, setSelectedChunkId] = useState<string>('');\n\n  const handleChunkCardClick = useCallback((chunkId: string) => {\n    setSelectedChunkId(chunkId);\n  }, []);\n\n  return { handleChunkCardClick, selectedChunkId };\n};\n\nexport const useGetSelectedChunk = (selectedChunkId: string) => {\n  const chunkList: IChunk[] = useSelectChunkList();\n  return (\n    chunkList.find((x) => x.chunk_id === selectedChunkId) ?? ({} as IChunk)\n  );\n};\n\nexport const useGetChunkHighlights = (selectedChunkId: string) => {\n  const [size, setSize] = useState({ width: 849, height: 1200 });\n  const selectedChunk: IChunk = useGetSelectedChunk(selectedChunkId);\n\n  const highlights: IHighlight[] = useMemo(() => {\n    return buildChunkHighlights(selectedChunk, size);\n  }, [selectedChunk, size]);\n\n  const setWidthAndHeight = (width: number, height: number) => {\n    setSize((pre) => {\n      if (pre.height !== height || pre.width !== width) {\n        return { height, width };\n      }\n      return pre;\n    });\n  };\n\n  return { highlights, setWidthAndHeight };\n};\n\nexport const useSelectChunkListLoading = () => {\n  return useOneNamespaceEffectsLoading('chunkModel', [\n    'create_hunk',\n    'chunk_list',\n    'switch_chunk',\n  ]);\n};\n\n// Switch chunk text to be fully displayed or ellipse\nexport const useChangeChunkTextMode = () => {\n  const [textMode, setTextMode] = useState<ChunkTextMode>(ChunkTextMode.Full);\n\n  const changeChunkTextMode = useCallback((mode: ChunkTextMode) => {\n    setTextMode(mode);\n  }, []);\n\n  return { textMode, changeChunkTextMode };\n};\n","import { useGetKnowledgeSearchParams } from '@/hooks/routeHook';\nimport { api_host } from '@/utils/api';\nimport { useSize } from 'ahooks';\nimport { CustomTextRenderer } from 'node_modules/react-pdf/dist/esm/shared/types';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\n\nexport const useDocumentResizeObserver = () => {\n  const [containerWidth, setContainerWidth] = useState<number>();\n  const [containerRef, setContainerRef] = useState<HTMLElement | null>(null);\n  const size = useSize(containerRef);\n\n  const onResize = useCallback((width?: number) => {\n    if (width) {\n      setContainerWidth(width);\n    }\n  }, []);\n\n  useEffect(() => {\n    onResize(size?.width);\n  }, [size?.width, onResize]);\n\n  return { containerWidth, setContainerRef };\n};\n\nfunction highlightPattern(text: string, pattern: string, pageNumber: number) {\n  if (pageNumber === 2) {\n    return `<mark>${text}</mark>`;\n  }\n  if (text.trim() !== '' && pattern.match(text)) {\n    // return pattern.replace(text, (value) => `<mark>${value}</mark>`);\n    return `<mark>${text}</mark>`;\n  }\n  return text.replace(pattern, (value) => `<mark>${value}</mark>`);\n}\n\nexport const useHighlightText = (searchText: string = '') => {\n  const textRenderer: CustomTextRenderer = useCallback(\n    (textItem) => {\n      return highlightPattern(textItem.str, searchText, textItem.pageNumber);\n    },\n    [searchText],\n  );\n\n  return textRenderer;\n};\n\nexport const useGetDocumentUrl = () => {\n  const { documentId } = useGetKnowledgeSearchParams();\n\n  const url = useMemo(() => {\n    return `${api_host}/document/get/${documentId}`;\n  }, [documentId]);\n\n  return url;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"documentContainer\":\"documentContainer___TU9k2\"};","import { Skeleton } from 'antd';\nimport { useEffect, useRef } from 'react';\nimport {\n  AreaHighlight,\n  Highlight,\n  IHighlight,\n  PdfHighlighter,\n  PdfLoader,\n  Popup,\n} from 'react-pdf-highlighter';\nimport { useGetChunkHighlights } from '../../hooks';\nimport { useGetDocumentUrl } from './hooks';\n\nimport { useCatchDocumentError } from '@/components/pdf-previewer/hooks';\nimport FileError from '@/pages/document-viewer/file-error';\nimport styles from './index.less';\n\ninterface IProps {\n  selectedChunkId: string;\n}\nconst HighlightPopup = ({\n  comment,\n}: {\n  comment: { text: string; emoji: string };\n}) =>\n  comment.text ? (\n    <div className=\"Highlight__popup\">\n      {comment.emoji} {comment.text}\n    </div>\n  ) : null;\n\n// TODO: merge with DocumentPreviewer\nconst Preview = ({ selectedChunkId }: IProps) => {\n  const url = useGetDocumentUrl();\n  useCatchDocumentError(url);\n  const { highlights: state, setWidthAndHeight } =\n    useGetChunkHighlights(selectedChunkId);\n  const ref = useRef<(highlight: IHighlight) => void>(() => {});\n  const error = useCatchDocumentError(url);\n\n  const resetHash = () => {};\n\n  useEffect(() => {\n    if (state.length > 0) {\n      ref.current(state[0]);\n    }\n  }, [state]);\n\n  return (\n    <div className={styles.documentContainer}>\n      <PdfLoader\n        url={url}\n        beforeLoad={<Skeleton active />}\n        workerSrc=\"/pdfjs-dist/pdf.worker.min.js\"\n        errorMessage={<FileError>{error}</FileError>}\n      >\n        {(pdfDocument) => {\n          pdfDocument.getPage(1).then((page) => {\n            const viewport = page.getViewport({ scale: 1 });\n            const width = viewport.width;\n            const height = viewport.height;\n            setWidthAndHeight(width, height);\n          });\n\n          return (\n            <PdfHighlighter\n              pdfDocument={pdfDocument}\n              enableAreaSelection={(event) => event.altKey}\n              onScrollChange={resetHash}\n              scrollRef={(scrollTo) => {\n                ref.current = scrollTo;\n              }}\n              onSelectionFinished={() => null}\n              highlightTransform={(\n                highlight,\n                index,\n                setTip,\n                hideTip,\n                viewportToScaled,\n                screenshot,\n                isScrolledTo,\n              ) => {\n                const isTextHighlight = !Boolean(\n                  highlight.content && highlight.content.image,\n                );\n\n                const component = isTextHighlight ? (\n                  <Highlight\n                    isScrolledTo={isScrolledTo}\n                    position={highlight.position}\n                    comment={highlight.comment}\n                  />\n                ) : (\n                  <AreaHighlight\n                    isScrolledTo={isScrolledTo}\n                    highlight={highlight}\n                    onChange={() => {}}\n                  />\n                );\n\n                return (\n                  <Popup\n                    popupContent={<HighlightPopup {...highlight} />}\n                    onMouseOver={(popupContent) =>\n                      setTip(highlight, () => popupContent)\n                    }\n                    onMouseOut={hideTip}\n                    key={index}\n                  >\n                    {component}\n                  </Popup>\n                );\n              }}\n              highlights={state}\n            />\n          );\n        }}\n      </PdfLoader>\n    </div>\n  );\n};\n\nexport default Preview;\n","// extracted by mini-css-extract-plugin\nexport default {\"chunkPage\":\"chunkPage___Mlm1d\",\"filter\":\"filter___z5K1X\",\"pagePdfWrapper\":\"pagePdfWrapper___NxUun\",\"pageWrapper\":\"pageWrapper___wkiwd\",\"pageContent\":\"pageContent___fubpP\",\"spin\":\"spin___OiDil\",\"documentPreview\":\"documentPreview___tbu9J\",\"chunkContainer\":\"chunkContainer___m_m6K\",\"chunkOtherContainer\":\"chunkOtherContainer___bj5TE\",\"pageFooter\":\"pageFooter___O05bO\",\"container\":\"container___CzJsH\",\"content\":\"content___bh0q5\",\"context\":\"context___cC9j3\",\"footer\":\"footer___W4r5v\",\"text\":\"text___fZ1Dv\",\"card\":\"card___Aqbq7\"};","import { useFetchChunkList } from '@/hooks/chunkHooks';\nimport { useDeleteChunkByIds } from '@/hooks/knowledgeHook';\nimport type { PaginationProps } from 'antd';\nimport { Divider, Flex, Pagination, Space, Spin, message } from 'antd';\nimport classNames from 'classnames';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSearchParams, useSelector } from 'umi';\nimport ChunkCard from './components/chunk-card';\nimport CreatingModal from './components/chunk-creating-modal';\nimport ChunkToolBar from './components/chunk-toolbar';\nimport DocumentPreview from './components/document-preview/preview';\nimport {\n  useChangeChunkTextMode,\n  useHandleChunkCardClick,\n  useSelectChunkListLoading,\n  useSelectDocumentInfo,\n} from './hooks';\nimport { ChunkModelState } from './model';\n\nimport { useTranslation } from 'react-i18next';\nimport styles from './index.less';\n\nconst Chunk = () => {\n  const dispatch = useDispatch();\n  const chunkModel: ChunkModelState = useSelector(\n    (state: any) => state.chunkModel,\n  );\n  const [selectedChunkIds, setSelectedChunkIds] = useState<string[]>([]);\n  const [searchParams] = useSearchParams();\n  const { data = [], total, pagination } = chunkModel;\n  const loading = useSelectChunkListLoading();\n  const documentId: string = searchParams.get('doc_id') || '';\n  const [chunkId, setChunkId] = useState<string | undefined>();\n  const { removeChunk } = useDeleteChunkByIds();\n  const documentInfo = useSelectDocumentInfo();\n  const { handleChunkCardClick, selectedChunkId } = useHandleChunkCardClick();\n  const isPdf = documentInfo.type === 'pdf';\n  const { t } = useTranslation();\n  const { changeChunkTextMode, textMode } = useChangeChunkTextMode();\n\n  const getChunkList = useFetchChunkList();\n\n  const handleEditChunk = useCallback(\n    (chunk_id?: string) => {\n      setChunkId(chunk_id);\n\n      dispatch({\n        type: 'chunkModel/setIsShowCreateModal',\n        payload: true,\n      });\n    },\n    [dispatch],\n  );\n\n  const onPaginationChange: PaginationProps['onShowSizeChange'] = (\n    page,\n    size,\n  ) => {\n    setSelectedChunkIds([]);\n    dispatch({\n      type: 'chunkModel/setPagination',\n      payload: {\n        current: page,\n        pageSize: size,\n      },\n    });\n    getChunkList();\n  };\n\n  const selectAllChunk = useCallback(\n    (checked: boolean) => {\n      setSelectedChunkIds(checked ? data.map((x) => x.chunk_id) : []);\n    },\n    [data],\n  );\n\n  const handleSingleCheckboxClick = useCallback(\n    (chunkId: string, checked: boolean) => {\n      setSelectedChunkIds((previousIds) => {\n        const idx = previousIds.findIndex((x) => x === chunkId);\n        const nextIds = [...previousIds];\n        if (checked && idx === -1) {\n          nextIds.push(chunkId);\n        } else if (!checked && idx !== -1) {\n          nextIds.splice(idx, 1);\n        }\n        return nextIds;\n      });\n    },\n    [],\n  );\n\n  const showSelectedChunkWarning = useCallback(() => {\n    message.warning(t('message.pleaseSelectChunk'));\n  }, [t]);\n\n  const handleRemoveChunk = useCallback(async () => {\n    if (selectedChunkIds.length > 0) {\n      const resCode: number = await removeChunk(selectedChunkIds, documentId);\n      if (resCode === 0) {\n        setSelectedChunkIds([]);\n      }\n    } else {\n      showSelectedChunkWarning();\n    }\n  }, [selectedChunkIds, documentId, removeChunk, showSelectedChunkWarning]);\n\n  const switchChunk = useCallback(\n    async (available?: number, chunkIds?: string[]) => {\n      let ids = chunkIds;\n      if (!chunkIds) {\n        ids = selectedChunkIds;\n        if (selectedChunkIds.length === 0) {\n          showSelectedChunkWarning();\n          return;\n        }\n      }\n\n      const resCode: number = await dispatch<any>({\n        type: 'chunkModel/switch_chunk',\n        payload: {\n          chunk_ids: ids,\n          available_int: available,\n          doc_id: documentId,\n        },\n      });\n      if (!chunkIds && resCode === 0) {\n        getChunkList();\n      }\n    },\n    [\n      dispatch,\n      documentId,\n      getChunkList,\n      selectedChunkIds,\n      showSelectedChunkWarning,\n    ],\n  );\n\n  useEffect(() => {\n    getChunkList();\n    return () => {\n      dispatch({\n        type: 'chunkModel/resetFilter', // TODO: need to reset state uniformly\n      });\n    };\n  }, [dispatch, getChunkList]);\n\n  return (\n    <>\n      <div className={styles.chunkPage}>\n        <ChunkToolBar\n          getChunkList={getChunkList}\n          selectAllChunk={selectAllChunk}\n          createChunk={handleEditChunk}\n          removeChunk={handleRemoveChunk}\n          checked={selectedChunkIds.length === data.length}\n          switchChunk={switchChunk}\n          changeChunkTextMode={changeChunkTextMode}\n        ></ChunkToolBar>\n        <Divider></Divider>\n        <Flex flex={1} gap={'middle'}>\n          <Flex\n            vertical\n            className={isPdf ? styles.pagePdfWrapper : styles.pageWrapper}\n          >\n            <Spin spinning={loading} className={styles.spin} size=\"large\">\n              <div className={styles.pageContent}>\n                <Space\n                  direction=\"vertical\"\n                  size={'middle'}\n                  className={classNames(styles.chunkContainer, {\n                    [styles.chunkOtherContainer]: !isPdf,\n                  })}\n                >\n                  {data.map((item) => (\n                    <ChunkCard\n                      item={item}\n                      key={item.chunk_id}\n                      editChunk={handleEditChunk}\n                      checked={selectedChunkIds.some(\n                        (x) => x === item.chunk_id,\n                      )}\n                      handleCheckboxClick={handleSingleCheckboxClick}\n                      switchChunk={switchChunk}\n                      clickChunkCard={handleChunkCardClick}\n                      selected={item.chunk_id === selectedChunkId}\n                      textMode={textMode}\n                    ></ChunkCard>\n                  ))}\n                </Space>\n              </div>\n            </Spin>\n            <div className={styles.pageFooter}>\n              <Pagination\n                responsive\n                showLessItems\n                showQuickJumper\n                showSizeChanger\n                onChange={onPaginationChange}\n                pageSize={pagination.pageSize}\n                pageSizeOptions={[10, 30, 60, 90]}\n                current={pagination.current}\n                size={'small'}\n                total={total}\n              />\n            </div>\n          </Flex>\n\n          {isPdf && (\n            <section className={styles.documentPreview}>\n              <DocumentPreview\n                selectedChunkId={selectedChunkId}\n              ></DocumentPreview>\n            </section>\n          )}\n        </Flex>\n      </div>\n      <CreatingModal doc_id={documentId} chunkId={chunkId} />\n    </>\n  );\n};\n\nexport default Chunk;\n","// extracted by mini-css-extract-plugin\nexport default {\"errorWrapper\":\"errorWrapper___QfVXQ\"};","import { Alert, Flex } from 'antd';\n\nimport { useTranslate } from '@/hooks/commonHooks';\nimport React from 'react';\nimport styles from './index.less';\n\nconst FileError = ({ children }: React.PropsWithChildren) => {\n  const { t } = useTranslate('fileManager');\n  return (\n    <Flex align=\"center\" justify=\"center\" className={styles.errorWrapper}>\n      <Alert\n        type=\"error\"\n        message={<h2>{children || t('fileError')}</h2>}\n      ></Alert>\n    </Flex>\n  );\n};\n\nexport default FileError;\n","import { IChunk } from '@/interfaces/database/knowledge';\nimport { UploadFile } from 'antd';\nimport { v4 as uuid } from 'uuid';\n\nexport const buildChunkHighlights = (\n  selectedChunk: IChunk,\n  size: { width: number; height: number },\n) => {\n  return Array.isArray(selectedChunk?.positions) &&\n    selectedChunk.positions.every((x) => Array.isArray(x))\n    ? selectedChunk?.positions?.map((x) => {\n        const boundingRect = {\n          width: size.width,\n          height: size.height,\n          x1: x[1],\n          x2: x[2],\n          y1: x[3],\n          y2: x[4],\n        };\n        return {\n          id: uuid(),\n          comment: {\n            text: '',\n            emoji: '',\n          },\n          content: { text: selectedChunk.content_with_weight },\n          position: {\n            boundingRect: boundingRect,\n            rects: [boundingRect],\n            pageNumber: x[0],\n          },\n        };\n      })\n    : [];\n};\n\nexport const isFileUploadDone = (file: UploadFile) => file.status === 'done';\n\nexport const getExtension = (name: string) =>\n  name?.slice(name.lastIndexOf('.') + 1).toLowerCase() ?? '';\n\nexport const isPdf = (name: string) => {\n  return getExtension(name) === 'pdf';\n};\n\nexport const getUnSupportedFilesCount = (message: string) => {\n  return message.split('\\n').length;\n};\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 86635;\nmodule.exports = webpackEmptyAsyncContext;"],"names":["Image","_ref","id","className","props","_objectWithoutProperties","_excluded","_jsx","_objectSpread","src","concat","api_host","alt","useCatchDocumentError","url","_useState","useState","_useState2","_slicedToArray","error","setError","fetchDocument","useCallback","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get","data","wrap","_context","prev","next","axios","get","sent","retcode","retmsg","stop","useEffect","KnowledgeRouteKey","RunningStatus","ModelVariableType","settledModelVariableMap","_defineProperty","Improvise","temperature","top_p","frequency_penalty","presence_penalty","max_tokens","Precise","Balance","LlmModelType","KnowledgeSearchParams","useSetModalState","visible","setVisible","showModal","hideModal","switchVisible","useDeepCompareEffect","effect","deps","ref","useRef","callback","isEqual","current","useDynamicSVGImport","name","options","arguments","length","undefined","ImportedIconRef","_useState3","_useState4","loading","setLoading","_useState5","_useState6","onCompleted","onError","importIcon","ReactComponent","t0","finish","apply","SvgIcon","useShowDeleteConfirm","_App$useApp","App","useApp","modal","_useTranslation","useTranslation","t","showDeleteConfirm","_ref2","onOk","onCancel","Promise","resolve","reject","confirm","title","icon","ExclamationCircleFilled","okText","okType","cancelText","_callee2","ret","_context2","console","info","useTranslate","keyPrefix","useCommonTranslation","useKnowledgeBaseId","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","knowledgeBaseId","useDeleteDocumentById","dispatch","useDispatch","removeDocument","documentId","type","payload","doc_id","kb_id","onRmDocument","useFetchKnowledgeDetail","_useGetKnowledgeSearc","useGetKnowledgeSearchParams","knowledgeId","fetchKnowledgeDetail","useSelectKnowledgeDetail","knowledge","useSelector","state","knowledgeModel","useGetDocumentDefaultParser","_item$parser_id","_item$parser_config","item","defaultParserId","parser_id","parserConfig","parser_config","useDeleteChunkByIds","removeChunk","chunkIds","chunk_ids","onRemoveChunk","useFetchKnowledgeBaseConfiguration","fetchKnowledgeBaseConfiguration","useSelectKnowledgeList","_knowledgeModel$data","useFetchKnowledgeList","shouldFilterListWithoutDocument","useOneNamespaceEffectsLoading","_knowledgeModel$data2","list","useMemo","filter","x","chunk_num","fetchList","useSelectFileThumbnails","fileThumbnails","kFModel","useFetchFileThumbnails","docIds","fetchFileThumbnails","doc_ids","join","useUpdateKnowledge","saveKnowledgeConfiguration","useSelectKnowledgeDetails","knowledgeDetails","kSModel","useTestChunkRetrieval","testChunk","values","SegmentIndex","useSegmentedPathName","index","_useLocation","useLocation","pathname","pathArray","split","useSecondPathName","Second","useThirdPathName","Third","currentQueryParameters","DocumentId","KnowledgeId","useNavigateWithFromState","navigate","useNavigate","path","from","useNavigateToDataset","Dataset","getOneNamespaceEffectsLoading","namespace","effects","effectNames","some","effectName","delay","ms","setTimeout","useFetchChunkList","fetchChunkList","ChunkTextMode","ChunkCard","checked","handleCheckboxClick","editChunk","switchChunk","selected","clickChunkCard","textMode","available","Number","available_int","enabled","setEnabled","onChange","chunk_id","handleCheck","e","target","handleContentDoubleClick","handleContentClick","Card","classNames","styles","chunkCard","cardSelected","children","_jsxs","Flex","gap","justify","Checkbox","img_id","Popover","placement","content","imagePreview","image","onDoubleClick","onClick","dangerouslySetInnerHTML","__html","content_with_weight","contentEllipsis","Ellipse","Switch","EditTag","tags","setTags","_theme$useToken","theme","useToken","token","inputVisible","setInputVisible","inputValue","setInputValue","inputRef","_inputRef$current","focus","handleClose","removedTag","newTags","tag","log","showInput","handleInputChange","value","handleInputConfirm","indexOf","_toConsumableArray","forMap","tagElem","Tag","closable","onClose","preventDefault","style","display","tagChild","map","tagPlusStyle","background","colorBgContainer","borderStyle","_Fragment","TweenOneGroup","tweenGroup","enter","scale","opacity","duration","onEnd","leave","width","appear","Input","size","onBlur","onPressEnter","PlusOutlined","ChunkCreatingModal","chunkId","_Form$useForm","Form","useForm","_Form$useForm2","form","isShowCreateModal","chunkModel","setChecked","keywords","setKeywords","_useDeleteChunkByIds","handleCancel","getChunk","_data$data","_data$data$important_","important_kwd","setFieldsValue","handleOk","_ref3","validateFields","handleRemove","Modal","open","okButtonProps","autoComplete","layout","Item","label","rules","required","message","TextArea","autoSize","minRows","maxRows","Divider","Space","DeleteOutlined","__defProp","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","obj","key","__spreadValues","a","b","prop","SvgFilter","Text","Typography","ChunkToolBar","getChunkList","selectAllChunk","createChunk","changeChunkTextMode","_useSelector","documentInfo","searchString","isShowSearchBox","setIsShowSearchBox","_useTranslate","handleSelectAllCheck","handleSearchIconClick","handleSearchChange","val","handleSearchBlur","trim","handleDelete","handleEnabledClick","handleDisabledClick","items","CheckCircleOutlined","CloseCircleOutlined","Menu","selectable","handleFilterChange","filterContent","Radio","direction","align","Link","to","ArrowLeftOutlined","FilePdfOutlined","ellipsis","tooltip","Segmented","Full","arrow","Button","DownOutlined","placeholder","prefix","SearchOutlined","allowClear","FilterIcon","useSelectDocumentInfo","useSelectChunkList","chunkList","useHandleChunkCardClick","selectedChunkId","setSelectedChunkId","handleChunkCardClick","useGetSelectedChunk","_chunkList$find","find","useGetChunkHighlights","height","setSize","selectedChunk","highlights","buildChunkHighlights","setWidthAndHeight","pre","useSelectChunkListLoading","useChangeChunkTextMode","setTextMode","mode","useDocumentResizeObserver","containerWidth","setContainerWidth","containerRef","setContainerRef","useSize","onResize","highlightPattern","text","pattern","pageNumber","match","replace","useHighlightText","searchText","textRenderer","textItem","str","useGetDocumentUrl","HighlightPopup","comment","emoji","Preview","_useGetChunkHighlight","resetHash","documentContainer","PdfLoader","beforeLoad","Skeleton","active","workerSrc","errorMessage","FileError","pdfDocument","getPage","then","page","viewport","getViewport","PdfHighlighter","enableAreaSelection","event","altKey","onScrollChange","scrollRef","scrollTo","onSelectionFinished","highlightTransform","highlight","setTip","hideTip","viewportToScaled","screenshot","isScrolledTo","isTextHighlight","component","Highlight","position","AreaHighlight","Popup","popupContent","onMouseOver","onMouseOut","Chunk","selectedChunkIds","setSelectedChunkIds","_chunkModel$data","total","pagination","setChunkId","_useHandleChunkCardCl","isPdf","_useChangeChunkTextMo","handleEditChunk","onPaginationChange","pageSize","handleSingleCheckboxClick","previousIds","idx","findIndex","nextIds","push","splice","showSelectedChunkWarning","warning","handleRemoveChunk","resCode","ids","abrupt","_x","_x2","chunkPage","flex","vertical","pagePdfWrapper","pageWrapper","Spin","spinning","spin","pageContent","chunkContainer","chunkOtherContainer","pageFooter","Pagination","responsive","showLessItems","showQuickJumper","showSizeChanger","pageSizeOptions","documentPreview","DocumentPreview","CreatingModal","errorWrapper","Alert","_selectedChunk$positi","Array","isArray","positions","every","boundingRect","x1","x2","y1","y2","uuid","rects","isFileUploadDone","file","status","getExtension","_name$slice$toLowerCa","slice","lastIndexOf","toLowerCase","getUnSupportedFilesCount","webpackEmptyAsyncContext","req","module"],"sourceRoot":""}