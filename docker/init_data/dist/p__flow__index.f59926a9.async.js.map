{"version":3,"file":"p__flow__index.f59926a9.async.js","mappings":"qTAMaA,EAAmB,UAAM,CACpC,IAAAC,KAA8BC,EAAAA,UAAS,EAAK,EAACC,EAAAC,EAAAA,EAAAH,EAAA,GAAtCI,EAAOF,EAAA,GAAEG,EAAUH,EAAA,GAEpBI,EAAY,UAAM,CACtBD,EAAW,EAAI,CACjB,EACME,EAAY,UAAM,CACtBF,EAAW,EAAK,CAClB,EAEMG,EAAgB,UAAM,CAC1BH,EAAW,CAACD,CAAO,CACrB,EAEA,MAAO,CAAEA,QAAAA,EAASE,UAAAA,EAAWC,UAAAA,EAAWC,cAAAA,CAAc,CACxD,EAEaC,GAAuB,SAClCC,EACAC,EACG,CACH,IAAMC,EAAMC,OAA6B,EACrCC,EAA6C,UAAM,CAAC,EACnDC,QAAQJ,EAAMC,EAAII,OAAO,IAC5BF,EAAWJ,EAAO,EAClBE,EAAII,QAAUL,GAEhBM,UAAU,UAAM,CACd,OAAO,UAAM,CACPH,GACFA,EAAS,CAEb,CACF,EAAG,CAAC,CAAC,CACP,EAUO,SAASI,GACdC,EAEA,KADAC,EAAmCC,UAAAC,OAAA,GAAAD,UAAA,KAAAE,OAAAF,UAAA,GAAG,CAAC,EAEjCG,EAAkBX,OAAgD,EACxEY,EAA8BxB,SAAS,EAAK,EAACyB,EAAAvB,eAAAsB,EAAA,GAAtCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAC1BG,EAA0B5B,SAAgB,EAAC6B,EAAA3B,eAAA0B,EAAA,GAApCE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GAEdG,EAAyBb,EAAzBa,YAAaC,EAAYd,EAAZc,QACrBjB,iBAAU,UAAM,CACdW,EAAW,EAAI,EACf,IAAMO,EAAU,eAAAC,GAAAC,kBAAAC,oBAAA,EAAAC,KAAG,SAAAC,GAAA,QAAAF,oBAAA,EAAAG,KAAA,SAAAC,EAAA,eAAAA,EAAAC,KAAAD,EAAAE,KAAA,QAAAF,OAAAA,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEkB,SAAOzB,CAAI,EAAC,OAA7CK,EAAgBR,QAAO0B,EAAAG,KAAwBC,eAC/Cb,GAAW,MAAXA,EAAcd,EAAMK,EAAgBR,OAAO,EAAE0B,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAK,GAAAL,EAAA,SAE7CR,GAAO,MAAPA,EAAOQ,EAAAK,EAAM,EACbf,EAAQU,EAAAK,EAAI,EAAE,QAAAL,OAAAA,EAAAC,KAAA,GAEdf,EAAW,EAAK,EAAEc,EAAAM,OAAA,6BAAAN,EAAAO,KAAA,IAAAT,EAAA,oBAErB,oBAVe,QAAAJ,GAAAc,MAAA,KAAA7B,SAAA,MAWhBc,EAAW,CACb,EAAG,CAAChB,EAAMc,EAAaC,CAAO,CAAC,EAExB,CAAEH,MAAAA,EAAOJ,QAAAA,EAASwB,QAAS3B,EAAgBR,OAAQ,CAC5D,CAOO,IAAMoC,EAAuB,UAAM,CACxC,IAAAC,EAAkBC,EAAAA,EAAIC,OAAO,EAArBC,EAAKH,EAALG,MACRC,KAAcC,EAAAA,IAAe,EAArBC,EAACF,EAADE,EAEFC,KAAoBC,EAAAA,aACxB,SAAAC,EAAiD,KAA9CC,EAAID,EAAJC,KAAMC,EAAQF,EAARE,SACP,OAAO,IAAIC,QAAQ,SAACC,EAASC,EAAW,CACtCX,EAAMY,QAAQ,CACZC,MAAOV,EAAE,yBAAyB,EAClCW,QAAMC,EAAAA,KAACC,EAAAA,EAAuB,EAAE,EAEhCC,OAAQd,EAAE,WAAW,EACrBe,OAAQ,SACRC,WAAYhB,EAAE,eAAe,EACvBI,KAAI,UAAG,QAAA1B,EAAAA,EAAAC,EAAAA,EAAA,EAAAC,KAAA,SAAAqC,GAAA,KAAAC,EAAA,OAAAvC,EAAAA,EAAA,EAAAG,KAAA,SAAAqC,EAAA,eAAAA,EAAAnC,KAAAmC,EAAAlC,KAAA,QAAAkC,OAAAA,EAAAnC,KAAA,EAAAmC,EAAAlC,KAAA,EAESmB,GAAI,YAAJA,EAAO,EAAC,OAApBc,EAAGC,EAAAjC,KACTqB,EAAQW,CAAG,EACXE,QAAQC,KAAKH,CAAG,EAAEC,EAAAlC,KAAA,gBAAAkC,EAAAnC,KAAA,EAAAmC,EAAA/B,GAAA+B,EAAA,SAElBX,EAAMW,EAAA/B,EAAM,EAAE,yBAAA+B,EAAA7B,KAAA,IAAA2B,EAAA,kBAElB,EACAZ,SAAQ,UAAG,CACTA,GAAQ,MAARA,EAAW,CACb,CACF,CAAC,CACH,CAAC,CACH,EACA,CAACL,EAAGH,CAAK,CACX,EAEA,OAAOI,CACT,EAEaqB,EAAe,SAACC,EAAsB,CACjD,SAAOxB,EAAAA,IAAe,cAAe,CAAEwB,UAAAA,CAAU,CAAC,CACpD,EAEaC,GAAuB,UAAM,CACxC,OAAOzB,eAAe,cAAe,CAAEwB,UAAW,QAAS,CAAC,CAC9D,C,qNC3HA,EAAe,CAAC,YAAc,qBAAqB,E,mDCa5C,SAASE,GAAehD,EAOV,KANnBiD,EAAEjD,EAAFiD,GACAC,EAAGlD,EAAHkD,IACAC,EAAInD,EAAJmD,KACAC,EAAKpD,EAALoD,MACAC,EAAMrD,EAANqD,OACGC,EAAKC,EAAAA,EAAAvD,EAAAwD,EAAA,EAERC,KAAkDC,EAAAA,IAAa,EAAvDC,EAAOF,EAAPE,QAASC,EAAQH,EAARG,SAAUC,EAAQJ,EAARI,SAAUC,EAAQL,EAARK,SAE/BC,KAAgBtC,EAAAA,aAAY,UAAM,KAAAuC,EAAAC,EAChCC,EAAOP,EAAQV,CAAE,EACjBkB,EAAW,CACfC,GAAGF,GAAI,OAAAF,EAAJE,EAAMC,YAAQ,MAAAH,IAAA,cAAdA,EAAgBI,IAAK,EAAI,GAC5BC,GAAGH,GAAI,OAAAD,EAAJC,EAAMC,YAAQ,MAAAF,IAAA,cAAdA,EAAgBI,IAAK,EAAI,EAC9B,EAEAR,EAAQS,EAAAA,EAAAA,EAAAA,EAAC,CAAC,EACJJ,GAAQ,CAAC,CAAC,MACdK,KAAML,GAAI,YAAJA,EAAMK,KACZC,SAAU,GACVC,SAAU,GACVxB,GAAI,GAAFyB,OAAKR,GAAI,YAAJA,EAAMjB,GAAE,SACfkB,SAAAA,CAAQ,EACT,CACH,EAAG,CAAClB,EAAIU,EAASE,CAAQ,CAAC,EAEpBc,KAAalD,EAAAA,aAAY,UAAM,CACnCmC,EAAS,SAACgB,EAAO,CAAF,OAAKA,EAAMC,OAAO,SAACX,EAAM,CAAF,OAAKA,EAAKjB,KAAOA,CAAE,EAAC,GAC1Da,EAAS,SAACgB,EAAO,CAAF,OAAKA,EAAMD,OAAO,SAACE,EAAM,CAAF,OAAKA,EAAKC,SAAW/B,CAAE,EAAC,EAChE,EAAG,CAACA,EAAIW,EAAUE,CAAQ,CAAC,EAE3B,SACEmB,EAAAA,MAAA,MAAAX,EAAAA,EAAAA,EAAAA,EAAA,CACEY,MAAO,CAAEhC,IAAAA,EAAKC,KAAAA,EAAMC,MAAAA,EAAOC,OAAAA,CAAO,EAClC8B,UAAWC,EAAOC,WAAY,EAC1B/B,CAAK,MAAAgC,SAAA,IAETnD,EAAAA,KAAA,KAAG+C,MAAO,CAAEK,OAAQ,OAAQ,EAAED,YAC5BL,EAAAA,MAAA,SAAAK,SAAA,CAAO,SAAOrC,CAAE,EAAQ,CAAC,CACxB,KACHd,EAAAA,KAAA,UAAQqD,QAASzB,EAAe0B,KAAM,SAASH,SAAC,WAEhD,CAAQ,KACRnD,EAAAA,KAAA,UAAQqD,QAASb,EAAYc,KAAM,SAASH,SAAC,QAE7C,CAAQ,CAAC,GACN,CAET,CAEO,IAAMI,EAA2B,SAACC,EAAsB,CAC7D,IAAA/H,KAAwBC,EAAAA,UAA2B,CAAC,CAAqB,EAACC,EAAAC,EAAAA,EAAAH,EAAA,GAAnEgI,EAAI9H,EAAA,GAAE+H,EAAO/H,EAAA,GACdU,KAAMC,EAAAA,QAAY,IAAI,EAEtBqH,KAAsCrE,EAAAA,aAC1C,SAACsE,EAAO7B,EAAS,KAAA8B,EAEfD,EAAME,eAAe,EAIrB,IAAMC,GAAIF,EAAGxH,EAAII,WAAO,MAAAoH,IAAA,cAAXA,EAAaG,sBAAsB,EAUhDN,EAAQ,CACN5C,GAAIiB,EAAKjB,GACTC,IAAK6C,EAAMK,QAAU,GACrBjD,KAAM4C,EAAMM,QAAUV,CAGxB,CAAC,CACH,EACA,CAACA,CAAS,CACZ,EAGMW,KAAc7E,EAAAA,aAClB,kBAAMoE,EAAQ,CAAC,CAAqB,CAAC,EACrC,CAACA,CAAO,CACV,EAEA,MAAO,CAAEC,kBAAAA,EAAmBF,KAAAA,EAAMU,YAAAA,EAAa9H,IAAAA,CAAI,CACrD,E,WCrGM+H,GAAa,SAAHvG,EAAiD,KAA3ChC,EAAOgC,EAAPhC,QAASG,EAAS6B,EAAT7B,UAC7B,SACEgE,EAAAA,KAACqE,EAAAA,EAAM,CACLvE,MAAM,eACNwE,UAAU,QAEVC,QAASvI,EACTwI,KAAM3I,EACN4I,aAAc,GACdC,KAAM,GAAMvB,YAEZnD,EAAAA,KAAA,KAAAmD,SAAG,kBAAgB,CAAG,CAAC,CACjB,CAEZ,EAEA,EAAeiB,G,qBCFFO,EAAgB,UAAM,CACjC,IAAMC,KAAkBtF,EAAAA,aACtB,SAACuF,EAAoB,CAAF,OAAK,SAACC,EAAwC,CAC/DA,EAAGC,aAAaC,QAAQ,wBAAyBH,CAAU,EAC3DC,EAAGC,aAAaE,cAAgB,MAClC,CAAC,EACD,CAAC,CACH,EAEA,MAAO,CAAEL,gBAAAA,CAAgB,CAC3B,EAEaM,EAAgB,SAACzD,EAA+C,CAC3E,IAAAhG,KACEC,EAAAA,UAAsC,EAACC,EAAAC,EAAAA,EAAAH,EAAA,GADlC0J,EAAiBxJ,EAAA,GAAEyJ,EAAoBzJ,EAAA,GAGxC0J,KAAa/F,EAAAA,aAAY,SAACsE,EAA2C,CACzEA,EAAME,eAAe,EACrBF,EAAMmB,aAAaO,WAAa,MAClC,EAAG,CAAC,CAAC,EAECC,KAASjG,EAAAA,aACb,SAACsE,EAA2C,CAC1CA,EAAME,eAAe,EAErB,IAAMR,EAAOM,EAAMmB,aAAaS,QAAQ,uBAAuB,EAG/D,GAAI,SAAOlC,GAAS,aAAe,CAACA,GAOpC,KAAMtB,EAAWmD,GAAiB,YAAjBA,EAAmBM,qBAAqB,CACvDxD,EAAG2B,EAAMM,QACThC,EAAG0B,EAAMK,OACX,CAAC,EACKyB,EAAU,CACd5E,MAAI6E,EAAAA,GAAO,EACXrC,KAAM,cACNtB,SAAUA,GAAY,CACpBC,EAAG,EACHC,EAAG,CACL,EACAE,KAAM,CAAEwD,MAAO,GAAFrD,OAAKe,CAAI,CAAG,EACzBuC,eAAgBC,EAAAA,GAASC,MACzBC,eAAgBF,EAAAA,GAASG,IAC3B,EAEAxE,EAAS,SAACyE,EAAK,CAAF,OAAKA,EAAI3D,OAAOmD,CAAO,CAAC,GACvC,EACA,CAACP,EAAmB1D,CAAQ,CAC9B,EAEA,MAAO,CAAE8D,OAAAA,EAAQF,WAAAA,EAAYD,qBAAAA,CAAqB,CACpD,EAEae,EAAgB,UAAM,CACjC,IAAAC,KAII5K,EAAAA,IAAiB,EAHV6K,EAAaD,EAAtBvK,QACWyK,EAAUF,EAArBpK,UACWuK,EAAUH,EAArBrK,UAGF,MAAO,CACLsK,cAAAA,EACAC,WAAAA,EACAC,WAAAA,CACF,CACF,EAEaC,EAA2B,UAAM,CAC5C,IAAAtJ,KAA0CxB,EAAAA,UAAmB,CAAC,CAAC,EAACyB,EAAAvB,EAAAA,EAAAsB,EAAA,GAAzDuJ,EAAatJ,EAAA,GAAEuJ,EAAgBvJ,EAAA,GACtCG,KAA0C5B,EAAAA,UAAmB,CAAC,CAAC,EAAC6B,EAAA3B,EAAAA,EAAA0B,EAAA,GAAzDqJ,EAAapJ,EAAA,GAAEqJ,EAAgBrJ,EAAA,GAEtCsJ,SAAAA,EAAAA,IAAqB,CACnBC,SAAU,SAAAjJ,EAAsB,KAAnB4E,EAAK5E,EAAL4E,MAAOE,EAAK9E,EAAL8E,MAClB+D,EAAiBjE,EAAMsE,IAAI,SAAChF,EAAM,CAAF,OAAKA,EAAKjB,EAAE,EAAC,EAC7C8F,EAAiBjE,EAAMoE,IAAI,SAACnE,EAAM,CAAF,OAAKA,EAAK9B,EAAE,EAAC,CAC/C,CACF,CAAC,EAEM,CAAE6F,cAAAA,EAAeF,cAAAA,CAAc,CACxC,EAEaO,EAAgB,SAACL,EAA4B,CACxD,IAAArF,KAAqBC,EAAAA,IAAa,EAA1BI,EAAQL,EAARK,SAEFsF,KAAa3H,EAAAA,aAAY,UAAM,CACnCqC,EAAS,SAACgB,EAAO,CAAF,OACbA,EAAMD,OAAO,SAACE,EAAM,CAAF,OAAK+D,EAAcO,MAAM,SAACjF,EAAG,CAAF,OAAKA,IAAMW,EAAK9B,EAAE,EAAC,EAAC,CACnE,CACF,EAAG,CAACa,EAAUgF,CAAa,CAAC,EAE5B,OAAOM,CACT,EAEaE,EAAiB,SAC5BR,EACAF,EACG,CACH,IAAMQ,EAAaD,EAAcL,CAAa,EACxCS,KAAoC9H,EAAAA,aACxC,SAAC+H,EAAM,CACDA,EAAEC,OAAS,UACbL,EAAW,CAEf,EACA,CAACA,CAAU,CACb,EAEA,MAAO,CAAEG,YAAAA,CAAY,CACvB,EAEaG,EAAe,UAAM,CAChC,IAAMC,KAAYlI,EAAAA,aAAY,UAAM,CAAC,EAAG,CAAC,CAAC,EAE1C,MAAO,CAAEkI,UAAAA,CAAU,CACrB,E,iCClIaC,EAAgB,CAC3B,CAAE7K,KAAM,QAASmD,QAAMC,EAAAA,KAAC0H,EAAAA,EAAY,EAAE,EAAGC,YAAa,EAAG,EACzD,CAAE/K,KAAM,YAAamD,QAAMC,EAAAA,KAAC4H,EAAAA,EAAc,EAAE,EAAGD,YAAa,EAAG,EAC/D,CAAE/K,KAAM,WAAYmD,QAAMC,EAAAA,KAAC6H,EAAAA,EAAkB,EAAE,EAAGF,YAAa,EAAG,CAAC,EAGxDG,GAAe,CAC1B,CACEjC,eAAgBC,EAAAA,GAASG,KACzBD,eAAgBF,EAAAA,GAASC,MACzBjF,GAAI,SACJwC,KAAM,cACNtB,SAAU,CAAEC,EAAG,EAAGC,EAAG,CAAE,EAEvBE,KAAM,CAAEwD,MAAO,GAAI,CACrB,EACA,CACEC,eAAgBC,EAAAA,GAASC,MACzBC,eAAgBF,EAAAA,GAASG,KACzBnF,GAAI,IACJsB,KAAM,CAAEwD,MAAO,OAAQ,EACvB5D,SAAU,CAAEC,EAAG,EAAGC,EAAG,CAAE,EAEvBoB,KAAM,OACR,EACA,CACEuC,eAAgBC,EAAAA,GAASC,MACzBC,eAAgBF,EAAAA,GAASG,KACzBnF,GAAI,IACJsB,KAAM,CAAEwD,MAAO,OAAQ,EACvB5D,SAAU,CAAEC,EAAG,EAAGC,EAAG,CAAE,CAEzB,CAAC,EAGU6F,EAAe,CAC1B,CAAEjH,GAAI,MAAO+B,OAAQ,IAAKmF,OAAQ,IAAKpC,MAAO,SAAUtC,KAAM,MAAO,CAAC,EAG3D2E,GAAM,CACjBC,MAAO,CACLzF,MAAO,CACL,CACE3B,GAAI,QACJwC,KAAM,cACNtB,SAAU,CACRC,EAAG,GACHC,EAAG,GACL,EACAE,KAAM,CACJwD,MAAO,OACT,EACAC,eAAgB,OAChBG,eAAgB,OAClB,EACA,CACElF,GAAI,eACJwC,KAAM,cACNtB,SAAU,CACRC,EAAG,IACHC,EAAG,GACL,EACAE,KAAM,CACJwD,MAAO,QACT,EACAC,eAAgB,OAChBG,eAAgB,OAClB,EACA,CACElF,GAAI,kBACJwC,KAAM,cACNtB,SAAU,CACRC,EAAG,IACHC,EAAG,GACL,EACAE,KAAM,CACJwD,MAAO,WACT,EACAC,eAAgB,OAChBG,eAAgB,OAClB,EACA,CACElF,GAAI,iBACJwC,KAAM,cACNtB,SAAU,CACRC,EAAG,IACHC,EAAG,GACL,EACAE,KAAM,CACJwD,MAAO,UACT,EACAC,eAAgB,OAChBG,eAAgB,OAClB,CAAC,EAEHrD,MAAO,CACL,CACE7B,GAAI,uCACJ8E,MAAO,GACP/C,OAAQ,QACRmF,OAAQ,eACRG,UAAW,CACT7E,KAAM,OACR,CACF,EACA,CACExC,GAAI,uCACJ8E,MAAO,GACP/C,OAAQ,iBACRmF,OAAQ,eACRG,UAAW,CACT7E,KAAM,OACR,CACF,EACA,CACExC,GAAI,uCACJ8E,MAAO,GACP/C,OAAQ,eACRmF,OAAQ,kBACRG,UAAW,CACT7E,KAAM,OACR,CACF,EACA,CACExC,GAAI,uCACJ8E,MAAO,GACP/C,OAAQ,kBACRmF,OAAQ,iBACRG,UAAW,CACT7E,KAAM,OACR,CACF,CAAC,CAEL,EACA8E,WAAY,CACVC,MAAO,CACLC,IAAK,CACHC,eAAgB,QAChBC,OAAQ,CAAC,CACX,EACAC,WAAY,CAAC,cAAc,EAC3BC,SAAU,CAAC,CACb,EACA,eAAgB,CACdJ,IAAK,CACHC,eAAgB,SAChBC,OAAQ,CAAC,CACX,EACAC,WAAY,CAAC,iBAAiB,EAC9BC,SAAU,CAAC,QAAS,gBAAgB,CACtC,EACA,kBAAmB,CACjBJ,IAAK,CACHC,eAAgB,YAChBC,OAAQ,CAAC,CACX,EACAC,WAAY,CAAC,gBAAgB,EAC7BC,SAAU,CAAC,cAAc,CAC3B,EACA,iBAAkB,CAChBJ,IAAK,CACHC,eAAgB,WAChBC,OAAQ,CAAC,CACX,EACAC,WAAY,CAAC,cAAc,EAC3BC,SAAU,CAAC,iBAAiB,CAC9B,CACF,EACAC,QAAS,CAAC,EACVC,KAAM,CAAC,OAAO,EACdC,OAAQ,CAAC,CACX,ECjLA,EAAe,CAAC,gBAAkB,yBAAyB,ECGpD,SAASC,GAAejL,EAGE,KAF/BuE,EAAIvE,EAAJuE,KAAI2G,EAAAlL,EACJmL,cAAAA,EAAaD,IAAA,OAAG,GAAIA,EAEpB,SACEjG,EAAAA,MAAA,OAAKE,UAAWC,EAAOgG,gBAAgB9F,SAAA,IACrCnD,EAAAA,KAACkJ,EAAAA,GAAM,CACL5F,KAAK,SACLtB,SAAU8D,EAAAA,GAASG,KACnB+C,cAAeA,CAAc,CAC9B,KACDhJ,EAAAA,KAACkJ,EAAAA,GAAM,CACL5F,KAAK,SACLtB,SAAU8D,EAAAA,GAASC,MACnBiD,cAAeA,CAAc,CAC9B,KACDhJ,EAAAA,KAAA,OAAAmD,SAAMf,EAAKwD,KAAK,CAAM,CAAC,EACpB,CAET,CCKA,IAAMuD,GAAY,CAAEC,YAAaN,EAAgB,EAMjD,SAASO,GAAUxL,EAAwB,KAArB2F,EAAS3F,EAAT2F,UACpB/H,KAA0BC,EAAAA,UAAiBuM,GAAIC,MAAMzF,KAAK,EAAC9G,EAAAC,EAAAA,EAAAH,EAAA,GAApDgH,EAAK9G,EAAA,GAAE8F,EAAQ9F,EAAA,GACtBuB,KAA0BxB,EAAAA,UAAiBuM,GAAIC,MAAMvF,KAAK,EAACxF,EAAAvB,EAAAA,EAAAsB,EAAA,GAApDyF,EAAKxF,EAAA,GAAEwE,EAAQxE,EAAA,GAEtBmM,EAAyC9C,EAAyB,EAA1DG,EAAa2C,EAAb3C,cAAeF,EAAa6C,EAAb7C,cAEvB8C,EACEhG,EAAyBC,CAAS,EAD5BnH,EAAGkN,EAAHlN,IAAKoH,EAAI8F,EAAJ9F,KAAME,EAAiB4F,EAAjB5F,kBAAmBQ,EAAWoF,EAAXpF,YAEtCqF,GAAkDrD,EAAc,EAAxDE,GAAamD,GAAbnD,cAAeC,GAAUkD,GAAVlD,WAAYC,GAAUiD,GAAVjD,WAE7BkD,MAA+BnK,EAAAA,aACnC,SAACoK,EAAS,CAAF,OAAKjI,EAAS,SAACyE,EAAK,CAAF,SAAKyD,EAAAA,IAAiBD,EAASxD,CAAG,CAAC,EAAC,EAC9D,CAAC,CACH,EACM0D,MAA+BtK,EAAAA,aACnC,SAACoK,EAAS,CAAF,OAAK/H,EAAS,SAACkI,EAAK,CAAF,SAAKC,EAAAA,IAAiBJ,EAASG,CAAG,CAAC,EAAC,EAC9D,CAAC,CACH,EAEME,MAAuBzK,EAAAA,aAC3B,SAACkJ,EAAQ,CAAF,OAAK7G,EAAS,SAACkI,EAAK,CAAF,SAAKG,EAAAA,IAAQxB,EAAQqB,CAAG,CAAC,EAAC,EACnD,CAAC,CACH,EAEMI,MAAgC3K,EAAAA,aAAY,UAAM,CACtDiH,GAAW,CACb,EAAG,CAACA,EAAU,CAAC,EAEf2D,GAAqDhF,EAAczD,CAAQ,EAAnE8D,GAAM2E,GAAN3E,OAAQF,GAAU6E,GAAV7E,WAAYD,GAAoB8E,GAApB9E,qBAE5B+E,GAAwBhD,EAAeR,EAAeF,CAAa,EAA3DW,GAAW+C,GAAX/C,YAER1K,SAAAA,EAAAA,WAAU,UAAM,CACd8D,QAAQC,KAAK,SAAUgC,CAAK,EAC5BjC,QAAQC,KAAK,SAAUkC,CAAK,CAC9B,EAAG,CAACF,EAAOE,CAAK,CAAC,KAGfG,EAAAA,MAAA,OAAKC,MAAO,CAAEqH,OAAQ,OAAQC,MAAO,MAAO,EAAElH,SAAA,IAC5CL,EAAAA,MAACwH,EAAAA,GAAS,CACRjO,IAAKA,EACLoG,MAAOA,EACPgH,cAAeA,GACf9F,kBAAmBA,EACnBhB,MAAOA,EACPiH,cAAeA,GACfW,QAAO,GACPR,UAAWA,GACXZ,UAAWA,GACXhF,YAAaA,EACboB,OAAQA,GACRF,WAAYA,GACZ4E,YAAaA,GACbO,OAAQpF,GACRqF,QAASrD,GAAYjE,SAAA,IAErBnD,EAAAA,KAAC0K,EAAAA,EAAU,EAAE,KACb1K,EAAAA,KAAC2K,EAAAA,EAAQ,EAAE,EACVC,OAAOC,KAAKpH,CAAI,EAAE1G,OAAS,MAC1BiD,EAAAA,KAACa,GAAesB,EAAAA,EAAA,CAACkB,QAASc,CAAY,EAAMV,CAAI,CAAW,CAC5D,EACQ,KACXzD,EAAAA,KAACoE,EAAU,CAACvI,QAASwK,GAAerK,UAAWsK,EAAW,CAAa,CAAC,EACrE,CAET,CAEA,OAAe+C,G,qECpGf,GAAe,CAAC,aAAe,uBAAuB,SAAW,mBAAmB,aAAe,sBAAsB,ECMjHyB,GAAUC,EAAAA,EAAVD,MAOFE,GAAW,SAAHnN,EAA4C,KAAtCoN,EAAYpN,EAAZoN,aAAcC,EAASrN,EAATqN,UAChCC,EAA4BxG,EAAc,EAAlCC,EAAeuG,EAAfvG,gBAER,SACE5E,EAAAA,KAAC8K,GAAK,CACJM,YAAW,GACXF,UAAWA,EACXG,eAAgB,EAChBC,MAAO,QACPC,WAAY,SAACC,EAAO,CAAF,OAAKP,EAAaO,CAAK,CAAC,EAACrI,YAE3CnD,EAAAA,KAACyL,GAAAA,EAAI,CAACC,SAAQ,GAACC,IAAK,GAAI3I,UAAWC,GAAO2I,aAAazI,SACpDsE,EAAcV,IAAI,SAAC9E,EAAG,CAAF,SACnBjC,EAAAA,KAAC6L,GAAAA,EAAI,CAEHC,UAAS,GACTC,UAAS,GACT/I,UAAWgJ,GAAAA,EAAW/I,GAAOgJ,YAAY,EACzCC,YAAatH,EAAgB3C,EAAErF,IAAI,EAAEuG,YAErCnD,EAAAA,KAACyL,GAAAA,EAAI,CAACU,QAAQ,gBAAgBC,MAAM,SAAQjJ,YAC1CL,EAAAA,MAACuJ,GAAAA,EAAK,CAACC,KAAM,GAAGnJ,SAAA,IACdnD,EAAAA,KAACuM,GAAAA,EAAM,CAACxM,KAAMkC,EAAElC,KAAMyM,MAAO,QAAS,CAAE,KACxC1J,EAAAA,MAAA,WAAAK,SAAA,IACEnD,EAAAA,KAAA,KAAAmD,SAAIlB,EAAErF,IAAI,CAAI,KACdoD,EAAAA,KAAA,OAAAmD,SAAMlB,EAAE0F,WAAW,CAAM,CAAC,EACnB,CAAC,EACL,CAAC,CACJ,CAAC,EAdF1F,EAAErF,IAeH,CAAC,CACR,CAAC,CACE,CAAC,CACF,CAEX,EAEA,GAAeoO,G,YCjDf,GAAe,CAAC,WAAa,oBAAoB,ECI3CyB,GAAa,UAAM,CACvB,IAAAC,EAAsBnF,EAAa,EAA3BC,EAASkF,EAATlF,UAER,SACE1E,EAAAA,MAAC2I,GAAAA,EAAI,CACHW,MAAM,SACND,QAAQ,MACRR,IAAK,QACL3I,UAAWC,GAAO0J,WAAWxJ,SAAA,IAE7BnD,EAAAA,KAAC4M,GAAAA,GAAM,CAAAzJ,YACLnD,EAAAA,KAAA,KAAAmD,SAAG,OAAK,CAAG,CAAC,CACN,KACRnD,EAAAA,KAAC4M,GAAAA,GAAM,CAACtJ,KAAK,UAAUD,QAASmE,EAAUrE,YACxCnD,EAAAA,KAAA,KAAAmD,SAAG,MAAI,CAAG,CAAC,CACL,CAAC,EACL,CAEV,EAEA,GAAesJ,GClBPI,GAAY9B,EAAAA,EAAZ8B,QAER,SAASC,IAAU,CACjB,IAAArR,KAAkCC,EAAAA,UAAS,EAAK,EAACC,EAAAC,EAAAA,EAAAH,EAAA,GAA1CyP,EAASvP,EAAA,GAAEsP,EAAYtP,EAAA,GAE9B,SACEqE,EAAAA,KAAC+K,EAAAA,EAAM,CAAA5H,YACLL,EAAAA,MAACiK,EAAAA,GAAiB,CAAA5J,SAAA,IAChBnD,EAAAA,KAAC8K,GAAK,CAACG,aAAcA,EAAcC,UAAWA,CAAU,CAAQ,KAChEpI,EAAAA,MAACiI,EAAAA,EAAM,CAAA5H,SAAA,IACLnD,EAAAA,KAACyM,GAAU,EAAa,KACxBzM,EAAAA,KAAC6M,GAAO,CAAC9J,MAAO,CAAEK,OAAQ,QAAS,EAAED,YACnCnD,EAAAA,KAACqJ,GAAU,CAAC7F,UAAW0H,EAAY,EAAI,GAAI,CAAa,CAAC,CAClD,CAAC,EACJ,CAAC,EACQ,CAAC,CACd,CAEZ,CAEA,OAAe4B,E,oBC3Bf,SAASE,EAAyBC,EAAK,CAGtC,OAAO,QAAQ,QAAQ,EAAE,KAAK,UAAW,CACxC,IAAI5F,EAAI,IAAI,MAAM,uBAAyB4F,EAAM,GAAG,EACpD,MAAA5F,EAAE,KAAO,mBACHA,CACP,CAAC,CACF,CACA2F,EAAyB,KAAO,UAAW,CAAE,MAAO,CAAC,CAAG,EACxDA,EAAyB,QAAUA,EACnCA,EAAyB,GAAK,MAC9BE,EAAO,QAAUF,C","sources":["webpack:///./src/hooks/commonHooks.tsx","webpack:///./src/pages/flow/canvas/context-menu/index.less?cafc","webpack:///./src/pages/flow/canvas/context-menu/index.tsx","webpack:///./src/pages/flow/flow-drawer/index.tsx","webpack:///./src/pages/flow/hooks.ts","webpack:///./src/pages/flow/mock.tsx","webpack:///./src/pages/flow/canvas/node/index.less?099b","webpack:///./src/pages/flow/canvas/node/index.tsx","webpack:///./src/pages/flow/canvas/index.tsx","webpack:///./src/pages/flow/flow-sider/index.less?b5d0","webpack:///./src/pages/flow/flow-sider/index.tsx","webpack:///./src/pages/flow/header/index.less?3190","webpack:///./src/pages/flow/header/index.tsx","webpack:///./src/pages/flow/index.tsx","webpack:///./src/hooks/ lazy namespace object"],"sourcesContent":["import { ExclamationCircleFilled } from '@ant-design/icons';\nimport { App } from 'antd';\nimport isEqual from 'lodash/isEqual';\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport const useSetModalState = () => {\n  const [visible, setVisible] = useState(false);\n\n  const showModal = () => {\n    setVisible(true);\n  };\n  const hideModal = () => {\n    setVisible(false);\n  };\n\n  const switchVisible = () => {\n    setVisible(!visible);\n  };\n\n  return { visible, showModal, hideModal, switchVisible };\n};\n\nexport const useDeepCompareEffect = (\n  effect: React.EffectCallback,\n  deps: React.DependencyList,\n) => {\n  const ref = useRef<React.DependencyList>();\n  let callback: ReturnType<React.EffectCallback> = () => {};\n  if (!isEqual(deps, ref.current)) {\n    callback = effect();\n    ref.current = deps;\n  }\n  useEffect(() => {\n    return () => {\n      if (callback) {\n        callback();\n      }\n    };\n  }, []);\n};\n\nexport interface UseDynamicSVGImportOptions {\n  onCompleted?: (\n    name: string,\n    SvgIcon: React.FC<React.SVGProps<SVGSVGElement>> | undefined,\n  ) => void;\n  onError?: (err: Error) => void;\n}\n\nexport function useDynamicSVGImport(\n  name: string,\n  options: UseDynamicSVGImportOptions = {},\n) {\n  const ImportedIconRef = useRef<React.FC<React.SVGProps<SVGSVGElement>>>();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<Error>();\n\n  const { onCompleted, onError } = options;\n  useEffect(() => {\n    setLoading(true);\n    const importIcon = async (): Promise<void> => {\n      try {\n        ImportedIconRef.current = (await import(name)).ReactComponent;\n        onCompleted?.(name, ImportedIconRef.current);\n      } catch (err: any) {\n        onError?.(err);\n        setError(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    importIcon();\n  }, [name, onCompleted, onError]);\n\n  return { error, loading, SvgIcon: ImportedIconRef.current };\n}\n\ninterface IProps {\n  onOk?: (...args: any[]) => any;\n  onCancel?: (...args: any[]) => any;\n}\n\nexport const useShowDeleteConfirm = () => {\n  const { modal } = App.useApp();\n  const { t } = useTranslation();\n\n  const showDeleteConfirm = useCallback(\n    ({ onOk, onCancel }: IProps): Promise<number> => {\n      return new Promise((resolve, reject) => {\n        modal.confirm({\n          title: t('common.deleteModalTitle'),\n          icon: <ExclamationCircleFilled />,\n          // content: 'Some descriptions',\n          okText: t('common.ok'),\n          okType: 'danger',\n          cancelText: t('common.cancel'),\n          async onOk() {\n            try {\n              const ret = await onOk?.();\n              resolve(ret);\n              console.info(ret);\n            } catch (error) {\n              reject(error);\n            }\n          },\n          onCancel() {\n            onCancel?.();\n          },\n        });\n      });\n    },\n    [t, modal],\n  );\n\n  return showDeleteConfirm;\n};\n\nexport const useTranslate = (keyPrefix: string) => {\n  return useTranslation('translation', { keyPrefix });\n};\n\nexport const useCommonTranslation = () => {\n  return useTranslation('translation', { keyPrefix: 'common' });\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"contextMenu\":\"contextMenu___cNBsU\"};","import { useCallback, useRef, useState } from 'react';\nimport { NodeMouseHandler, useReactFlow } from 'reactflow';\n\nimport styles from './index.less';\n\nexport interface INodeContextMenu {\n  id: string;\n  top: number;\n  left: number;\n  right?: number;\n  bottom?: number;\n  [key: string]: unknown;\n}\n\nexport function NodeContextMenu({\n  id,\n  top,\n  left,\n  right,\n  bottom,\n  ...props\n}: INodeContextMenu) {\n  const { getNode, setNodes, addNodes, setEdges } = useReactFlow();\n\n  const duplicateNode = useCallback(() => {\n    const node = getNode(id);\n    const position = {\n      x: node?.position?.x || 0 + 50,\n      y: node?.position?.y || 0 + 50,\n    };\n\n    addNodes({\n      ...(node || {}),\n      data: node?.data,\n      selected: false,\n      dragging: false,\n      id: `${node?.id}-copy`,\n      position,\n    });\n  }, [id, getNode, addNodes]);\n\n  const deleteNode = useCallback(() => {\n    setNodes((nodes) => nodes.filter((node) => node.id !== id));\n    setEdges((edges) => edges.filter((edge) => edge.source !== id));\n  }, [id, setNodes, setEdges]);\n\n  return (\n    <div\n      style={{ top, left, right, bottom }}\n      className={styles.contextMenu}\n      {...props}\n    >\n      <p style={{ margin: '0.5em' }}>\n        <small>node: {id}</small>\n      </p>\n      <button onClick={duplicateNode} type={'button'}>\n        duplicate\n      </button>\n      <button onClick={deleteNode} type={'button'}>\n        delete\n      </button>\n    </div>\n  );\n}\n\nexport const useHandleNodeContextMenu = (sideWidth: number) => {\n  const [menu, setMenu] = useState<INodeContextMenu>({} as INodeContextMenu);\n  const ref = useRef<any>(null);\n\n  const onNodeContextMenu: NodeMouseHandler = useCallback(\n    (event, node) => {\n      // Prevent native context menu from showing\n      event.preventDefault();\n\n      // Calculate position of the context menu. We want to make sure it\n      // doesn't get positioned off-screen.\n      const pane = ref.current?.getBoundingClientRect();\n      // setMenu({\n      //   id: node.id,\n      //   top: event.clientY < pane.height - 200 ? event.clientY : 0,\n      //   left: event.clientX < pane.width - 200 ? event.clientX : 0,\n      //   right: event.clientX >= pane.width - 200 ? pane.width - event.clientX : 0,\n      //   bottom:\n      //     event.clientY >= pane.height - 200 ? pane.height - event.clientY : 0,\n      // });\n\n      setMenu({\n        id: node.id,\n        top: event.clientY - 72,\n        left: event.clientX - sideWidth,\n        // top: event.clientY < pane.height - 200 ? event.clientY - 72 : 0,\n        // left: event.clientX < pane.width - 200 ? event.clientX : 0,\n      });\n    },\n    [sideWidth],\n  );\n\n  // Close the context menu if it's open whenever the window is clicked.\n  const onPaneClick = useCallback(\n    () => setMenu({} as INodeContextMenu),\n    [setMenu],\n  );\n\n  return { onNodeContextMenu, menu, onPaneClick, ref };\n};\n","import { IModalProps } from '@/interfaces/common';\nimport { Drawer } from 'antd';\n\nconst FlowDrawer = ({ visible, hideModal }: IModalProps<any>) => {\n  return (\n    <Drawer\n      title=\"Basic Drawer\"\n      placement=\"right\"\n      //   closable={false}\n      onClose={hideModal}\n      open={visible}\n      getContainer={false}\n      mask={false}\n    >\n      <p>Some contents...</p>\n    </Drawer>\n  );\n};\n\nexport default FlowDrawer;\n","import { useSetModalState } from '@/hooks/commonHooks';\nimport React, {\n  Dispatch,\n  KeyboardEventHandler,\n  SetStateAction,\n  useCallback,\n  useState,\n} from 'react';\nimport {\n  Node,\n  Position,\n  ReactFlowInstance,\n  useOnSelectionChange,\n  useReactFlow,\n} from 'reactflow';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport const useHandleDrag = () => {\n  const handleDragStart = useCallback(\n    (operatorId: string) => (ev: React.DragEvent<HTMLDivElement>) => {\n      ev.dataTransfer.setData('application/reactflow', operatorId);\n      ev.dataTransfer.effectAllowed = 'move';\n    },\n    [],\n  );\n\n  return { handleDragStart };\n};\n\nexport const useHandleDrop = (setNodes: Dispatch<SetStateAction<Node[]>>) => {\n  const [reactFlowInstance, setReactFlowInstance] =\n    useState<ReactFlowInstance<any, any>>();\n\n  const onDragOver = useCallback((event: React.DragEvent<HTMLDivElement>) => {\n    event.preventDefault();\n    event.dataTransfer.dropEffect = 'move';\n  }, []);\n\n  const onDrop = useCallback(\n    (event: React.DragEvent<HTMLDivElement>) => {\n      event.preventDefault();\n\n      const type = event.dataTransfer.getData('application/reactflow');\n\n      // check if the dropped element is valid\n      if (typeof type === 'undefined' || !type) {\n        return;\n      }\n\n      // reactFlowInstance.project was renamed to reactFlowInstance.screenToFlowPosition\n      // and you don't need to subtract the reactFlowBounds.left/top anymore\n      // details: https://reactflow.dev/whats-new/2023-11-10\n      const position = reactFlowInstance?.screenToFlowPosition({\n        x: event.clientX,\n        y: event.clientY,\n      });\n      const newNode = {\n        id: uuidv4(),\n        type: 'textUpdater',\n        position: position || {\n          x: 0,\n          y: 0,\n        },\n        data: { label: `${type}` },\n        sourcePosition: Position.Right,\n        targetPosition: Position.Left,\n      };\n\n      setNodes((nds) => nds.concat(newNode));\n    },\n    [reactFlowInstance, setNodes],\n  );\n\n  return { onDrop, onDragOver, setReactFlowInstance };\n};\n\nexport const useShowDrawer = () => {\n  const {\n    visible: drawerVisible,\n    hideModal: hideDrawer,\n    showModal: showDrawer,\n  } = useSetModalState();\n\n  return {\n    drawerVisible,\n    hideDrawer,\n    showDrawer,\n  };\n};\n\nexport const useHandleSelectionChange = () => {\n  const [selectedNodes, setSelectedNodes] = useState<string[]>([]);\n  const [selectedEdges, setSelectedEdges] = useState<string[]>([]);\n\n  useOnSelectionChange({\n    onChange: ({ nodes, edges }) => {\n      setSelectedNodes(nodes.map((node) => node.id));\n      setSelectedEdges(edges.map((edge) => edge.id));\n    },\n  });\n\n  return { selectedEdges, selectedNodes };\n};\n\nexport const useDeleteEdge = (selectedEdges: string[]) => {\n  const { setEdges } = useReactFlow();\n\n  const deleteEdge = useCallback(() => {\n    setEdges((edges) =>\n      edges.filter((edge) => selectedEdges.every((x) => x !== edge.id)),\n    );\n  }, [setEdges, selectedEdges]);\n\n  return deleteEdge;\n};\n\nexport const useHandleKeyUp = (\n  selectedEdges: string[],\n  selectedNodes: string[],\n) => {\n  const deleteEdge = useDeleteEdge(selectedEdges);\n  const handleKeyUp: KeyboardEventHandler = useCallback(\n    (e) => {\n      if (e.code === 'Delete') {\n        deleteEdge();\n      }\n    },\n    [deleteEdge],\n  );\n\n  return { handleKeyUp };\n};\n\nexport const useSaveGraph = () => {\n  const saveGraph = useCallback(() => {}, []);\n\n  return { saveGraph };\n};\n","import {\n  MergeCellsOutlined,\n  RocketOutlined,\n  SendOutlined,\n} from '@ant-design/icons';\nimport { Position } from 'reactflow';\n\nexport const componentList = [\n  { name: 'Begin', icon: <SendOutlined />, description: '' },\n  { name: 'Retrieval', icon: <RocketOutlined />, description: '' },\n  { name: 'Generate', icon: <MergeCellsOutlined />, description: '' },\n];\n\nexport const initialNodes = [\n  {\n    sourcePosition: Position.Left,\n    targetPosition: Position.Right,\n    id: 'node-1',\n    type: 'textUpdater',\n    position: { x: 0, y: 0 },\n    // position: { x: 400, y: 100 },\n    data: { label: 123 },\n  },\n  {\n    sourcePosition: Position.Right,\n    targetPosition: Position.Left,\n    id: '1',\n    data: { label: 'Hello' },\n    position: { x: 0, y: 0 },\n    // position: { x: 0, y: 50 },\n    type: 'input',\n  },\n  {\n    sourcePosition: Position.Right,\n    targetPosition: Position.Left,\n    id: '2',\n    data: { label: 'World' },\n    position: { x: 0, y: 0 },\n    // position: { x: 200, y: 50 },\n  },\n];\n\nexport const initialEdges = [\n  { id: '1-2', source: '1', target: '2', label: 'to the', type: 'step' },\n];\n\nexport const dsl = {\n  graph: {\n    nodes: [\n      {\n        id: 'begin',\n        type: 'textUpdater',\n        position: {\n          x: 50,\n          y: 200,\n        },\n        data: {\n          label: 'Begin',\n        },\n        sourcePosition: 'left',\n        targetPosition: 'right',\n      },\n      {\n        id: 'Answer:China',\n        type: 'textUpdater',\n        position: {\n          x: 150,\n          y: 200,\n        },\n        data: {\n          label: 'Answer',\n        },\n        sourcePosition: 'left',\n        targetPosition: 'right',\n      },\n      {\n        id: 'Retrieval:China',\n        type: 'textUpdater',\n        position: {\n          x: 250,\n          y: 200,\n        },\n        data: {\n          label: 'Retrieval',\n        },\n        sourcePosition: 'left',\n        targetPosition: 'right',\n      },\n      {\n        id: 'Generate:China',\n        type: 'textUpdater',\n        position: {\n          x: 100,\n          y: 100,\n        },\n        data: {\n          label: 'Generate',\n        },\n        sourcePosition: 'left',\n        targetPosition: 'right',\n      },\n    ],\n    edges: [\n      {\n        id: '7facb53d-65c9-43b3-ac55-339c445d3891',\n        label: '',\n        source: 'begin',\n        target: 'Answer:China',\n        markerEnd: {\n          type: 'arrow',\n        },\n      },\n      {\n        id: '7ac83631-502d-410f-a6e7-bec6866a5e99',\n        label: '',\n        source: 'Generate:China',\n        target: 'Answer:China',\n        markerEnd: {\n          type: 'arrow',\n        },\n      },\n      {\n        id: '0aaab297-5779-43ed-9281-2c4d3741566f',\n        label: '',\n        source: 'Answer:China',\n        target: 'Retrieval:China',\n        markerEnd: {\n          type: 'arrow',\n        },\n      },\n      {\n        id: '3477f9f3-0a7d-400e-af96-a11ea7673183',\n        label: '',\n        source: 'Retrieval:China',\n        target: 'Generate:China',\n        markerEnd: {\n          type: 'arrow',\n        },\n      },\n    ],\n  },\n  components: {\n    begin: {\n      obj: {\n        component_name: 'Begin',\n        params: {},\n      },\n      downstream: ['Answer:China'], // other edge target is downstream, edge source is current node id\n      upstream: [], // edge source is upstream, edge target is current node id\n    },\n    'Answer:China': {\n      obj: {\n        component_name: 'Answer',\n        params: {},\n      },\n      downstream: ['Retrieval:China'],\n      upstream: ['begin', 'Generate:China'],\n    },\n    'Retrieval:China': {\n      obj: {\n        component_name: 'Retrieval',\n        params: {},\n      },\n      downstream: ['Generate:China'],\n      upstream: ['Answer:China'],\n    },\n    'Generate:China': {\n      obj: {\n        component_name: 'Generate',\n        params: {},\n      },\n      downstream: ['Answer:China'],\n      upstream: ['Retrieval:China'],\n    },\n  },\n  history: [],\n  path: ['begin'],\n  answer: [],\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"textUpdaterNode\":\"textUpdaterNode___dtx75\"};","import { Handle, NodeProps, Position } from 'reactflow';\n\nimport styles from './index.less';\n\nexport function TextUpdaterNode({\n  data,\n  isConnectable = true,\n}: NodeProps<{ label: string }>) {\n  return (\n    <div className={styles.textUpdaterNode}>\n      <Handle\n        type=\"target\"\n        position={Position.Left}\n        isConnectable={isConnectable}\n      />\n      <Handle\n        type=\"source\"\n        position={Position.Right}\n        isConnectable={isConnectable}\n      />\n      <div>{data.label}</div>\n    </div>\n  );\n}\n","import { useCallback, useEffect, useState } from 'react';\nimport ReactFlow, {\n  Background,\n  Controls,\n  Edge,\n  Node,\n  NodeMouseHandler,\n  OnConnect,\n  OnEdgesChange,\n  OnNodesChange,\n  addEdge,\n  applyEdgeChanges,\n  applyNodeChanges,\n} from 'reactflow';\nimport 'reactflow/dist/style.css';\n\nimport { NodeContextMenu, useHandleNodeContextMenu } from './context-menu';\n\nimport FlowDrawer from '../flow-drawer';\nimport {\n  useHandleDrop,\n  useHandleKeyUp,\n  useHandleSelectionChange,\n  useShowDrawer,\n} from '../hooks';\nimport { dsl } from '../mock';\nimport { TextUpdaterNode } from './node';\n\nconst nodeTypes = { textUpdater: TextUpdaterNode };\n\ninterface IProps {\n  sideWidth: number;\n}\n\nfunction FlowCanvas({ sideWidth }: IProps) {\n  const [nodes, setNodes] = useState<Node[]>(dsl.graph.nodes);\n  const [edges, setEdges] = useState<Edge[]>(dsl.graph.edges);\n\n  const { selectedEdges, selectedNodes } = useHandleSelectionChange();\n\n  const { ref, menu, onNodeContextMenu, onPaneClick } =\n    useHandleNodeContextMenu(sideWidth);\n  const { drawerVisible, hideDrawer, showDrawer } = useShowDrawer();\n\n  const onNodesChange: OnNodesChange = useCallback(\n    (changes) => setNodes((nds) => applyNodeChanges(changes, nds)),\n    [],\n  );\n  const onEdgesChange: OnEdgesChange = useCallback(\n    (changes) => setEdges((eds) => applyEdgeChanges(changes, eds)),\n    [],\n  );\n\n  const onConnect: OnConnect = useCallback(\n    (params) => setEdges((eds) => addEdge(params, eds)),\n    [],\n  );\n\n  const onNodeClick: NodeMouseHandler = useCallback(() => {\n    showDrawer();\n  }, [showDrawer]);\n\n  const { onDrop, onDragOver, setReactFlowInstance } = useHandleDrop(setNodes);\n\n  const { handleKeyUp } = useHandleKeyUp(selectedEdges, selectedNodes);\n\n  useEffect(() => {\n    console.info('nodes:', nodes);\n    console.info('edges:', edges);\n  }, [nodes, edges]);\n\n  return (\n    <div style={{ height: '100%', width: '100%' }}>\n      <ReactFlow\n        ref={ref}\n        nodes={nodes}\n        onNodesChange={onNodesChange}\n        onNodeContextMenu={onNodeContextMenu}\n        edges={edges}\n        onEdgesChange={onEdgesChange}\n        fitView\n        onConnect={onConnect}\n        nodeTypes={nodeTypes}\n        onPaneClick={onPaneClick}\n        onDrop={onDrop}\n        onDragOver={onDragOver}\n        onNodeClick={onNodeClick}\n        onInit={setReactFlowInstance}\n        onKeyUp={handleKeyUp}\n      >\n        <Background />\n        <Controls />\n        {Object.keys(menu).length > 0 && (\n          <NodeContextMenu onClick={onPaneClick} {...(menu as any)} />\n        )}\n      </ReactFlow>\n      <FlowDrawer visible={drawerVisible} hideModal={hideDrawer}></FlowDrawer>\n    </div>\n  );\n}\n\nexport default FlowCanvas;\n","// extracted by mini-css-extract-plugin\nexport default {\"operatorCard\":\"operatorCard___tL0Y2\",\"cubeIcon\":\"cubeIcon___yMe3G\",\"siderContent\":\"siderContent___FpKZk\"};","import { Avatar, Card, Flex, Layout, Space } from 'antd';\nimport classNames from 'classnames';\nimport { componentList } from '../mock';\n\nimport { useHandleDrag } from '../hooks';\nimport styles from './index.less';\n\nconst { Sider } = Layout;\n\ninterface IProps {\n  setCollapsed: (width: boolean) => void;\n  collapsed: boolean;\n}\n\nconst FlowSide = ({ setCollapsed, collapsed }: IProps) => {\n  const { handleDragStart } = useHandleDrag();\n\n  return (\n    <Sider\n      collapsible\n      collapsed={collapsed}\n      collapsedWidth={0}\n      theme={'light'}\n      onCollapse={(value) => setCollapsed(value)}\n    >\n      <Flex vertical gap={10} className={styles.siderContent}>\n        {componentList.map((x) => (\n          <Card\n            key={x.name}\n            hoverable\n            draggable\n            className={classNames(styles.operatorCard)}\n            onDragStart={handleDragStart(x.name)}\n          >\n            <Flex justify=\"space-between\" align=\"center\">\n              <Space size={15}>\n                <Avatar icon={x.icon} shape={'square'} />\n                <section>\n                  <b>{x.name}</b>\n                  <div>{x.description}</div>\n                </section>\n              </Space>\n            </Flex>\n          </Card>\n        ))}\n      </Flex>\n    </Sider>\n  );\n};\n\nexport default FlowSide;\n","// extracted by mini-css-extract-plugin\nexport default {\"flowHeader\":\"flowHeader___e7L06\"};","import { Button, Flex } from 'antd';\n\nimport { useSaveGraph } from '../hooks';\nimport styles from './index.less';\n\nconst FlowHeader = () => {\n  const { saveGraph } = useSaveGraph();\n\n  return (\n    <Flex\n      align=\"center\"\n      justify=\"end\"\n      gap={'large'}\n      className={styles.flowHeader}\n    >\n      <Button>\n        <b>Debug</b>\n      </Button>\n      <Button type=\"primary\" onClick={saveGraph}>\n        <b>Save</b>\n      </Button>\n    </Flex>\n  );\n};\n\nexport default FlowHeader;\n","import { Layout } from 'antd';\nimport { useState } from 'react';\nimport { ReactFlowProvider } from 'reactflow';\nimport FlowCanvas from './canvas';\nimport Sider from './flow-sider';\nimport FlowHeader from './header';\n\nconst { Content } = Layout;\n\nfunction RagFlow() {\n  const [collapsed, setCollapsed] = useState(false);\n\n  return (\n    <Layout>\n      <ReactFlowProvider>\n        <Sider setCollapsed={setCollapsed} collapsed={collapsed}></Sider>\n        <Layout>\n          <FlowHeader></FlowHeader>\n          <Content style={{ margin: '0 16px' }}>\n            <FlowCanvas sideWidth={collapsed ? 0 : 200}></FlowCanvas>\n          </Content>\n        </Layout>\n      </ReactFlowProvider>\n    </Layout>\n  );\n}\n\nexport default RagFlow;\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 86635;\nmodule.exports = webpackEmptyAsyncContext;"],"names":["useSetModalState","_useState","useState","_useState2","_slicedToArray","visible","setVisible","showModal","hideModal","switchVisible","useDeepCompareEffect","effect","deps","ref","useRef","callback","isEqual","current","useEffect","useDynamicSVGImport","name","options","arguments","length","undefined","ImportedIconRef","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","onCompleted","onError","importIcon","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","sent","ReactComponent","t0","finish","stop","apply","SvgIcon","useShowDeleteConfirm","_App$useApp","App","useApp","modal","_useTranslation","useTranslation","t","showDeleteConfirm","useCallback","_ref2","onOk","onCancel","Promise","resolve","reject","confirm","title","icon","_jsx","ExclamationCircleFilled","okText","okType","cancelText","_callee2","ret","_context2","console","info","useTranslate","keyPrefix","useCommonTranslation","NodeContextMenu","id","top","left","right","bottom","props","_objectWithoutProperties","_excluded","_useReactFlow","useReactFlow","getNode","setNodes","addNodes","setEdges","duplicateNode","_node$position","_node$position2","node","position","x","y","_objectSpread","data","selected","dragging","concat","deleteNode","nodes","filter","edges","edge","source","_jsxs","style","className","styles","contextMenu","children","margin","onClick","type","useHandleNodeContextMenu","sideWidth","menu","setMenu","onNodeContextMenu","event","_ref$current","preventDefault","pane","getBoundingClientRect","clientY","clientX","onPaneClick","FlowDrawer","Drawer","placement","onClose","open","getContainer","mask","useHandleDrag","handleDragStart","operatorId","ev","dataTransfer","setData","effectAllowed","useHandleDrop","reactFlowInstance","setReactFlowInstance","onDragOver","dropEffect","onDrop","getData","screenToFlowPosition","newNode","uuidv4","label","sourcePosition","Position","Right","targetPosition","Left","nds","useShowDrawer","_useSetModalState","drawerVisible","hideDrawer","showDrawer","useHandleSelectionChange","selectedNodes","setSelectedNodes","selectedEdges","setSelectedEdges","useOnSelectionChange","onChange","map","useDeleteEdge","deleteEdge","every","useHandleKeyUp","handleKeyUp","e","code","useSaveGraph","saveGraph","componentList","SendOutlined","description","RocketOutlined","MergeCellsOutlined","initialNodes","initialEdges","target","dsl","graph","markerEnd","components","begin","obj","component_name","params","downstream","upstream","history","path","answer","TextUpdaterNode","_ref$isConnectable","isConnectable","textUpdaterNode","Handle","nodeTypes","textUpdater","FlowCanvas","_useHandleSelectionCh","_useHandleNodeContext","_useShowDrawer","onNodesChange","changes","applyNodeChanges","onEdgesChange","eds","applyEdgeChanges","onConnect","addEdge","onNodeClick","_useHandleDrop","_useHandleKeyUp","height","width","ReactFlow","fitView","onInit","onKeyUp","Background","Controls","Object","keys","Sider","Layout","FlowSide","setCollapsed","collapsed","_useHandleDrag","collapsible","collapsedWidth","theme","onCollapse","value","Flex","vertical","gap","siderContent","Card","hoverable","draggable","classNames","operatorCard","onDragStart","justify","align","Space","size","Avatar","shape","FlowHeader","_useSaveGraph","flowHeader","Button","Content","RagFlow","ReactFlowProvider","webpackEmptyAsyncContext","req","module"],"sourceRoot":""}