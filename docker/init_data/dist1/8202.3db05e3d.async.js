(self.webpackChunk=self.webpackChunk||[]).push([[8202],{82897:function(A,j,e){"use strict";e.d(j,{Z:function(){return Ie}});var P=e(13769),m=e.n(P),o=e(15009),E=e.n(o),x=e(97857),l=e.n(x),t=e(99289),a=e.n(t),r=e(5574),d=e.n(r),y=e(77680),C=e(25035),n=e(87462),O=e(62435),V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},D=V,Z=e(84089),u=function(v,S){return O.createElement(Z.Z,(0,n.Z)({},v,{ref:S,icon:D}))},I=O.forwardRef(u),s=e(24969),c=e(99859),M=e(85576),f=e(42075),U=e(20652),R=e(96074),_=e(83062),te=e(48928),ge=e(15867),xe=e(57557),Me=e.n(xe),pe=e(19632),je=e.n(pe),le=e(79495),ue=new Map([[["pdf"],["naive","resume","manual","paper","book","laws","presentation","one"]],[["doc","docx"],["naive","resume","book","laws","one"]],[["xlsx","xls"],["naive","qa","table","one"]],[["ppt","pptx"],["presentation"]],[["jpg","jpeg","png","gif","bmp","tif","tiff","webp","svg","ico"],["picture"]],[["txt"],["naive","resume","book","laws","one","qa","table"]],[["csv"],["naive","resume","book","laws","one","qa","table"]]]),de=function(v,S){return S.filter(function(N){return v==null?void 0:v.some(function(z){return z===N.value})})},Pe=function(v,S,N){var z=(0,O.useState)(""),w=d()(z,2),b=w[0],H=w[1],W=(0,le.XH)(),re=(0,O.useMemo)(function(){var J=je()(ue.keys()).find(function(L){return L.some(function(se){return se===N})});if(J){var B=ue.get(J);return de(B!=null?B:[],W)}return de(["naive","resume","book","laws","one","qa","table"],W)},[W,N]);(0,le.fS)(),(0,O.useEffect)(function(){H(S)},[S,v]);var G=function(B){H(B)};return{parserList:re,handleChange:G,selectedTag:b}},Ee=e(2039),Ze=e(78656),ce=e(85885),q={pageInputNumber:"pageInputNumber___qm78X",questionIcon:"questionIcon___d34w8",chunkMethod:"chunkMethod___tcugG"},i=e(86074),Ce=["key","name"],me=["qa","table","picture","resume","one"],Oe=function(v){var S=v.documentId,N=v.parserId,z=v.onOk,w=v.hideModal,b=v.visible,H=v.documentExtension,W=v.parserConfig,re=v.loading,G=Pe(S,N,H),J=G.parserList,B=G.handleChange,L=G.selectedTag,se=c.Z.useForm(),Te=d()(se,1),X=Te[0],ye=(0,Ee.qM)("knowledgeDetails"),p=ye.t,De=function(){var h=a()(E()().mark(function F(){var T,k,Q,K;return E()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,X.validateFields();case 2:Q=g.sent,K=l()(l()({},Q.parser_config),{},{pages:(T=(k=Q.pages)===null||k===void 0?void 0:k.map(function(Y){return[Y.from,Y.to]}))!==null&&T!==void 0?T:[]}),z(L,K);case 5:case"end":return g.stop()}},F)}));return function(){return h.apply(this,arguments)}}(),ee=H==="pdf",oe=(0,O.useMemo)(function(){return ee&&me.every(function(h){return h!==L})},[L,ee]),fe=(0,O.useMemo)(function(){return ee&&me.filter(function(h){return h!=="one"}).every(function(h){return h!==L})},[L,ee]),ve=L==="naive",Re=[oe,fe,ve].every(function(h){return h===!1}),Le=function(){X.resetFields()};return(0,O.useEffect)(function(){if(b){var h,F,T=(h=(F=W.pages)===null||F===void 0?void 0:F.map(function(k){return{from:k[0],to:k[1]}}))!==null&&h!==void 0?h:[];X.setFieldsValue({pages:T.length>0?T:[{from:1,to:1024}],parser_config:Me()(W,"pages")})}},[X,W,b]),(0,i.jsxs)(M.Z,{title:p("chunkMethod"),open:b,onOk:De,onCancel:w,afterClose:Le,confirmLoading:re,width:700,children:[(0,i.jsx)(f.Z,{size:[0,8],wrap:!0,children:(0,i.jsx)(c.Z.Item,{label:p("chunkMethod"),className:q.chunkMethod,children:(0,i.jsx)(U.Z,{style:{width:120},onChange:B,value:L,options:J})})}),Re||(0,i.jsx)(R.Z,{}),(0,i.jsxs)(c.Z,{name:"dynamic_form_nest_item",autoComplete:"off",form:X,children:[oe&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(f.Z,{children:[(0,i.jsxs)("p",{children:[p("pageRanges"),":"]}),(0,i.jsx)(_.Z,{title:p("pageRangesTip"),children:(0,i.jsx)(C.Z,{className:q.questionIcon})})]}),(0,i.jsx)(c.Z.List,{name:"pages",children:function(F,T){var k=T.add,Q=T.remove;return(0,i.jsxs)(i.Fragment,{children:[F.map(function(K){var he=K.key,g=K.name,Y=m()(K,Ce);return(0,i.jsxs)(f.Z,{style:{display:"flex"},align:"baseline",children:[(0,i.jsx)(c.Z.Item,l()(l()({},Y),{},{name:[g,"from"],dependencies:g>0?[g-1,"to"]:[],rules:[{required:!0,message:p("fromMessage")},function(ne){var ie=ne.getFieldValue;return{validator:function(Ae,$){return g===0||!$||ie(["pages",g-1,"to"])<$?Promise.resolve():Promise.reject(new Error(p("greaterThanPrevious")))}}}],children:(0,i.jsx)(te.Z,{placeholder:p("fromPlaceholder"),min:0,precision:0,className:q.pageInputNumber})})),(0,i.jsx)(c.Z.Item,l()(l()({},Y),{},{name:[g,"to"],dependencies:[g,"from"],rules:[{required:!0,message:p("toMessage")},function(ne){var ie=ne.getFieldValue;return{validator:function(Ae,$){return!$||ie(["pages",g,"from"])<$?Promise.resolve():Promise.reject(new Error(p("greaterThan")))}}}],children:(0,i.jsx)(te.Z,{placeholder:p("toPlaceholder"),min:0,precision:0,className:q.pageInputNumber})})),g>0&&(0,i.jsx)(I,{onClick:function(){return Q(g)}})]},he)}),(0,i.jsx)(c.Z.Item,{children:(0,i.jsx)(ge.ZP,{type:"dashed",onClick:function(){return k()},block:!0,icon:(0,i.jsx)(s.Z,{}),children:p("addPage")})})]})}})]}),fe&&(0,i.jsx)(Ze.Z,{}),oe&&(0,i.jsx)(c.Z.Item,{noStyle:!0,dependencies:[["parser_config","layout_recognize"]],children:function(F){var T=F.getFieldValue;return T(["parser_config","layout_recognize"])&&(0,i.jsx)(c.Z.Item,{name:["parser_config","task_page_size"],label:p("taskPageSize"),tooltip:p("taskPageSizeTip"),initialValue:12,rules:[{required:!0,message:p("taskPageSizeMessage")}],children:(0,i.jsx)(te.Z,{min:1,max:128})})}}),ve&&(0,i.jsx)(y.Z,{}),(0,ce.J3)(L)&&(0,i.jsx)(ce.ZP,{})]})]})},Ie=Oe},78656:function(A,j,e){"use strict";var P=e(2039),m=e(99859),o=e(72269),E=e(86074),x=function(){var t=(0,P.qM)("knowledgeDetails"),a=t.t;return(0,E.jsx)(m.Z.Item,{name:["parser_config","layout_recognize"],label:a("layoutRecognize"),initialValue:!0,valuePropName:"checked",tooltip:a("layoutRecognizeTip"),children:(0,E.jsx)(o.Z,{})})};j.Z=x},77680:function(A,j,e){"use strict";var P=e(2039),m=e(99859),o=e(86250),E=e(71338),x=e(48928),l=e(86074),t=function(){var r=(0,P.qM)("knowledgeConfiguration"),d=r.t;return(0,l.jsx)(m.Z.Item,{label:d("chunkTokenNumber"),tooltip:d("chunkTokenNumberTip"),children:(0,l.jsxs)(o.Z,{gap:20,align:"center",children:[(0,l.jsx)(o.Z,{flex:1,children:(0,l.jsx)(m.Z.Item,{name:["parser_config","chunk_token_num"],noStyle:!0,initialValue:128,rules:[{required:!0,message:d("chunkTokenNumberMessage")}],children:(0,l.jsx)(E.Z,{max:2048,style:{width:"100%"}})})}),(0,l.jsx)(m.Z.Item,{name:["parser_config","chunk_token_num"],noStyle:!0,rules:[{required:!0,message:d("chunkTokenNumberMessage")}],children:(0,l.jsx)(x.Z,{max:2048,min:0})})]})})};j.Z=t},85885:function(A,j,e){"use strict";e.d(j,{J3:function(){return V}});var P=e(2039),m=e(24969),o=e(99859),E=e(96074),x=e(72269),l=e(79531),t=e(86250),a=e(71338),r=e(48928),d=e(15867),y=e(83608),C=e.n(y),n=e(86074),O=["table","resume","one","picture"],V=function(u){return!O.includes(u)},D=function(){var u=o.Z.useFormInstance(),I=(0,P.qM)("knowledgeConfiguration"),s=I.t,c=function(){u.setFieldValue(["parser_config","raptor","random_seed"],C()(1e4))};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(E.Z,{}),(0,n.jsx)(o.Z.Item,{name:["parser_config","raptor","use_raptor"],label:s("useRaptor"),initialValue:!1,valuePropName:"checked",tooltip:s("useRaptorTip"),children:(0,n.jsx)(x.Z,{})}),(0,n.jsx)(o.Z.Item,{shouldUpdate:function(f,U){return f.parser_config.raptor.use_raptor!==U.parser_config.raptor.use_raptor},children:function(f){var U=f.getFieldValue,R=U(["parser_config","raptor","use_raptor"]);return R&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z.Item,{name:["parser_config","raptor","prompt"],label:s("prompt"),initialValue:s("promptText"),tooltip:s("promptTip"),rules:[{required:!0,message:s("promptMessage")}],children:(0,n.jsx)(l.Z.TextArea,{rows:8})}),(0,n.jsx)(o.Z.Item,{label:s("maxToken"),tooltip:s("maxTokenTip"),children:(0,n.jsxs)(t.Z,{gap:20,align:"center",children:[(0,n.jsx)(t.Z,{flex:1,children:(0,n.jsx)(o.Z.Item,{name:["parser_config","raptor","max_token"],noStyle:!0,initialValue:256,rules:[{required:!0,message:s("maxTokenMessage")}],children:(0,n.jsx)(a.Z,{max:2048,style:{width:"100%"}})})}),(0,n.jsx)(o.Z.Item,{name:["parser_config","raptor","max_token"],noStyle:!0,rules:[{required:!0,message:s("maxTokenMessage")}],children:(0,n.jsx)(r.Z,{max:2048,min:0})})]})}),(0,n.jsx)(o.Z.Item,{label:s("threshold"),tooltip:s("thresholdTip"),children:(0,n.jsxs)(t.Z,{gap:20,align:"center",children:[(0,n.jsx)(t.Z,{flex:1,children:(0,n.jsx)(o.Z.Item,{name:["parser_config","raptor","threshold"],noStyle:!0,initialValue:.1,rules:[{required:!0,message:s("thresholdMessage")}],children:(0,n.jsx)(a.Z,{min:0,max:1,style:{width:"100%"},step:.01})})}),(0,n.jsx)(o.Z.Item,{name:["parser_config","raptor","threshold"],noStyle:!0,rules:[{required:!0,message:s("thresholdMessage")}],children:(0,n.jsx)(r.Z,{max:1,min:0,step:.01})})]})}),(0,n.jsx)(o.Z.Item,{label:s("maxCluster"),tooltip:s("maxClusterTip"),children:(0,n.jsxs)(t.Z,{gap:20,align:"center",children:[(0,n.jsx)(t.Z,{flex:1,children:(0,n.jsx)(o.Z.Item,{name:["parser_config","raptor","max_cluster"],noStyle:!0,initialValue:64,rules:[{required:!0,message:s("maxClusterMessage")}],children:(0,n.jsx)(a.Z,{min:1,max:1024,style:{width:"100%"}})})}),(0,n.jsx)(o.Z.Item,{name:["parser_config","raptor","max_cluster"],noStyle:!0,rules:[{required:!0,message:s("maxClusterMessage")}],children:(0,n.jsx)(r.Z,{max:1024,min:1})})]})}),(0,n.jsx)(o.Z.Item,{label:s("randomSeed"),children:(0,n.jsxs)(t.Z,{gap:20,align:"center",children:[(0,n.jsx)(t.Z,{flex:1,children:(0,n.jsx)(o.Z.Item,{name:["parser_config","raptor","random_seed"],noStyle:!0,initialValue:0,rules:[{required:!0,message:s("randomSeedMessage")}],children:(0,n.jsx)(r.Z,{style:{width:"100%"}})})}),(0,n.jsx)(o.Z.Item,{noStyle:!0,children:(0,n.jsx)(d.ZP,{type:"primary",onClick:c,children:(0,n.jsx)(m.Z,{})})})]})})]})}})]})};j.ZP=D},69877:function(A){var j=Math.floor,e=Math.random;function P(m,o){return m+j(e()*(o-m+1))}A.exports=P},83608:function(A,j,e){var P=e(69877),m=e(16612),o=e(18601),E=parseFloat,x=Math.min,l=Math.random;function t(a,r,d){if(d&&typeof d!="boolean"&&m(a,r,d)&&(r=d=void 0),d===void 0&&(typeof r=="boolean"?(d=r,r=void 0):typeof a=="boolean"&&(d=a,a=void 0)),a===void 0&&r===void 0?(a=0,r=1):(a=o(a),r===void 0?(r=a,a=0):r=o(r)),a>r){var y=a;a=r,r=y}if(d||a%1||r%1){var C=l();return x(a+C*(r-a+E("1e-"+((C+"").length-1))),r)}return P(a,r)}A.exports=t},24809:function(A,j,e){"use strict";e.d(j,{m:function(){return E}});function P(x){let l,t,a,r,d,y,C;return n(),{feed:O,reset:n};function n(){l=!0,t="",a=0,r=-1,d=void 0,y=void 0,C=""}function O(D){t=t?t+D:D,l&&o(t)&&(t=t.slice(m.length)),l=!1;const Z=t.length;let u=0,I=!1;for(;u<Z;){I&&(t[u]===`
`&&++u,I=!1);let s=-1,c=r,M;for(let f=a;s<0&&f<Z;++f)M=t[f],M===":"&&c<0?c=f-u:M==="\r"?(I=!0,s=f-u):M===`
`&&(s=f-u);if(s<0){a=Z-u,r=c;break}else a=0,r=-1;V(t,u,c,s),u+=s+1}u===Z?t="":u>0&&(t=t.slice(u))}function V(D,Z,u,I){if(I===0){C.length>0&&(x({type:"event",id:d,event:y||void 0,data:C.slice(0,-1)}),C="",d=void 0),y=void 0;return}const s=u<0,c=D.slice(Z,Z+(s?I:u));let M=0;s?M=I:D[Z+u+1]===" "?M=u+2:M=u+1;const f=Z+M,U=I-M,R=D.slice(f,f+U).toString();if(c==="data")C+=R?"".concat(R,`
`):`
`;else if(c==="event")y=R;else if(c==="id"&&!R.includes("\0"))d=R;else if(c==="retry"){const _=parseInt(R,10);Number.isNaN(_)||x({type:"reconnect-interval",value:_})}}}const m=[239,187,191];function o(x){return m.every((l,t)=>x.charCodeAt(t)===l)}class E extends TransformStream{constructor(){let l;super({start(t){l=P(a=>{a.type==="event"&&t.enqueue(a)})},transform(t){l.feed(t)}})}}}}]);

//# sourceMappingURL=8202.3db05e3d.async.js.map