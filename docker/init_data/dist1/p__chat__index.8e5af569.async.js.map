{"version":3,"file":"p__chat__index.8e5af569.async.js","mappings":"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","sources":["webpack:///./src/components/pdf-previewer/hooks.ts","webpack:///./src/components/rerank.tsx","webpack:///./src/components/similarity-slider/index.tsx","webpack:///./src/hooks/llmHooks.ts","webpack:///./src/assets/svg/chat-app-cube.svg","webpack:///./src/components/rename-modal/index.tsx","webpack:///./src/assets/svg/chat-configuration-atom.svg","webpack:///./src/pages/chat/chat-configuration-modal/index.less?3283","webpack:///./src/pages/chat/chat-configuration-modal/assistant-setting.tsx","webpack:///./src/pages/chat/chat-configuration-modal/hooks.ts","webpack:///./src/pages/chat/chat-configuration-modal/model-setting.tsx","webpack:///./src/pages/chat/chat-configuration-modal/editable-cell.tsx","webpack:///./src/pages/chat/chat-configuration-modal/prompt-engine.tsx","webpack:///./src/pages/chat/chat-configuration-modal/index.tsx","webpack:///./src/components/pdf-previewer/index.less?80cf","webpack:///./src/components/pdf-previewer/index.tsx","webpack:///./src/pages/chat/chat-container/index.less?a72e","webpack:///./src/pages/chat/chat-container/index.tsx","webpack:///./src/components/line-chart/index.tsx","webpack:///./src/components/copy-to-clipboard.tsx","webpack:///./src/pages/chat/chat-api-key-modal/index.tsx","webpack:///./src/components/highlight-markdown/index.tsx","webpack:///./src/pages/chat/embed-modal/index.less?ee4d","webpack:///./src/pages/chat/embed-modal/index.tsx","webpack:///./src/pages/chat/chat-overview-modal/index.less?d748","webpack:///./src/pages/chat/chat-overview-modal/index.tsx","webpack:///./src/pages/chat/index.less?fa52","webpack:///./src/pages/chat/index.tsx","webpack:///./src/pages/document-viewer/file-error/index.less?9a0d","webpack:///./src/pages/document-viewer/file-error/index.tsx","webpack:///./src/utils/date.ts"],"sourcesContent":["import axios from 'axios';\nimport { useCallback, useEffect, useState } from 'react';\n\nexport const useCatchDocumentError = (url: string) => {\n  const [error, setError] = useState<string>('');\n\n  const fetchDocument = useCallback(async () => {\n    const { data } = await axios.get(url);\n    if (data.retcode !== 0) {\n      setError(data?.retmsg);\n    }\n  }, [url]);\n  useEffect(() => {\n    fetchDocument();\n  }, [fetchDocument]);\n\n  return error;\n};\n","import { LlmModelType } from '@/constants/knowledge';\nimport { useTranslate } from '@/hooks/commonHooks';\nimport { useSelectLlmOptionsByModelType } from '@/hooks/llmHooks';\nimport { Form, Select, Slider } from 'antd';\n\ntype FieldType = {\n  rerank_id?: string;\n  top_k?: number;\n};\n\nexport const RerankItem = () => {\n  const { t } = useTranslate('knowledgeDetails');\n  const allOptions = useSelectLlmOptionsByModelType();\n\n  return (\n    <Form.Item\n      label={t('rerankModel')}\n      name={'rerank_id'}\n      tooltip={t('rerankTip')}\n    >\n      <Select\n        options={allOptions[LlmModelType.Rerank]}\n        allowClear\n        placeholder={t('rerankPlaceholder')}\n      />\n    </Form.Item>\n  );\n};\n\nconst Rerank = () => {\n  const { t } = useTranslate('knowledgeDetails');\n\n  return (\n    <>\n      <RerankItem></RerankItem>\n      <Form.Item noStyle dependencies={['rerank_id']}>\n        {({ getFieldValue }) => {\n          const rerankId = getFieldValue('rerank_id');\n          return (\n            rerankId && (\n              <Form.Item<FieldType>\n                label={t('topK')}\n                name={'top_k'}\n                initialValue={1024}\n                tooltip={t('topKTip')}\n              >\n                <Slider max={2048} min={1} />\n              </Form.Item>\n            )\n          );\n        }}\n      </Form.Item>\n    </>\n  );\n};\n\nexport default Rerank;\n","import { useTranslate } from '@/hooks/commonHooks';\nimport { Form, Slider } from 'antd';\n\ntype FieldType = {\n  similarity_threshold?: number;\n  vector_similarity_weight?: number;\n};\n\ninterface IProps {\n  isTooltipShown?: boolean;\n}\n\nconst SimilaritySlider = ({ isTooltipShown = false }: IProps) => {\n  const { t } = useTranslate('knowledgeDetails');\n\n  return (\n    <>\n      <Form.Item<FieldType>\n        label={t('similarityThreshold')}\n        name={'similarity_threshold'}\n        tooltip={isTooltipShown && t('similarityThresholdTip')}\n        initialValue={0.2}\n      >\n        <Slider max={1} step={0.01} />\n      </Form.Item>\n      <Form.Item<FieldType>\n        label={t('vectorSimilarityWeight')}\n        name={'vector_similarity_weight'}\n        initialValue={1 - 0.3}\n        tooltip={isTooltipShown && t('vectorSimilarityWeightTip')}\n      >\n        <Slider max={1} step={0.01} />\n      </Form.Item>\n    </>\n  );\n};\n\nexport default SimilaritySlider;\n","import { LlmModelType } from '@/constants/knowledge';\nimport {\n  IFactory,\n  IMyLlmValue,\n  IThirdOAIModelCollection,\n} from '@/interfaces/database/llm';\nimport {\n  IAddLlmRequestBody,\n  IDeleteLlmRequestBody,\n} from '@/interfaces/request/llm';\nimport { sortLLmFactoryListBySpecifiedOrder } from '@/utils/commonUtil';\nimport { useCallback, useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'umi';\n\nexport const useFetchLlmList = (\n  modelType?: LlmModelType,\n  isOnMountFetching: boolean = true,\n) => {\n  const dispatch = useDispatch();\n\n  const fetchLlmList = useCallback(() => {\n    dispatch({\n      type: 'settingModel/llm_list',\n      payload: { model_type: modelType },\n    });\n  }, [dispatch, modelType]);\n\n  useEffect(() => {\n    if (isOnMountFetching) {\n      fetchLlmList();\n    }\n  }, [fetchLlmList, isOnMountFetching]);\n\n  return fetchLlmList;\n};\n\nexport const useSelectLlmInfo = () => {\n  const llmInfo: IThirdOAIModelCollection = useSelector(\n    (state: any) => state.settingModel.llmInfo,\n  );\n\n  return llmInfo;\n};\n\nexport const useSelectLlmOptions = () => {\n  const llmInfo: IThirdOAIModelCollection = useSelectLlmInfo();\n\n  const embeddingModelOptions = useMemo(() => {\n    return Object.entries(llmInfo).map(([key, value]) => {\n      return {\n        label: key,\n        options: value.map((x) => ({\n          label: x.llm_name,\n          value: x.llm_name,\n          disabled: !x.available,\n        })),\n      };\n    });\n  }, [llmInfo]);\n\n  return embeddingModelOptions;\n};\n\nexport const useSelectLlmOptionsByModelType = () => {\n  const llmInfo: IThirdOAIModelCollection = useSelectLlmInfo();\n\n  const groupOptionsByModelType = (modelType: LlmModelType) => {\n    return Object.entries(llmInfo)\n      .filter(([, value]) =>\n        modelType ? value.some((x) => x.model_type.includes(modelType)) : true,\n      )\n      .map(([key, value]) => {\n        return {\n          label: key,\n          options: value\n            .filter((x) =>\n              modelType ? x.model_type.includes(modelType) : true,\n            )\n            .map((x) => ({\n              label: x.llm_name,\n              value: x.llm_name,\n              disabled: !x.available,\n            })),\n        };\n      });\n  };\n\n  return {\n    [LlmModelType.Chat]: groupOptionsByModelType(LlmModelType.Chat),\n    [LlmModelType.Embedding]: groupOptionsByModelType(LlmModelType.Embedding),\n    [LlmModelType.Image2text]: groupOptionsByModelType(LlmModelType.Image2text),\n    [LlmModelType.Speech2text]: groupOptionsByModelType(\n      LlmModelType.Speech2text,\n    ),\n    [LlmModelType.Rerank]: groupOptionsByModelType(LlmModelType.Rerank),\n  };\n};\n\nexport const useSelectLlmFactoryList = () => {\n  const factoryList: IFactory[] = useSelector(\n    (state: any) => state.settingModel.factoryList,\n  );\n\n  return factoryList;\n};\n\nexport const useSelectMyLlmList = () => {\n  const myLlmList: Record<string, IMyLlmValue> = useSelector(\n    (state: any) => state.settingModel.myLlmList,\n  );\n\n  return myLlmList;\n};\n\nexport const useFetchLlmFactoryListOnMount = () => {\n  const dispatch = useDispatch();\n  const factoryList = useSelectLlmFactoryList();\n  const myLlmList = useSelectMyLlmList();\n\n  const list = useMemo(() => {\n    const currentList = factoryList.filter((x) =>\n      Object.keys(myLlmList).every((y) => y !== x.name),\n    );\n    return sortLLmFactoryListBySpecifiedOrder(currentList);\n  }, [factoryList, myLlmList]);\n\n  const fetchLlmFactoryList = useCallback(() => {\n    dispatch({\n      type: 'settingModel/factories_list',\n    });\n  }, [dispatch]);\n\n  useEffect(() => {\n    fetchLlmFactoryList();\n  }, [fetchLlmFactoryList]);\n\n  return list;\n};\n\nexport type LlmItem = { name: string; logo: string } & IMyLlmValue;\n\nexport const useFetchMyLlmListOnMount = () => {\n  const dispatch = useDispatch();\n  const llmList = useSelectMyLlmList();\n  const factoryList = useSelectLlmFactoryList();\n\n  const list: Array<LlmItem> = useMemo(() => {\n    return Object.entries(llmList).map(([key, value]) => ({\n      name: key,\n      logo: factoryList.find((x) => x.name === key)?.logo ?? '',\n      ...value,\n    }));\n  }, [llmList, factoryList]);\n\n  const fetchMyLlmList = useCallback(() => {\n    dispatch({\n      type: 'settingModel/my_llm',\n    });\n  }, [dispatch]);\n\n  useEffect(() => {\n    fetchMyLlmList();\n  }, [fetchMyLlmList]);\n\n  return list;\n};\n\nexport interface IApiKeySavingParams {\n  llm_factory: string;\n  api_key: string;\n  llm_name?: string;\n  model_type?: string;\n  base_url?: string;\n}\n\nexport const useSaveApiKey = () => {\n  const dispatch = useDispatch();\n\n  const saveApiKey = useCallback(\n    (savingParams: IApiKeySavingParams) => {\n      return dispatch<any>({\n        type: 'settingModel/set_api_key',\n        payload: savingParams,\n      });\n    },\n    [dispatch],\n  );\n\n  return saveApiKey;\n};\n\nexport interface ISystemModelSettingSavingParams {\n  tenant_id: string;\n  name?: string;\n  asr_id: string;\n  embd_id: string;\n  img2txt_id: string;\n  llm_id: string;\n}\n\nexport const useSaveTenantInfo = () => {\n  const dispatch = useDispatch();\n\n  const saveTenantInfo = useCallback(\n    (savingParams: ISystemModelSettingSavingParams) => {\n      return dispatch<any>({\n        type: 'settingModel/set_tenant_info',\n        payload: savingParams,\n      });\n    },\n    [dispatch],\n  );\n\n  return saveTenantInfo;\n};\n\nexport const useAddLlm = () => {\n  const dispatch = useDispatch();\n\n  const addLlm = useCallback(\n    (requestBody: IAddLlmRequestBody) => {\n      return dispatch<any>({\n        type: 'settingModel/add_llm',\n        payload: requestBody,\n      });\n    },\n    [dispatch],\n  );\n\n  return addLlm;\n};\n\nexport const useDeleteLlm = () => {\n  const dispatch = useDispatch();\n\n  const deleteLlm = useCallback(\n    (requestBody: IDeleteLlmRequestBody) => {\n      return dispatch<any>({\n        type: 'settingModel/delete_llm',\n        payload: requestBody,\n      });\n    },\n    [dispatch],\n  );\n\n  return deleteLlm;\n};\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgChatAppCube = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ width: 15, height: 14, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, props), /* @__PURE__ */ React.createElement(\"path\", { d: \"m6.188 12.104.859.478c.165.092.248.138.335.156a.581.581 0 0 0 .236 0c.087-.018.17-.064.335-.156l.86-.478m-5.25-1.458-.833-.462c-.175-.097-.262-.146-.326-.215a.583.583 0 0 1-.125-.212c-.029-.09-.029-.19-.029-.39V8.46m0-2.917v-.91c0-.199 0-.299.03-.388a.583.583 0 0 1 .124-.212c.064-.07.151-.118.326-.215l.833-.463m2.624-1.458.86-.477c.165-.092.248-.138.335-.156a.583.583 0 0 1 .236 0c.087.018.17.064.335.156l.86.477m2.624 1.458.833.463c.175.097.262.146.326.215a.584.584 0 0 1 .125.212c.029.089.029.189.029.389v.909m0 2.917v.909c0 .2 0 .3-.03.389a.584.584 0 0 1-.124.212c-.064.07-.151.118-.326.215l-.832.462m-5.25-4.375 1.312.73m0 0 1.313-.73m-1.313.73v1.458M2.25 4.084l1.313.729m7.874 0 1.313-.73M7.5 11.376v1.459\", stroke: \"#A5A3A9\", strokeWidth: 1.5, strokeLinecap: \"round\", strokeLinejoin: \"round\" }));\nexport { SvgChatAppCube as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTYuMTg4IDEyLjEwNC44NTkuNDc4Yy4xNjUuMDkyLjI0OC4xMzguMzM1LjE1NmEuNTgxLjU4MSAwIDAgMCAuMjM2IDBjLjA4Ny0uMDE4LjE3LS4wNjQuMzM1LS4xNTZsLjg2LS40NzhtLTUuMjUtMS40NTgtLjgzMy0uNDYyYy0uMTc1LS4wOTctLjI2Mi0uMTQ2LS4zMjYtLjIxNWEuNTgzLjU4MyAwIDAgMS0uMTI1LS4yMTJjLS4wMjktLjA5LS4wMjktLjE5LS4wMjktLjM5VjguNDZtMC0yLjkxN3YtLjkxYzAtLjE5OSAwLS4yOTkuMDMtLjM4OGEuNTgzLjU4MyAwIDAgMSAuMTI0LS4yMTJjLjA2NC0uMDcuMTUxLS4xMTguMzI2LS4yMTVsLjgzMy0uNDYzbTIuNjI0LTEuNDU4Ljg2LS40NzdjLjE2NS0uMDkyLjI0OC0uMTM4LjMzNS0uMTU2YS41ODMuNTgzIDAgMCAxIC4yMzYgMGMuMDg3LjAxOC4xNy4wNjQuMzM1LjE1NmwuODYuNDc3bTIuNjI0IDEuNDU4LjgzMy40NjNjLjE3NS4wOTcuMjYyLjE0Ni4zMjYuMjE1YS41ODQuNTg0IDAgMCAxIC4xMjUuMjEyYy4wMjkuMDg5LjAyOS4xODkuMDI5LjM4OXYuOTA5bTAgMi45MTd2LjkwOWMwIC4yIDAgLjMtLjAzLjM4OWEuNTg0LjU4NCAwIDAgMS0uMTI0LjIxMmMtLjA2NC4wNy0uMTUxLjExOC0uMzI2LjIxNWwtLjgzMi40NjJtLTUuMjUtNC4zNzUgMS4zMTIuNzNtMCAwIDEuMzEzLS43M20tMS4zMTMuNzN2MS40NThNMi4yNSA0LjA4NGwxLjMxMy43MjltNy44NzQgMCAxLjMxMy0uNzNNNy41IDExLjM3NnYxLjQ1OSIgc3Ryb2tlPSIjQTVBM0E5IiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PC9zdmc+\";\n","import { useTranslate } from '@/hooks/commonHooks';\nimport { Form, Input, Modal } from 'antd';\nimport { useEffect } from 'react';\nimport { IModalManagerChildrenProps } from '../modal-manager';\n\ninterface IProps extends Omit<IModalManagerChildrenProps, 'showModal'> {\n  loading: boolean;\n  initialName: string;\n  onOk: (name: string) => void;\n  showModal?(): void;\n}\n\nconst RenameModal = ({\n  visible,\n  hideModal,\n  loading,\n  initialName,\n  onOk,\n}: IProps) => {\n  const [form] = Form.useForm();\n  const { t } = useTranslate('common');\n\n  type FieldType = {\n    name?: string;\n  };\n\n  const handleOk = async () => {\n    const ret = await form.validateFields();\n\n    return onOk(ret.name);\n  };\n\n  const handleCancel = () => {\n    hideModal();\n  };\n\n  const onFinish = (values: any) => {\n    console.log('Success:', values);\n  };\n\n  const onFinishFailed = (errorInfo: any) => {\n    console.log('Failed:', errorInfo);\n  };\n\n  useEffect(() => {\n    if (visible) {\n      form.setFieldValue('name', initialName);\n    }\n  }, [initialName, form, visible]);\n\n  return (\n    <Modal\n      title={t('rename')}\n      open={visible}\n      onOk={handleOk}\n      onCancel={handleCancel}\n      okButtonProps={{ loading }}\n      confirmLoading={loading}\n    >\n      <Form\n        name=\"basic\"\n        labelCol={{ span: 4 }}\n        wrapperCol={{ span: 20 }}\n        style={{ maxWidth: 600 }}\n        onFinish={onFinish}\n        onFinishFailed={onFinishFailed}\n        autoComplete=\"off\"\n        form={form}\n      >\n        <Form.Item<FieldType>\n          label={t('name')}\n          name=\"name\"\n          rules={[{ required: true, message: t('namePlaceholder') }]}\n        >\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\n\nexport default RenameModal;\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgChatConfigurationAtom = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ width: 52, height: 52, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, props), /* @__PURE__ */ React.createElement(\"g\", { filter: \"url(#chat-configuration-atom_svg__a)\" }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M2.5 11A9.5 9.5 0 0 1 12 1.5h28a9.5 9.5 0 0 1 9.5 9.5v28a9.5 9.5 0 0 1-9.5 9.5H12A9.5 9.5 0 0 1 2.5 39V11Z\", stroke: \"#EAECF0\", shapeRendering: \"crispEdges\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M26 25h.01m3.525 3.535c-4.686 4.686-10.068 6.903-12.02 4.95-1.953-1.953.263-7.335 4.949-12.02 4.686-4.687 10.068-6.903 12.02-4.95 1.953 1.952-.263 7.334-4.949 12.02Zm0-7.071c4.686 4.686 6.902 10.068 4.95 12.02-1.953 1.953-7.335-.263-12.021-4.949-4.686-4.686-6.902-10.068-4.95-12.02 1.953-1.953 7.335.263 12.021 4.949ZM26.5 25a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z\", stroke: \"#344054\", strokeWidth: 2, strokeLinecap: \"round\", strokeLinejoin: \"round\" })), /* @__PURE__ */ React.createElement(\"defs\", null, /* @__PURE__ */ React.createElement(\"filter\", { id: \"chat-configuration-atom_svg__a\", x: 0, y: 0, width: 52, height: 52, filterUnits: \"userSpaceOnUse\", colorInterpolationFilters: \"sRGB\" }, /* @__PURE__ */ React.createElement(\"feFlood\", { floodOpacity: 0, result: \"BackgroundImageFix\" }), /* @__PURE__ */ React.createElement(\"feColorMatrix\", { in: \"SourceAlpha\", values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\", result: \"hardAlpha\" }), /* @__PURE__ */ React.createElement(\"feOffset\", { dy: 1 }), /* @__PURE__ */ React.createElement(\"feGaussianBlur\", { stdDeviation: 1 }), /* @__PURE__ */ React.createElement(\"feComposite\", { in2: \"hardAlpha\", operator: \"out\" }), /* @__PURE__ */ React.createElement(\"feColorMatrix\", { values: \"0 0 0 0 0.0627451 0 0 0 0 0.0941176 0 0 0 0 0.156863 0 0 0 0.05 0\" }), /* @__PURE__ */ React.createElement(\"feBlend\", { in2: \"BackgroundImageFix\", result: \"effect1_dropShadow_550_8026\" }), /* @__PURE__ */ React.createElement(\"feBlend\", { in: \"SourceGraphic\", in2: \"effect1_dropShadow_550_8026\", result: \"shape\" }))));\nexport { SvgChatConfigurationAtom as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTIiIGhlaWdodD0iNTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsdGVyPSJ1cmwoI2EpIj48cGF0aCBkPSJNMi41IDExQTkuNSA5LjUgMCAwIDEgMTIgMS41aDI4YTkuNSA5LjUgMCAwIDEgOS41IDkuNXYyOGE5LjUgOS41IDAgMCAxLTkuNSA5LjVIMTJBOS41IDkuNSAwIDAgMSAyLjUgMzlWMTFaIiBzdHJva2U9IiNFQUVDRjAiIHNoYXBlLXJlbmRlcmluZz0iY3Jpc3BFZGdlcyIvPjxwYXRoIGQ9Ik0yNiAyNWguMDFtMy41MjUgMy41MzVjLTQuNjg2IDQuNjg2LTEwLjA2OCA2LjkwMy0xMi4wMiA0Ljk1LTEuOTUzLTEuOTUzLjI2My03LjMzNSA0Ljk0OS0xMi4wMiA0LjY4Ni00LjY4NyAxMC4wNjgtNi45MDMgMTIuMDItNC45NSAxLjk1MyAxLjk1Mi0uMjYzIDcuMzM0LTQuOTQ5IDEyLjAyWm0wLTcuMDcxYzQuNjg2IDQuNjg2IDYuOTAyIDEwLjA2OCA0Ljk1IDEyLjAyLTEuOTUzIDEuOTUzLTcuMzM1LS4yNjMtMTIuMDIxLTQuOTQ5LTQuNjg2LTQuNjg2LTYuOTAyLTEwLjA2OC00Ljk1LTEyLjAyIDEuOTUzLTEuOTUzIDcuMzM1LjI2MyAxMi4wMjEgNC45NDlaTTI2LjUgMjVhLjUuNSAwIDEgMS0xIDAgLjUuNSAwIDAgMSAxIDBaIiBzdHJva2U9IiMzNDQwNTQiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PC9nPjxkZWZzPjxmaWx0ZXIgaWQ9ImEiIHg9IjAiIHk9IjAiIHdpZHRoPSI1MiIgaGVpZ2h0PSI1MiIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiPjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+PGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIiByZXN1bHQ9ImhhcmRBbHBoYSIvPjxmZU9mZnNldCBkeT0iMSIvPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEiLz48ZmVDb21wb3NpdGUgaW4yPSJoYXJkQWxwaGEiIG9wZXJhdG9yPSJvdXQiLz48ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMC4wNjI3NDUxIDAgMCAwIDAgMC4wOTQxMTc2IDAgMCAwIDAgMC4xNTY4NjMgMCAwIDAgMC4wNSAwIi8+PGZlQmxlbmQgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93XzU1MF84MDI2Ii8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93XzU1MF84MDI2IiByZXN1bHQ9InNoYXBlIi8+PC9maWx0ZXI+PC9kZWZzPjwvc3ZnPg==\";\n","// extracted by mini-css-extract-plugin\nexport default {\"chatConfigurationDescription\":\"chatConfigurationDescription___Marto\",\"variableContainer\":\"variableContainer___Y8OCn\",\"variableAlign\":\"variableAlign___V0wtR\",\"variableLabel\":\"variableLabel___lux8o\",\"variableIcon\":\"variableIcon___aAfD2\",\"variableTable\":\"variableTable___q3ddB\",\"editableRow\":\"editableRow____LyFZ\",\"segmentedHidden\":\"segmentedHidden___jWNN7\",\"sliderInputNumber\":\"sliderInputNumber___cS3d6\",\"variableSlider\":\"variableSlider___l0sWn\"};","import { useFetchKnowledgeList } from '@/hooks/knowledgeHook';\nimport { PlusOutlined } from '@ant-design/icons';\nimport { Form, Input, Select, Switch, Upload } from 'antd';\nimport classNames from 'classnames';\nimport { ISegmentedContentProps } from '../interface';\n\nimport { useTranslate } from '@/hooks/commonHooks';\nimport styles from './index.less';\n\nconst AssistantSetting = ({ show }: ISegmentedContentProps) => {\n  const { list: knowledgeList } = useFetchKnowledgeList(true);\n  const knowledgeOptions = knowledgeList.map((x) => ({\n    label: x.name,\n    value: x.id,\n  }));\n  const { t } = useTranslate('chat');\n\n  const normFile = (e: any) => {\n    if (Array.isArray(e)) {\n      return e;\n    }\n    return e?.fileList;\n  };\n\n  const uploadButtion = (\n    <button style={{ border: 0, background: 'none' }} type=\"button\">\n            <PlusOutlined />\n            <div style={{ marginTop: 8 }}>\n              {t('upload', { keyPrefix: 'common' })}\n            </div>\n          </button>\n  )\n\n  return (\n    <section\n      className={classNames({\n        [styles.segmentedHidden]: !show,\n      })}\n    >\n      <Form.Item\n        name={'name'}\n        label={t('assistantName')}\n        rules={[{ required: true, message: t('assistantNameMessage') }]}\n      >\n        <Input placeholder={t('namePlaceholder')} />\n      </Form.Item>\n      <Form.Item\n        name=\"icon\"\n        label={t('assistantAvatar')}\n        valuePropName=\"fileList\"\n        getValueFromEvent={normFile}\n      >\n        <Upload\n          listType=\"picture-card\"\n          maxCount={1}\n          showUploadList={{ showPreviewIcon: false, showRemoveIcon: false }}\n        >\n          {show ? uploadButtion : null}\n        </Upload>\n      </Form.Item>\n      <Form.Item\n        name={'language'}\n        label={t('language')}\n        initialValue={'English'}\n        tooltip=\"coming soon\"\n        style={{ display: 'none' }}\n      >\n        <Select\n          options={[\n            { value: 'Chinese', label: t('chinese', { keyPrefix: 'common' }) },\n            { value: 'English', label: t('english', { keyPrefix: 'common' }) },\n          ]}\n        />\n      </Form.Item>\n      <Form.Item\n        name={['prompt_config', 'empty_response']}\n        label={t('emptyResponse')}\n        tooltip={t('emptyResponseTip')}\n      >\n        <Input placeholder=\"\" />\n      </Form.Item>\n      <Form.Item\n        name={['prompt_config', 'prologue']}\n        label={t('setAnOpener')}\n        tooltip={t('setAnOpenerTip')}\n        initialValue={t('setAnOpenerInitial')}\n      >\n        <Input.TextArea autoSize={{ minRows: 5 }} />\n      </Form.Item>\n      <Form.Item\n        label={t('quote')}\n        valuePropName=\"checked\"\n        name={['prompt_config', 'quote']}\n        tooltip={t('quoteTip')}\n        initialValue={true}\n      >\n        <Switch />\n      </Form.Item>\n      <Form.Item\n        label={t('knowledgeBases')}\n        name=\"kb_ids\"\n        tooltip={t('knowledgeBasesTip')}\n        rules={[\n          {\n            required: true,\n            message: t('knowledgeBasesMessage'),\n            type: 'array',\n          },\n        ]}\n      >\n        <Select\n          mode=\"multiple\"\n          options={knowledgeOptions}\n          placeholder={t('knowledgeBasesMessage')}\n        ></Select>\n      </Form.Item>\n    </section>\n  );\n};\n\nexport default AssistantSetting;\n","import { useFetchLlmList } from '@/hooks/llmHooks';\nimport {\n  useFetchTenantInfo,\n  useSelectTenantInfo,\n} from '@/hooks/userSettingHook';\nimport { useEffect } from 'react';\n\nexport const useFetchModelId = (visible: boolean) => {\n  const fetchTenantInfo = useFetchTenantInfo(false);\n  const tenantInfo = useSelectTenantInfo();\n\n  useEffect(() => {\n    if (visible) {\n      fetchTenantInfo();\n    }\n  }, [visible, fetchTenantInfo]);\n\n  return tenantInfo?.llm_id ?? '';\n};\n\nexport const useFetchLlmModelOnVisible = (visible: boolean) => {\n  const fetchLlmList = useFetchLlmList();\n\n  useEffect(() => {\n    if (visible) {\n      fetchLlmList();\n    }\n  }, [fetchLlmList, visible]);\n};\n","import {\n  LlmModelType,\n  ModelVariableType,\n  settledModelVariableMap,\n} from '@/constants/knowledge';\nimport { Divider, Flex, Form, InputNumber, Select, Slider, Switch } from 'antd';\nimport classNames from 'classnames';\nimport camelCase from 'lodash/camelCase';\nimport { useEffect } from 'react';\nimport { ISegmentedContentProps } from '../interface';\n\nimport { useTranslate } from '@/hooks/commonHooks';\nimport { useSelectLlmOptionsByModelType } from '@/hooks/llmHooks';\nimport { Variable } from '@/interfaces/database/chat';\nimport { variableEnabledFieldMap } from '../constants';\nimport styles from './index.less';\n\nconst ModelSetting = ({\n  show,\n  form,\n  initialLlmSetting,\n  visible,\n}: ISegmentedContentProps & {\n  initialLlmSetting?: Variable;\n  visible?: boolean;\n}) => {\n  const { t } = useTranslate('chat');\n  const parameterOptions = Object.values(ModelVariableType).map((x) => ({\n    label: t(camelCase(x)),\n    value: x,\n  }));\n\n  const modelOptions = useSelectLlmOptionsByModelType();\n\n  const handleParametersChange = (value: ModelVariableType) => {\n    const variable = settledModelVariableMap[value];\n    form.setFieldsValue({ llm_setting: variable });\n  };\n\n  useEffect(() => {\n    if (visible) {\n      const values = Object.keys(variableEnabledFieldMap).reduce<\n        Record<string, boolean>\n      >((pre, field) => {\n        pre[field] =\n          initialLlmSetting === undefined\n            ? true\n            : !!initialLlmSetting[\n                variableEnabledFieldMap[\n                  field as keyof typeof variableEnabledFieldMap\n                ] as keyof Variable\n              ];\n        return pre;\n      }, {});\n      form.setFieldsValue(values);\n    }\n  }, [form, initialLlmSetting, visible]);\n\n  return (\n    <section\n      className={classNames({\n        [styles.segmentedHidden]: !show,\n      })}\n    >\n      <Form.Item\n        label={t('model')}\n        name=\"llm_id\"\n        tooltip={t('modelTip')}\n        rules={[{ required: true, message: t('modelMessage') }]}\n      >\n        <Select options={modelOptions[LlmModelType.Chat]} showSearch />\n      </Form.Item>\n      <Divider></Divider>\n      <Form.Item\n        label={t('freedom')}\n        name=\"parameters\"\n        tooltip={t('freedomTip')}\n        initialValue={ModelVariableType.Precise}\n      >\n        <Select<ModelVariableType>\n          options={parameterOptions}\n          onChange={handleParametersChange}\n        />\n      </Form.Item>\n      <Form.Item label={t('temperature')} tooltip={t('temperatureTip')}>\n        <Flex gap={20} align=\"center\">\n          <Form.Item\n            name={'temperatureEnabled'}\n            valuePropName=\"checked\"\n            noStyle\n          >\n            <Switch size=\"small\" />\n          </Form.Item>\n          <Form.Item noStyle dependencies={['temperatureEnabled']}>\n            {({ getFieldValue }) => {\n              const disabled = !getFieldValue('temperatureEnabled');\n              return (\n                <>\n                  <Flex flex={1}>\n                    <Form.Item name={['llm_setting', 'temperature']} noStyle>\n                      <Slider\n                        className={styles.variableSlider}\n                        max={1}\n                        step={0.01}\n                        disabled={disabled}\n                      />\n                    </Form.Item>\n                  </Flex>\n                  <Form.Item name={['llm_setting', 'temperature']} noStyle>\n                    <InputNumber\n                      className={styles.sliderInputNumber}\n                      max={1}\n                      min={0}\n                      step={0.01}\n                      disabled={disabled}\n                    />\n                  </Form.Item>\n                </>\n              );\n            }}\n          </Form.Item>\n        </Flex>\n      </Form.Item>\n      <Form.Item label={t('topP')} tooltip={t('topPTip')}>\n        <Flex gap={20} align=\"center\">\n          <Form.Item name={'topPEnabled'} valuePropName=\"checked\" noStyle>\n            <Switch size=\"small\" />\n          </Form.Item>\n          <Form.Item noStyle dependencies={['topPEnabled']}>\n            {({ getFieldValue }) => {\n              const disabled = !getFieldValue('topPEnabled');\n              return (\n                <>\n                  <Flex flex={1}>\n                    <Form.Item name={['llm_setting', 'top_p']} noStyle>\n                      <Slider\n                        className={styles.variableSlider}\n                        max={1}\n                        step={0.01}\n                        disabled={disabled}\n                      />\n                    </Form.Item>\n                  </Flex>\n                  <Form.Item name={['llm_setting', 'top_p']} noStyle>\n                    <InputNumber\n                      className={styles.sliderInputNumber}\n                      max={1}\n                      min={0}\n                      step={0.01}\n                      disabled={disabled}\n                    />\n                  </Form.Item>\n                </>\n              );\n            }}\n          </Form.Item>\n        </Flex>\n      </Form.Item>\n      <Form.Item label={t('presencePenalty')} tooltip={t('presencePenaltyTip')}>\n        <Flex gap={20} align=\"center\">\n          <Form.Item\n            name={'presencePenaltyEnabled'}\n            valuePropName=\"checked\"\n            noStyle\n          >\n            <Switch size=\"small\" />\n          </Form.Item>\n          <Form.Item noStyle dependencies={['presencePenaltyEnabled']}>\n            {({ getFieldValue }) => {\n              const disabled = !getFieldValue('presencePenaltyEnabled');\n              return (\n                <>\n                  <Flex flex={1}>\n                    <Form.Item\n                      name={['llm_setting', 'presence_penalty']}\n                      noStyle\n                    >\n                      <Slider\n                        className={styles.variableSlider}\n                        max={1}\n                        step={0.01}\n                        disabled={disabled}\n                      />\n                    </Form.Item>\n                  </Flex>\n                  <Form.Item name={['llm_setting', 'presence_penalty']} noStyle>\n                    <InputNumber\n                      className={styles.sliderInputNumber}\n                      max={1}\n                      min={0}\n                      step={0.01}\n                      disabled={disabled}\n                    />\n                  </Form.Item>\n                </>\n              );\n            }}\n          </Form.Item>\n        </Flex>\n      </Form.Item>\n      <Form.Item\n        label={t('frequencyPenalty')}\n        tooltip={t('frequencyPenaltyTip')}\n      >\n        <Flex gap={20} align=\"center\">\n          <Form.Item\n            name={'frequencyPenaltyEnabled'}\n            valuePropName=\"checked\"\n            noStyle\n          >\n            <Switch size=\"small\" />\n          </Form.Item>\n          <Form.Item noStyle dependencies={['frequencyPenaltyEnabled']}>\n            {({ getFieldValue }) => {\n              const disabled = !getFieldValue('frequencyPenaltyEnabled');\n              return (\n                <>\n                  <Flex flex={1}>\n                    <Form.Item\n                      name={['llm_setting', 'frequency_penalty']}\n                      noStyle\n                    >\n                      <Slider\n                        className={styles.variableSlider}\n                        max={1}\n                        step={0.01}\n                        disabled={disabled}\n                      />\n                    </Form.Item>\n                  </Flex>\n                  <Form.Item\n                    name={['llm_setting', 'frequency_penalty']}\n                    noStyle\n                  >\n                    <InputNumber\n                      className={styles.sliderInputNumber}\n                      max={1}\n                      min={0}\n                      step={0.01}\n                      disabled={disabled}\n                    />\n                  </Form.Item>\n                </>\n              );\n            }}\n          </Form.Item>\n        </Flex>\n      </Form.Item>\n      <Form.Item label={t('maxTokens')} tooltip={t('maxTokensTip')}>\n        <Flex gap={20} align=\"center\">\n          <Form.Item name={'maxTokensEnabled'} valuePropName=\"checked\" noStyle>\n            <Switch size=\"small\" />\n          </Form.Item>\n          <Form.Item noStyle dependencies={['maxTokensEnabled']}>\n            {({ getFieldValue }) => {\n              const disabled = !getFieldValue('maxTokensEnabled');\n\n              return (\n                <>\n                  <Flex flex={1}>\n                    <Form.Item name={['llm_setting', 'max_tokens']} noStyle>\n                      <Slider\n                        className={styles.variableSlider}\n                        max={2048}\n                        disabled={disabled}\n                      />\n                    </Form.Item>\n                  </Flex>\n                  <Form.Item name={['llm_setting', 'max_tokens']} noStyle>\n                    <InputNumber\n                      disabled={disabled}\n                      className={styles.sliderInputNumber}\n                      max={2048}\n                      min={0}\n                    />\n                  </Form.Item>\n                </>\n              );\n            }}\n          </Form.Item>\n        </Flex>\n      </Form.Item>\n    </section>\n  );\n};\n\nexport default ModelSetting;\n","import { Form, FormInstance, Input, InputRef } from 'antd';\nimport React, { useContext, useEffect, useRef, useState } from 'react';\n\nconst EditableContext = React.createContext<FormInstance<any> | null>(null);\n\ninterface EditableRowProps {\n  index: number;\n}\n\ninterface Item {\n  key: string;\n  name: string;\n  age: string;\n  address: string;\n}\n\nexport const EditableRow: React.FC<EditableRowProps> = ({\n  index,\n  ...props\n}) => {\n  const [form] = Form.useForm();\n  return (\n    <Form form={form} component={false}>\n      <EditableContext.Provider value={form}>\n        <tr {...props} />\n      </EditableContext.Provider>\n    </Form>\n  );\n};\n\ninterface EditableCellProps {\n  title: React.ReactNode;\n  editable: boolean;\n  children: React.ReactNode;\n  dataIndex: keyof Item;\n  record: Item;\n  handleSave: (record: Item) => void;\n}\n\nexport const EditableCell: React.FC<EditableCellProps> = ({\n  title,\n  editable,\n  children,\n  dataIndex,\n  record,\n  handleSave,\n  ...restProps\n}) => {\n  const [editing, setEditing] = useState(false);\n  const inputRef = useRef<InputRef>(null);\n  const form = useContext(EditableContext)!;\n\n  useEffect(() => {\n    if (editing) {\n      inputRef.current!.focus();\n    }\n  }, [editing]);\n\n  const toggleEdit = () => {\n    setEditing(!editing);\n    form.setFieldsValue({ [dataIndex]: record[dataIndex] });\n  };\n\n  const save = async () => {\n    try {\n      const values = await form.validateFields();\n\n      toggleEdit();\n      handleSave({ ...record, ...values });\n    } catch (errInfo) {\n      console.log('Save failed:', errInfo);\n    }\n  };\n\n  let childNode = children;\n\n  if (editable) {\n    childNode = editing ? (\n      <Form.Item\n        style={{ margin: 0 }}\n        name={dataIndex}\n        rules={[\n          {\n            required: true,\n            message: `${title} is required.`,\n          },\n        ]}\n      >\n        <Input ref={inputRef} onPressEnter={save} onBlur={save} />\n      </Form.Item>\n    ) : (\n      <div\n        className=\"editable-cell-value-wrap\"\n        style={{ paddingRight: 24 }}\n        onClick={toggleEdit}\n      >\n        {children}\n      </div>\n    );\n  }\n\n  return <td {...restProps}>{childNode}</td>;\n};\n","import SimilaritySlider from '@/components/similarity-slider';\nimport { DeleteOutlined, QuestionCircleOutlined } from '@ant-design/icons';\nimport {\n  Button,\n  Col,\n  Divider,\n  Form,\n  Input,\n  Row,\n  Slider,\n  Switch,\n  Table,\n  TableProps,\n  Tooltip,\n} from 'antd';\nimport classNames from 'classnames';\nimport {\n  ForwardedRef,\n  forwardRef,\n  useEffect,\n  useImperativeHandle,\n  useState,\n} from 'react';\nimport { v4 as uuid } from 'uuid';\nimport {\n  VariableTableDataType as DataType,\n  IPromptConfigParameters,\n  ISegmentedContentProps,\n} from '../interface';\nimport { EditableCell, EditableRow } from './editable-cell';\n\nimport Rerank from '@/components/rerank';\nimport { useTranslate } from '@/hooks/commonHooks';\nimport { useSelectPromptConfigParameters } from '../hooks';\nimport styles from './index.less';\n\ntype FieldType = {\n  similarity_threshold?: number;\n  vector_similarity_weight?: number;\n  top_n?: number;\n};\n\nconst PromptEngine = (\n  { show }: ISegmentedContentProps,\n  ref: ForwardedRef<Array<IPromptConfigParameters>>,\n) => {\n  const [dataSource, setDataSource] = useState<DataType[]>([]);\n  const parameters = useSelectPromptConfigParameters();\n  const { t } = useTranslate('chat');\n\n  const components = {\n    body: {\n      row: EditableRow,\n      cell: EditableCell,\n    },\n  };\n\n  const handleRemove = (key: string) => () => {\n    const newData = dataSource.filter((item) => item.key !== key);\n    setDataSource(newData);\n  };\n\n  const handleSave = (row: DataType) => {\n    const newData = [...dataSource];\n    const index = newData.findIndex((item) => row.key === item.key);\n    const item = newData[index];\n    newData.splice(index, 1, {\n      ...item,\n      ...row,\n    });\n    setDataSource(newData);\n  };\n\n  const handleAdd = () => {\n    setDataSource((state) => [\n      ...state,\n      {\n        key: uuid(),\n        variable: '',\n        optional: true,\n      },\n    ]);\n  };\n\n  const handleOptionalChange = (row: DataType) => (checked: boolean) => {\n    const newData = [...dataSource];\n    const index = newData.findIndex((item) => row.key === item.key);\n    const item = newData[index];\n    newData.splice(index, 1, {\n      ...item,\n      optional: checked,\n    });\n    setDataSource(newData);\n  };\n\n  useImperativeHandle(\n    ref,\n    () => {\n      return dataSource\n        .filter((x) => x.variable.trim() !== '')\n        .map((x) => ({ key: x.variable, optional: x.optional }));\n    },\n    [dataSource],\n  );\n\n  const columns: TableProps<DataType>['columns'] = [\n    {\n      title: t('key'),\n      dataIndex: 'variable',\n      key: 'variable',\n      onCell: (record: DataType) => ({\n        record,\n        editable: true,\n        dataIndex: 'variable',\n        title: 'key',\n        handleSave,\n      }),\n    },\n    {\n      title: t('optional'),\n      dataIndex: 'optional',\n      key: 'optional',\n      width: 40,\n      align: 'center',\n      render(text, record) {\n        return (\n          <Switch\n            size=\"small\"\n            checked={text}\n            onChange={handleOptionalChange(record)}\n          />\n        );\n      },\n    },\n    {\n      title: t('operation'),\n      dataIndex: 'operation',\n      width: 30,\n      key: 'operation',\n      align: 'center',\n      render(_, record) {\n        return <DeleteOutlined onClick={handleRemove(record.key)} />;\n      },\n    },\n  ];\n\n  useEffect(() => {\n    setDataSource(parameters);\n  }, [parameters]);\n\n  return (\n    <section\n      className={classNames({\n        [styles.segmentedHidden]: !show,\n      })}\n    >\n      <Form.Item\n        label={t('system')}\n        rules={[{ required: true, message: t('systemMessage') }]}\n        tooltip={t('systemTip')}\n        name={['prompt_config', 'system']}\n        initialValue={t('systemInitialValue')}\n      >\n        <Input.TextArea autoSize={{ maxRows: 8, minRows: 5 }} />\n      </Form.Item>\n      <Divider></Divider>\n      <SimilaritySlider isTooltipShown></SimilaritySlider>\n      <Form.Item<FieldType>\n        label={t('topN')}\n        name={'top_n'}\n        initialValue={8}\n        tooltip={t('topNTip')}\n      >\n        <Slider max={30} />\n      </Form.Item>\n      <Rerank></Rerank>\n      <section className={classNames(styles.variableContainer)}>\n        <Row align={'middle'} justify=\"end\">\n          <Col span={9} className={styles.variableAlign}>\n            <label className={styles.variableLabel}>\n              {t('variable')}\n              <Tooltip title={t('variableTip')}>\n                <QuestionCircleOutlined className={styles.variableIcon} />\n              </Tooltip>\n            </label>\n          </Col>\n          <Col span={15} className={styles.variableAlign}>\n            <Button size=\"small\" onClick={handleAdd}>\n              {t('add')}\n            </Button>\n          </Col>\n        </Row>\n        {dataSource.length > 0 && (\n          <Row>\n            <Col span={7}> </Col>\n            <Col span={17}>\n              <Table\n                dataSource={dataSource}\n                columns={columns}\n                rowKey={'key'}\n                className={styles.variableTable}\n                components={components}\n                rowClassName={() => styles.editableRow}\n              />\n            </Col>\n          </Row>\n        )}\n      </section>\n    </section>\n  );\n};\n\nexport default forwardRef(PromptEngine);\n","import { ReactComponent as ChatConfigurationAtom } from '@/assets/svg/chat-configuration-atom.svg';\nimport { IModalManagerChildrenProps } from '@/components/modal-manager';\nimport {\n  ModelVariableType,\n  settledModelVariableMap,\n} from '@/constants/knowledge';\nimport { IDialog } from '@/interfaces/database/chat';\nimport { Divider, Flex, Form, Modal, Segmented, UploadFile } from 'antd';\nimport { SegmentedValue } from 'antd/es/segmented';\nimport camelCase from 'lodash/camelCase';\nimport omit from 'lodash/omit';\nimport { useEffect, useRef, useState } from 'react';\nimport { variableEnabledFieldMap } from '../constants';\nimport { IPromptConfigParameters } from '../interface';\nimport { excludeUnEnabledVariables } from '../utils';\nimport AssistantSetting from './assistant-setting';\nimport { useFetchLlmModelOnVisible, useFetchModelId } from './hooks';\nimport ModelSetting from './model-setting';\nimport PromptEngine from './prompt-engine';\n\nimport { useTranslate } from '@/hooks/commonHooks';\nimport styles from './index.less';\n\nconst layout = {\n  labelCol: { span: 9 },\n  wrapperCol: { span: 15 },\n};\n\nconst validateMessages = {\n  required: '${label} is required!',\n  types: {\n    email: '${label} is not a valid email!',\n    number: '${label} is not a valid number!',\n  },\n  number: {\n    range: '${label} must be between ${min} and ${max}',\n  },\n};\n\nenum ConfigurationSegmented {\n  AssistantSetting = 'Assistant Setting',\n  PromptEngine = 'Prompt Engine',\n  ModelSetting = 'Model Setting',\n}\n\nconst segmentedMap = {\n  [ConfigurationSegmented.AssistantSetting]: AssistantSetting,\n  [ConfigurationSegmented.ModelSetting]: ModelSetting,\n  [ConfigurationSegmented.PromptEngine]: PromptEngine,\n};\n\ninterface IProps extends IModalManagerChildrenProps {\n  initialDialog: IDialog;\n  loading: boolean;\n  onOk: (dialog: IDialog) => void;\n  clearDialog: () => void;\n}\n\nconst ChatConfigurationModal = ({\n  visible,\n  hideModal,\n  initialDialog,\n  loading,\n  onOk,\n  clearDialog,\n}: IProps) => {\n  const [form] = Form.useForm();\n\n  const [value, setValue] = useState<ConfigurationSegmented>(\n    ConfigurationSegmented.AssistantSetting,\n  );\n  const promptEngineRef = useRef<Array<IPromptConfigParameters>>([]);\n  const modelId = useFetchModelId(visible);\n  const { t } = useTranslate('chat');\n\n  const handleOk = async () => {\n    const values = await form.validateFields();\n    const nextValues: any = omit(values, [\n      ...Object.keys(variableEnabledFieldMap),\n      'parameters',\n      ...excludeUnEnabledVariables(values),\n    ]);\n    const emptyResponse = nextValues.prompt_config?.empty_response ?? '';\n\n    const fileList = values.icon;\n    let icon;\n\n    if (Array.isArray(fileList) && fileList.length > 0) {\n      icon = fileList[0].thumbUrl;\n    }\n\n    const finalValues = {\n      dialog_id: initialDialog.id,\n      ...nextValues,\n      vector_similarity_weight: 1 - nextValues.vector_similarity_weight,\n      prompt_config: {\n        ...nextValues.prompt_config,\n        parameters: promptEngineRef.current,\n        empty_response: emptyResponse,\n      },\n      icon,\n    };\n    onOk(finalValues);\n  };\n\n  const handleCancel = () => {\n    hideModal();\n  };\n\n  const handleSegmentedChange = (val: SegmentedValue) => {\n    setValue(val as ConfigurationSegmented);\n  };\n\n  const handleModalAfterClose = () => {\n    clearDialog();\n    form.resetFields();\n  };\n\n  useFetchLlmModelOnVisible(visible);\n\n  const title = (\n    <Flex gap={16}>\n      <ChatConfigurationAtom></ChatConfigurationAtom>\n      <div>\n        <b>{t('chatConfiguration')}</b>\n        <div className={styles.chatConfigurationDescription}>\n          {t('chatConfigurationDescription')}\n        </div>\n      </div>\n    </Flex>\n  );\n\n  useEffect(() => {\n    if (visible) {\n      const icon = initialDialog.icon;\n      let fileList: UploadFile[] = [];\n\n      if (icon) {\n        fileList = [{ uid: '1', name: 'file', thumbUrl: icon, status: 'done' }];\n      }\n      form.setFieldsValue({\n        ...initialDialog,\n        llm_setting:\n          initialDialog.llm_setting ??\n          settledModelVariableMap[ModelVariableType.Precise],\n        icon: fileList,\n        llm_id: initialDialog.llm_id ?? modelId,\n        vector_similarity_weight:\n          1 - (initialDialog.vector_similarity_weight ?? 0.3),\n      });\n    }\n  }, [initialDialog, form, visible, modelId]);\n\n  return (\n    <Modal\n      title={title}\n      width={688}\n      open={visible}\n      onOk={handleOk}\n      onCancel={handleCancel}\n      confirmLoading={loading}\n      destroyOnClose\n      afterClose={handleModalAfterClose}\n    >\n      <Segmented\n        size={'large'}\n        value={value}\n        onChange={handleSegmentedChange}\n        options={Object.values(ConfigurationSegmented).map((x) => ({\n          label: t(camelCase(x)),\n          value: x,\n        }))}\n        block\n      />\n      <Divider></Divider>\n      <Form\n        {...layout}\n        name=\"nest-messages\"\n        form={form}\n        style={{ maxWidth: 600 }}\n        validateMessages={validateMessages}\n        colon={false}\n      >\n        {Object.entries(segmentedMap).map(([key, Element]) => (\n          <Element\n            key={key}\n            show={key === value}\n            form={form}\n            {...(key === ConfigurationSegmented.ModelSetting\n              ? { initialLlmSetting: initialDialog.llm_setting, visible }\n              : {})}\n            {...(key === ConfigurationSegmented.PromptEngine\n              ? { ref: promptEngineRef }\n              : {})}\n          ></Element>\n        ))}\n      </Form>\n    </Modal>\n  );\n};\n\nexport default ChatConfigurationModal;\n","// extracted by mini-css-extract-plugin\nexport default {\"documentContainer\":\"documentContainer___kWzt7\"};","import {\n  useGetChunkHighlights,\n  useGetDocumentUrl,\n} from '@/hooks/documentHooks';\nimport { IChunk } from '@/interfaces/database/knowledge';\nimport { Skeleton } from 'antd';\nimport { useEffect, useRef, useState } from 'react';\nimport {\n  AreaHighlight,\n  Highlight,\n  IHighlight,\n  PdfHighlighter,\n  PdfLoader,\n  Popup,\n} from 'react-pdf-highlighter';\n\nimport FileError from '@/pages/document-viewer/file-error';\nimport { useCatchDocumentError } from './hooks';\nimport styles from './index.less';\n\ninterface IProps {\n  chunk: IChunk;\n  documentId: string;\n  visible: boolean;\n}\n\nconst HighlightPopup = ({\n  comment,\n}: {\n  comment: { text: string; emoji: string };\n}) =>\n  comment.text ? (\n    <div className=\"Highlight__popup\">\n      {comment.emoji} {comment.text}\n    </div>\n  ) : null;\n\nconst DocumentPreviewer = ({ chunk, documentId, visible }: IProps) => {\n  const getDocumentUrl = useGetDocumentUrl(documentId);\n  const { highlights: state, setWidthAndHeight } = useGetChunkHighlights(chunk);\n  const ref = useRef<(highlight: IHighlight) => void>(() => {});\n  const [loaded, setLoaded] = useState(false);\n  const url = getDocumentUrl();\n  const error = useCatchDocumentError(url);\n\n  const resetHash = () => {};\n\n  useEffect(() => {\n    setLoaded(visible);\n  }, [visible]);\n\n  useEffect(() => {\n    if (state.length > 0 && loaded) {\n      setLoaded(false);\n      ref.current(state[0]);\n    }\n  }, [state, loaded]);\n\n  return (\n    <div className={styles.documentContainer}>\n      <PdfLoader\n        url={url}\n        beforeLoad={<Skeleton active />}\n        workerSrc=\"/pdfjs-dist/pdf.worker.min.js\"\n        errorMessage={<FileError>{error}</FileError>}\n      >\n        {(pdfDocument) => {\n          pdfDocument.getPage(1).then((page) => {\n            const viewport = page.getViewport({ scale: 1 });\n            const width = viewport.width;\n            const height = viewport.height;\n            setWidthAndHeight(width, height);\n          });\n\n          return (\n            <PdfHighlighter\n              pdfDocument={pdfDocument}\n              enableAreaSelection={(event) => event.altKey}\n              onScrollChange={resetHash}\n              scrollRef={(scrollTo) => {\n                ref.current = scrollTo;\n                setLoaded(true);\n              }}\n              onSelectionFinished={() => null}\n              highlightTransform={(\n                highlight,\n                index,\n                setTip,\n                hideTip,\n                viewportToScaled,\n                screenshot,\n                isScrolledTo,\n              ) => {\n                const isTextHighlight = !Boolean(\n                  highlight.content && highlight.content.image,\n                );\n\n                const component = isTextHighlight ? (\n                  <Highlight\n                    isScrolledTo={isScrolledTo}\n                    position={highlight.position}\n                    comment={highlight.comment}\n                  />\n                ) : (\n                  <AreaHighlight\n                    isScrolledTo={isScrolledTo}\n                    highlight={highlight}\n                    onChange={() => {}}\n                  />\n                );\n\n                return (\n                  <Popup\n                    popupContent={<HighlightPopup {...highlight} />}\n                    onMouseOver={(popupContent) =>\n                      setTip(highlight, () => popupContent)\n                    }\n                    onMouseOut={hideTip}\n                    key={index}\n                  >\n                    {component}\n                  </Popup>\n                );\n              }}\n              highlights={state}\n            />\n          );\n        }}\n      </PdfLoader>\n    </div>\n  );\n};\n\nexport default DocumentPreviewer;\n","// extracted by mini-css-extract-plugin\nexport default {\"chatContainer\":\"chatContainer___KnZy3\",\"messageContainer\":\"messageContainer___HpbDk\",\"messageItem\":\"messageItem___Ygyfi\",\"messageItemSection\":\"messageItemSection___iLh5D\",\"messageItemSectionLeft\":\"messageItemSectionLeft___kvNNH\",\"messageItemSectionRight\":\"messageItemSectionRight___VZFy0\",\"messageItemContent\":\"messageItemContent___xlt0U\",\"messageItemContentReverse\":\"messageItemContentReverse___aD08i\",\"messageText\":\"messageText___JiiCK\",\"messageEmpty\":\"messageEmpty___uvA1b\",\"thumbnailImg\":\"thumbnailImg___q5qBr\",\"messageItemLeft\":\"messageItemLeft___o3kLO\",\"messageItemRight\":\"messageItemRight___pLPv7\"};","import { ReactComponent as AssistantIcon } from '@/assets/svg/assistant.svg';\nimport NewDocumentLink from '@/components/new-document-link';\nimport DocumentPreviewer from '@/components/pdf-previewer';\nimport { MessageType } from '@/constants/chat';\nimport { useSelectFileThumbnails } from '@/hooks/knowledgeHook';\nimport { useSelectUserInfo } from '@/hooks/userSettingHook';\nimport { IReference, Message } from '@/interfaces/database/chat';\nimport { IChunk } from '@/interfaces/database/knowledge';\nimport { Avatar, Button, Drawer, Flex, Input, List, Spin } from 'antd';\nimport classNames from 'classnames';\nimport { useMemo } from 'react';\nimport {\n  useClickDrawer,\n  useFetchConversationOnMount,\n  useGetFileIcon,\n  useGetSendButtonDisabled,\n  useSelectConversationLoading,\n  useSendMessage,\n} from '../hooks';\nimport MarkdownContent from '../markdown-content';\n\nimport SvgIcon from '@/components/svg-icon';\nimport { useTranslate } from '@/hooks/commonHooks';\nimport { useGetDocumentUrl } from '@/hooks/documentHooks';\nimport { getExtension, isPdf } from '@/utils/documentUtils';\nimport { buildMessageItemReference } from '../utils';\nimport styles from './index.less';\n\nconst MessageItem = ({\n  item,\n  reference,\n  loading = false,\n  clickDocumentButton,\n}: {\n  item: Message;\n  reference: IReference;\n  loading?: boolean;\n  clickDocumentButton: (documentId: string, chunk: IChunk) => void;\n}) => {\n  const userInfo = useSelectUserInfo();\n  const fileThumbnails = useSelectFileThumbnails();\n  const getDocumentUrl = useGetDocumentUrl();\n  const { t } = useTranslate('chat');\n\n  const isAssistant = item.role === MessageType.Assistant;\n\n  const referenceDocumentList = useMemo(() => {\n    return reference?.doc_aggs ?? [];\n  }, [reference?.doc_aggs]);\n\n  const content = useMemo(() => {\n    let text = item.content;\n    if (text === '') {\n      text = t('searching');\n    }\n    return loading ? text?.concat('~~2$$') : text;\n  }, [item.content, loading, t]);\n\n  return (\n    <div\n      className={classNames(styles.messageItem, {\n        [styles.messageItemLeft]: item.role === MessageType.Assistant,\n        [styles.messageItemRight]: item.role === MessageType.User,\n      })}\n    >\n      <section\n        className={classNames(styles.messageItemSection, {\n          [styles.messageItemSectionLeft]: item.role === MessageType.Assistant,\n          [styles.messageItemSectionRight]: item.role === MessageType.User,\n        })}\n      >\n        <div\n          className={classNames(styles.messageItemContent, {\n            [styles.messageItemContentReverse]: item.role === MessageType.User,\n          })}\n        >\n          {item.role === MessageType.User ? (\n            <Avatar\n              size={40}\n              src={\n                userInfo.avatar\n              }\n            />\n          ) : (\n            <AssistantIcon></AssistantIcon>\n          )}\n          <Flex vertical gap={8} flex={1}>\n            <b>{isAssistant ? '' : userInfo.nickname}</b>\n            <div className={styles.messageText}>\n              <MarkdownContent\n                content={content}\n                reference={reference}\n                clickDocumentButton={clickDocumentButton}\n              ></MarkdownContent>\n            </div>\n            {isAssistant && referenceDocumentList.length > 0 && (\n              <List\n                bordered\n                dataSource={referenceDocumentList}\n                renderItem={(item) => {\n                  const fileThumbnail = fileThumbnails[item.doc_id];\n                  const fileExtension = getExtension(item.doc_name);\n                  return (\n                    <List.Item>\n                      <Flex gap={'small'} align=\"center\">\n                        {fileThumbnail ? (\n                          <img\n                            src={fileThumbnail}\n                            className={styles.thumbnailImg}\n                          ></img>\n                        ) : (\n                          <SvgIcon\n                            name={`file-icon/${fileExtension}`}\n                            width={24}\n                          ></SvgIcon>\n                        )}\n\n                        <NewDocumentLink\n                          link={getDocumentUrl(item.doc_id)}\n                          preventDefault={!isPdf(item.doc_name)}\n                        >\n                          {item.doc_name}\n                        </NewDocumentLink>\n                      </Flex>\n                    </List.Item>\n                  );\n                }}\n              />\n            )}\n          </Flex>\n        </div>\n      </section>\n    </div>\n  );\n};\n\nconst ChatContainer = () => {\n  const {\n    ref,\n    currentConversation: conversation,\n    addNewestConversation,\n    removeLatestMessage,\n    addNewestAnswer,\n  } = useFetchConversationOnMount();\n  const {\n    handleInputChange,\n    handlePressEnter,\n    value,\n    loading: sendLoading,\n  } = useSendMessage(\n    conversation,\n    addNewestConversation,\n    removeLatestMessage,\n    addNewestAnswer,\n  );\n  const { visible, hideModal, documentId, selectedChunk, clickDocumentButton } =\n    useClickDrawer();\n  const disabled = useGetSendButtonDisabled();\n  useGetFileIcon();\n  const loading = useSelectConversationLoading();\n  const { t } = useTranslate('chat');\n\n  return (\n    <>\n      <Flex flex={1} className={styles.chatContainer} vertical>\n        <Flex flex={1} vertical className={styles.messageContainer}>\n          <div>\n            <Spin spinning={loading}>\n              {conversation?.message?.map((message, i) => {\n                return (\n                  <MessageItem\n                    loading={\n                      message.role === MessageType.Assistant &&\n                      sendLoading &&\n                      conversation?.message.length - 1 === i\n                    }\n                    key={message.id}\n                    item={message}\n                    reference={buildMessageItemReference(conversation, message)}\n                    clickDocumentButton={clickDocumentButton}\n                  ></MessageItem>\n                );\n              })}\n            </Spin>\n          </div>\n          <div ref={ref} />\n        </Flex>\n        <Input\n          size=\"large\"\n          placeholder={t('sendPlaceholder')}\n          value={value}\n          disabled={disabled}\n          suffix={\n            <Button\n              type=\"primary\"\n              onClick={handlePressEnter}\n              loading={sendLoading}\n              disabled={disabled}\n            >\n              {t('send')}\n            </Button>\n          }\n          onPressEnter={handlePressEnter}\n          onChange={handleInputChange}\n        />\n      </Flex>\n      <Drawer\n        title=\"Document Previewer\"\n        onClose={hideModal}\n        open={visible}\n        width={'50vw'}\n      >\n        <DocumentPreviewer\n          documentId={documentId}\n          chunk={selectedChunk}\n          visible={visible}\n        ></DocumentPreviewer>\n      </Drawer>\n    </>\n  );\n};\n\nexport default ChatContainer;\n","import {\n  CartesianGrid,\n  Legend,\n  Line,\n  LineChart,\n  ResponsiveContainer,\n  Tooltip,\n  XAxis,\n  YAxis,\n} from 'recharts';\nimport { CategoricalChartProps } from 'recharts/types/chart/generateCategoricalChart';\n\nconst data = [\n  {\n    name: 'Page A',\n    uv: 4000,\n    pv: 2400,\n  },\n  {\n    name: 'Page B',\n    uv: 3000,\n    pv: 1398,\n  },\n  {\n    name: 'Page C',\n    uv: 2000,\n    pv: 9800,\n  },\n  {\n    name: 'Page D',\n    uv: 2780,\n    pv: 3908,\n  },\n  {\n    name: 'Page E',\n    uv: 1890,\n    pv: 4800,\n  },\n  {\n    name: 'Page F',\n    uv: 2390,\n    pv: 3800,\n  },\n  {\n    name: 'Page G',\n    uv: 3490,\n    pv: 4300,\n  },\n];\n\ninterface IProps extends CategoricalChartProps {\n  data?: Array<{ xAxis: string; yAxis: number }>;\n  showLegend?: boolean;\n}\n\nconst RagLineChart = ({ data, showLegend = false }: IProps) => {\n  return (\n    <ResponsiveContainer width=\"100%\" height=\"100%\">\n      <LineChart\n        // width={500}\n        // height={300}\n        data={data}\n        margin={\n          {\n            // top: 5,\n            // right: 30,\n            // left: 20,\n            // bottom: 10,\n          }\n        }\n      >\n        <CartesianGrid strokeDasharray=\"3 3\" />\n        <XAxis dataKey=\"xAxis\" />\n        <YAxis />\n        <Tooltip />\n        {showLegend && <Legend />}\n        <Line\n          type=\"monotone\"\n          dataKey=\"yAxis\"\n          stroke=\"#8884d8\"\n          activeDot={{ r: 8 }}\n        />\n        {/* <Line type=\"monotone\" dataKey=\"uv\" stroke=\"#82ca9d\" /> */}\n      </LineChart>\n    </ResponsiveContainer>\n  );\n};\n\nexport default RagLineChart;\n","import { useTranslate } from '@/hooks/commonHooks';\nimport { CheckOutlined, CopyOutlined } from '@ant-design/icons';\nimport { Tooltip } from 'antd';\nimport { useState } from 'react';\nimport { CopyToClipboard as Clipboard, Props } from 'react-copy-to-clipboard';\n\nconst CopyToClipboard = ({ text }: Props) => {\n  const [copied, setCopied] = useState(false);\n  const { t } = useTranslate('common');\n\n  const handleCopy = () => {\n    setCopied(true);\n    setTimeout(() => {\n      setCopied(false);\n    }, 2000);\n  };\n\n  return (\n    <Tooltip title={copied ? t('copied') : t('copy')}>\n      <Clipboard text={text} onCopy={handleCopy}>\n        {copied ? <CheckOutlined /> : <CopyOutlined />}\n      </Clipboard>\n    </Tooltip>\n  );\n};\n\nexport default CopyToClipboard;\n","import CopyToClipboard from '@/components/copy-to-clipboard';\nimport { useTranslate } from '@/hooks/commonHooks';\nimport { IModalProps } from '@/interfaces/common';\nimport { IToken } from '@/interfaces/database/chat';\nimport { formatDate } from '@/utils/date';\nimport { DeleteOutlined } from '@ant-design/icons';\nimport type { TableProps } from 'antd';\nimport { Button, Modal, Space, Table } from 'antd';\nimport { useOperateApiKey } from '../hooks';\n\nconst ChatApiKeyModal = ({\n  visible,\n  dialogId,\n  hideModal,\n}: IModalProps<any> & { dialogId: string }) => {\n  const { createToken, removeToken, tokenList, listLoading, creatingLoading } =\n    useOperateApiKey(visible, dialogId);\n  const { t } = useTranslate('chat');\n\n  const columns: TableProps<IToken>['columns'] = [\n    {\n      title: 'Token',\n      dataIndex: 'token',\n      key: 'token',\n      render: (text) => <a>{text}</a>,\n    },\n    {\n      title: t('created'),\n      dataIndex: 'create_date',\n      key: 'create_date',\n      render: (text) => formatDate(text),\n    },\n    {\n      title: t('action'),\n      key: 'action',\n      render: (_, record) => (\n        <Space size=\"middle\">\n          <CopyToClipboard text={record.token}></CopyToClipboard>\n          <DeleteOutlined\n            onClick={() => removeToken(record.token, record.tenant_id)}\n          />\n        </Space>\n      ),\n    },\n  ];\n\n  return (\n    <>\n      <Modal\n        title={t('apiKey')}\n        open={visible}\n        onCancel={hideModal}\n        cancelButtonProps={{ style: { display: 'none' } }}\n        style={{ top: 300 }}\n        onOk={hideModal}\n        width={'50vw'}\n      >\n        <Table\n          columns={columns}\n          dataSource={tokenList}\n          rowKey={'token'}\n          loading={listLoading}\n        />\n        <Button onClick={createToken} loading={creatingLoading}>\n          {t('createNewKey')}\n        </Button>\n      </Modal>\n    </>\n  );\n};\n\nexport default ChatApiKeyModal;\n","import Markdown from 'react-markdown';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nimport remarkGfm from 'remark-gfm';\n\nconst HightLightMarkdown = ({\n  children,\n}: {\n  children: string | null | undefined;\n}) => {\n  return (\n    <Markdown\n      remarkPlugins={[remarkGfm]}\n      components={\n        {\n          code(props: any) {\n            const { children, className, node, ...rest } = props;\n            const match = /language-(\\w+)/.exec(className || '');\n            return match ? (\n              <SyntaxHighlighter {...rest} PreTag=\"div\" language={match[1]}>\n                {String(children).replace(/\\n$/, '')}\n              </SyntaxHighlighter>\n            ) : (\n              <code {...rest} className={className}>\n                {children}\n              </code>\n            );\n          },\n        } as any\n      }\n    >\n      {children}\n    </Markdown>\n  );\n};\n\nexport default HightLightMarkdown;\n","// extracted by mini-css-extract-plugin\nexport default {\"codeCard\":\"codeCard___lyM60\",\"codeText\":\"codeText___yCTO5\"};","import CopyToClipboard from '@/components/copy-to-clipboard';\nimport HightLightMarkdown from '@/components/highlight-markdown';\nimport { useTranslate } from '@/hooks/commonHooks';\nimport { IModalProps } from '@/interfaces/common';\nimport { Card, Modal, Tabs, TabsProps } from 'antd';\nimport styles from './index.less';\n\nconst EmbedModal = ({\n  visible,\n  hideModal,\n  token = '',\n}: IModalProps<any> & { token: string }) => {\n  const { t } = useTranslate('chat');\n\n  const text = `\n  ~~~ html\n  <iframe\n  src=\"${location.origin}/chat/share?shared_id=${token}\"\n  style=\"width: 100%; height: 100%; min-height: 600px\"\n  frameborder=\"0\"\n>\n</iframe>\n~~~\n  `;\n\n  const items: TabsProps['items'] = [\n    {\n      key: '1',\n      label: t('fullScreenTitle'),\n      children: (\n        <Card\n          title={t('fullScreenDescription')}\n          extra={<CopyToClipboard text={text}></CopyToClipboard>}\n          className={styles.codeCard}\n        >\n          <HightLightMarkdown>{text}</HightLightMarkdown>\n        </Card>\n      ),\n    },\n    {\n      key: '2',\n      label: t('partialTitle'),\n      children: t('comingSoon'),\n    },\n    {\n      key: '3',\n      label: t('extensionTitle'),\n      children: t('comingSoon'),\n    },\n  ];\n\n  const onChange = (key: string) => {\n    console.log(key);\n  };\n\n  return (\n    <Modal\n      title={t('embedModalTitle')}\n      open={visible}\n      style={{ top: 300 }}\n      width={'50vw'}\n      onOk={hideModal}\n      onCancel={hideModal}\n    >\n      <Tabs defaultActiveKey=\"1\" items={items} onChange={onChange} />\n    </Modal>\n  );\n};\n\nexport default EmbedModal;\n","// extracted by mini-css-extract-plugin\nexport default {\"chartWrapper\":\"chartWrapper___p8Zu6\",\"chartItem\":\"chartItem___wdoO0\",\"chartLabel\":\"chartLabel___gooI4\",\"linkText\":\"linkText___wp54V\"};","import LineChart from '@/components/line-chart';\nimport { useSetModalState, useTranslate } from '@/hooks/commonHooks';\nimport { IModalProps } from '@/interfaces/common';\nimport { IDialog, IStats } from '@/interfaces/database/chat';\nimport { formatDate } from '@/utils/date';\nimport { Button, Card, DatePicker, Flex, Modal, Space, Typography } from 'antd';\nimport { RangePickerProps } from 'antd/es/date-picker';\nimport dayjs from 'dayjs';\nimport camelCase from 'lodash/camelCase';\nimport ChatApiKeyModal from '../chat-api-key-modal';\nimport EmbedModal from '../embed-modal';\nimport {\n  useFetchStatsOnMount,\n  usePreviewChat,\n  useSelectChartStatsList,\n  useShowEmbedModal,\n} from '../hooks';\nimport styles from './index.less';\n\nconst { Paragraph } = Typography;\nconst { RangePicker } = DatePicker;\n\nconst StatsLineChart = ({ statsType }: { statsType: keyof IStats }) => {\n  const { t } = useTranslate('chat');\n  const chartList = useSelectChartStatsList();\n  const list =\n    chartList[statsType]?.map((x) => ({\n      ...x,\n      xAxis: formatDate(x.xAxis),\n    })) ?? [];\n\n  return (\n    <div className={styles.chartItem}>\n      <b className={styles.chartLabel}>{t(camelCase(statsType))}</b>\n      <LineChart data={list}></LineChart>\n    </div>\n  );\n};\n\nconst ChatOverviewModal = ({\n  visible,\n  hideModal,\n  dialog,\n}: IModalProps<any> & { dialog: IDialog }) => {\n  const { t } = useTranslate('chat');\n  const {\n    visible: apiKeyVisible,\n    hideModal: hideApiKeyModal,\n    showModal: showApiKeyModal,\n  } = useSetModalState();\n  const {\n    embedVisible,\n    hideEmbedModal,\n    showEmbedModal,\n    embedToken,\n    errorContextHolder,\n  } = useShowEmbedModal(dialog.id);\n\n  const { pickerValue, setPickerValue } = useFetchStatsOnMount(visible);\n\n  const disabledDate: RangePickerProps['disabledDate'] = (current) => {\n    return current && current > dayjs().endOf('day');\n  };\n\n  const { handlePreview, contextHolder } = usePreviewChat(dialog.id);\n\n  return (\n    <>\n      <Modal\n        title={t('overview')}\n        open={visible}\n        onCancel={hideModal}\n        cancelButtonProps={{ style: { display: 'none' } }}\n        onOk={hideModal}\n        width={'100vw'}\n        okText={t('close', { keyPrefix: 'common' })}\n      >\n        <Flex vertical gap={'middle'}>\n          <Card title={t('backendServiceApi')}>\n            <Flex gap={8} vertical>\n              {t('serviceApiEndpoint')}\n              <Paragraph copyable className={styles.linkText}>\n                {location.origin}\n                /v1/api/\n              </Paragraph>\n            </Flex>\n            <Space size={'middle'}>\n              <Button onClick={showApiKeyModal}>{t('apiKey')}</Button>\n              <a\n                href={\n                  'https://github.com/infiniflow/ragflow/blob/main/docs/references/api.md'\n                }\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                <Button>{t('apiReference')}</Button>\n              </a>\n            </Space>\n          </Card>\n          <Card title={`${dialog.name} Web App`}>\n            <Flex gap={8} vertical>\n              <Space size={'middle'}>\n                <Button onClick={handlePreview}>{t('preview')}</Button>\n                <Button onClick={showEmbedModal}>{t('embedded')}</Button>\n              </Space>\n            </Flex>\n          </Card>\n\n          <Space>\n            <b>{t('dateRange')}</b>\n            <RangePicker\n              disabledDate={disabledDate}\n              value={pickerValue}\n              onChange={setPickerValue}\n              allowClear={false}\n            />\n          </Space>\n          <div className={styles.chartWrapper}>\n            <StatsLineChart statsType={'pv'}></StatsLineChart>\n            <StatsLineChart statsType={'round'}></StatsLineChart>\n            <StatsLineChart statsType={'speed'}></StatsLineChart>\n            <StatsLineChart statsType={'thumb_up'}></StatsLineChart>\n            <StatsLineChart statsType={'tokens'}></StatsLineChart>\n            <StatsLineChart statsType={'uv'}></StatsLineChart>\n          </div>\n        </Flex>\n        <ChatApiKeyModal\n          visible={apiKeyVisible}\n          hideModal={hideApiKeyModal}\n          dialogId={dialog.id}\n        ></ChatApiKeyModal>\n        <EmbedModal\n          token={embedToken}\n          visible={embedVisible}\n          hideModal={hideEmbedModal}\n        ></EmbedModal>\n        {contextHolder}\n        {errorContextHolder}\n      </Modal>\n    </>\n  );\n};\n\nexport default ChatOverviewModal;\n","// extracted by mini-css-extract-plugin\nexport default {\"chatWrapper\":\"chatWrapper___LQ6YY\",\"chatAppWrapper\":\"chatAppWrapper___hrF6r\",\"chatAppContent\":\"chatAppContent___Ri0fp\",\"chatAppCard\":\"chatAppCard___kPbxc\",\"cubeIcon\":\"cubeIcon___zAmbo\",\"chatAppCardSelected\":\"chatAppCardSelected___h9j2W\",\"chatTitleWrapper\":\"chatTitleWrapper___MXbZF\",\"chatTitle\":\"chatTitle___cyXkX\",\"chatTitleContent\":\"chatTitleContent___XsLt3\",\"chatSpin\":\"chatSpin___J9mE8\",\"chatTitleCard\":\"chatTitleCard___Pnbv0\",\"chatTitleCardSelected\":\"chatTitleCardSelected___A8BIt\",\"divider\":\"divider___d5TdM\"};","import { ReactComponent as ChatAppCube } from '@/assets/svg/chat-app-cube.svg';\r\nimport RenameModal from '@/components/rename-modal';\r\nimport {\r\n  CloudOutlined,\r\n  DeleteOutlined,\r\n  EditOutlined,\r\n  PlusOutlined,\r\n} from '@ant-design/icons';\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  Card,\r\n  Divider,\r\n  Dropdown,\r\n  Flex,\r\n  MenuProps,\r\n  Space,\r\n  Spin,\r\n  Tag,\r\n  Typography,\r\n} from 'antd';\r\nimport { MenuItemProps } from 'antd/lib/menu/MenuItem';\r\nimport classNames from 'classnames';\r\nimport { useCallback } from 'react';\r\nimport ChatConfigurationModal from './chat-configuration-modal';\r\nimport ChatContainer from './chat-container';\r\nimport {\r\n  useClickConversationCard,\r\n  useClickDialogCard,\r\n  useDeleteConversation,\r\n  useDeleteDialog,\r\n  useEditDialog,\r\n  useFetchConversationListOnMount,\r\n  useFetchDialogOnMount,\r\n  useGetChatSearchParams,\r\n  useHandleItemHover,\r\n  useRenameConversation,\r\n  useSelectConversationListLoading,\r\n  useSelectDerivedConversationList,\r\n  useSelectDialogListLoading,\r\n  useSelectFirstDialogOnMount,\r\n} from './hooks';\r\n\r\nimport { useSetModalState, useTranslate } from '@/hooks/commonHooks';\r\nimport { useSetSelectedRecord } from '@/hooks/logicHooks';\r\nimport { IDialog } from '@/interfaces/database/chat';\r\nimport ChatOverviewModal from './chat-overview-modal';\r\nimport styles from './index.less';\r\n\r\nconst { Text } = Typography;\r\n\r\nconst Chat = () => {\r\n  const dialogList = useSelectFirstDialogOnMount();\r\n  const { onRemoveDialog } = useDeleteDialog();\r\n  const { onRemoveConversation } = useDeleteConversation();\r\n  const { handleClickDialog } = useClickDialogCard();\r\n  const { handleClickConversation } = useClickConversationCard();\r\n  const { dialogId, conversationId } = useGetChatSearchParams();\r\n  const { list: conversationList, addTemporaryConversation } =\r\n    useSelectDerivedConversationList();\r\n  const { activated, handleItemEnter, handleItemLeave } = useHandleItemHover();\r\n  const {\r\n    activated: conversationActivated,\r\n    handleItemEnter: handleConversationItemEnter,\r\n    handleItemLeave: handleConversationItemLeave,\r\n  } = useHandleItemHover();\r\n  const {\r\n    conversationRenameLoading,\r\n    initialConversationName,\r\n    onConversationRenameOk,\r\n    conversationRenameVisible,\r\n    hideConversationRenameModal,\r\n    showConversationRenameModal,\r\n  } = useRenameConversation();\r\n  const {\r\n    dialogSettingLoading,\r\n    initialDialog,\r\n    onDialogEditOk,\r\n    dialogEditVisible,\r\n    clearDialog,\r\n    hideDialogEditModal,\r\n    showDialogEditModal,\r\n  } = useEditDialog();\r\n  const dialogLoading = useSelectDialogListLoading();\r\n  const conversationLoading = useSelectConversationListLoading();\r\n  const { t } = useTranslate('chat');\r\n  const {\r\n    visible: overviewVisible,\r\n    hideModal: hideOverviewModal,\r\n    showModal: showOverviewModal,\r\n  } = useSetModalState();\r\n  const { currentRecord, setRecord } = useSetSelectedRecord<IDialog>();\r\n\r\n  useFetchDialogOnMount(dialogId, true);\r\n\r\n  const handleAppCardEnter = (id: string) => () => {\r\n    handleItemEnter(id);\r\n  };\r\n\r\n  const handleConversationCardEnter = (id: string) => () => {\r\n    handleConversationItemEnter(id);\r\n  };\r\n\r\n  const handleShowChatConfigurationModal =\r\n    (dialogId?: string): any =>\r\n    (info: any) => {\r\n      info?.domEvent?.preventDefault();\r\n      info?.domEvent?.stopPropagation();\r\n      showDialogEditModal(dialogId);\r\n    };\r\n\r\n  const handleRemoveDialog =\r\n    (dialogId: string): MenuItemProps['onClick'] =>\r\n    ({ domEvent }) => {\r\n      domEvent.preventDefault();\r\n      domEvent.stopPropagation();\r\n      onRemoveDialog([dialogId]);\r\n    };\r\n\r\n  const handleShowOverviewModal =\r\n    (dialog: IDialog): any =>\r\n    (info: any) => {\r\n      info?.domEvent?.preventDefault();\r\n      info?.domEvent?.stopPropagation();\r\n      setRecord(dialog);\r\n      showOverviewModal();\r\n    };\r\n\r\n  const handleRemoveConversation =\r\n    (conversationId: string): MenuItemProps['onClick'] =>\r\n    ({ domEvent }) => {\r\n      domEvent.preventDefault();\r\n      domEvent.stopPropagation();\r\n      onRemoveConversation([conversationId]);\r\n    };\r\n\r\n  const handleShowConversationRenameModal =\r\n    (conversationId: string): MenuItemProps['onClick'] =>\r\n    ({ domEvent }) => {\r\n      domEvent.preventDefault();\r\n      domEvent.stopPropagation();\r\n      showConversationRenameModal(conversationId);\r\n    };\r\n\r\n  const handleDialogCardClick = (dialogId: string) => () => {\r\n    handleClickDialog(dialogId);\r\n  };\r\n\r\n  const handleConversationCardClick = (dialogId: string) => () => {\r\n    handleClickConversation(dialogId);\r\n  };\r\n\r\n  const handleCreateTemporaryConversation = useCallback(() => {\r\n    addTemporaryConversation();\r\n  }, [addTemporaryConversation]);\r\n\r\n  const items: MenuProps['items'] = [\r\n    {\r\n      key: '1',\r\n      onClick: handleCreateTemporaryConversation,\r\n      label: (\r\n        <Space>\r\n          <PlusOutlined />\r\n          {t('newChat')}\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const buildAppItems = (dialog: IDialog) => {\r\n    const dialogId = dialog.id;\r\n\r\n    const appItems: MenuProps['items'] = [\r\n      {\r\n        key: '1',\r\n        onClick: handleShowChatConfigurationModal(dialogId),\r\n        label: (\r\n          <Space>\r\n            <EditOutlined />\r\n            {t('edit', { keyPrefix: 'common' })}\r\n          </Space>\r\n        ),\r\n      },\r\n      { type: 'divider' },\r\n      {\r\n        key: '2',\r\n        onClick: handleRemoveDialog(dialogId),\r\n        label: (\r\n          <Space>\r\n            <DeleteOutlined />\r\n            {t('delete', { keyPrefix: 'common' })}\r\n          </Space>\r\n        ),\r\n      },\r\n      // { type: 'divider' },\r\n      // {\r\n      //   key: '3',\r\n      //   onClick: handleShowOverviewModal(dialog),\r\n      //   label: (\r\n      //     <Space>\r\n      //       <CloudOutlined />\r\n      //       {t('overview')}\r\n      //     </Space>\r\n      //   ),\r\n      // },\r\n    ];\r\n\r\n    return appItems;\r\n  };\r\n\r\n  const buildConversationItems = (conversationId: string) => {\r\n    const appItems: MenuProps['items'] = [\r\n      {\r\n        key: '1',\r\n        onClick: handleShowConversationRenameModal(conversationId),\r\n        label: (\r\n          <Space>\r\n            <EditOutlined />\r\n            {t('rename', { keyPrefix: 'common' })}\r\n          </Space>\r\n        ),\r\n      },\r\n      { type: 'divider' },\r\n      {\r\n        key: '2',\r\n        onClick: handleRemoveConversation(conversationId),\r\n        label: (\r\n          <Space>\r\n            <DeleteOutlined />\r\n            {t('delete', { keyPrefix: 'common' })}\r\n          </Space>\r\n        ),\r\n      },\r\n    ];\r\n\r\n    return appItems;\r\n  };\r\n\r\n  useFetchConversationListOnMount();\r\n\r\n  return (\r\n    <Flex className={styles.chatWrapper}>\r\n      <Flex className={styles.chatAppWrapper}>\r\n        <Flex flex={1} vertical>\r\n          <Button type=\"primary\" onClick={handleShowChatConfigurationModal()}>\r\n            {t('createAssistant')}\r\n          </Button>\r\n          <Divider></Divider>\r\n          <Flex className={styles.chatAppContent} vertical gap={10}>\r\n            <Spin spinning={dialogLoading} wrapperClassName={styles.chatSpin}>\r\n              {dialogList.map((x) => (\r\n                <Card\r\n                  key={x.id}\r\n                  hoverable\r\n                  className={classNames(styles.chatAppCard, {\r\n                    [styles.chatAppCardSelected]: dialogId === x.id,\r\n                  })}\r\n                  onMouseEnter={handleAppCardEnter(x.id)}\r\n                  onMouseLeave={handleItemLeave}\r\n                  onClick={handleDialogCardClick(x.id)}\r\n                >\r\n                  <Flex justify=\"space-between\" align=\"center\">\r\n                    <Space size={15}>\r\n                      <Avatar src={x.icon} shape={'square'} />\r\n                      <section>\r\n                        <b>\r\n                          <Text\r\n                            ellipsis={{ tooltip: x.name }}\r\n                            style={{ width: 130 }}\r\n                          >\r\n                            {x.name}\r\n                          </Text>\r\n                        </b>\r\n                        <div>{x.description}</div>\r\n                      </section>\r\n                    </Space>\r\n                    {activated === x.id && (\r\n                      <section>\r\n                        <Dropdown menu={{ items: buildAppItems(x) }}>\r\n                          <ChatAppCube\r\n                            className={styles.cubeIcon}\r\n                          ></ChatAppCube>\r\n                        </Dropdown>\r\n                      </section>\r\n                    )}\r\n                  </Flex>\r\n                </Card>\r\n              ))}\r\n            </Spin>\r\n          </Flex>\r\n        </Flex>\r\n      </Flex>\r\n      <Divider type={'vertical'} className={styles.divider}></Divider>\r\n      <Flex className={styles.chatTitleWrapper}>\r\n        <Flex flex={1} vertical>\r\n          <Flex\r\n            justify={'space-between'}\r\n            align=\"center\"\r\n            className={styles.chatTitle}\r\n          >\r\n            <Space>\r\n              <b>{t('chat')}</b>\r\n              <Tag>{conversationList.length}</Tag>\r\n            </Space>\r\n            <Dropdown menu={{ items }}>\r\n              {/* <FormOutlined /> */}\r\n              <PlusOutlined />\r\n            </Dropdown>\r\n          </Flex>\r\n          <Divider></Divider>\r\n          <Flex vertical gap={10} className={styles.chatTitleContent}>\r\n            <Spin\r\n              spinning={conversationLoading}\r\n              wrapperClassName={styles.chatSpin}\r\n            >\r\n              {conversationList.map((x) => (\r\n                <Card\r\n                  key={x.id}\r\n                  hoverable\r\n                  onClick={handleConversationCardClick(x.id)}\r\n                  onMouseEnter={handleConversationCardEnter(x.id)}\r\n                  onMouseLeave={handleConversationItemLeave}\r\n                  className={classNames(styles.chatTitleCard, {\r\n                    [styles.chatTitleCardSelected]: x.id === conversationId,\r\n                  })}\r\n                >\r\n                  <Flex justify=\"space-between\" align=\"center\">\r\n                    <div>\r\n                      <Text\r\n                        ellipsis={{ tooltip: x.name }}\r\n                        style={{ width: 150 }}\r\n                      >\r\n                        {x.name}\r\n                      </Text>\r\n                    </div>\r\n                    {conversationActivated === x.id && x.id !== '' && (\r\n                      <section>\r\n                        <Dropdown\r\n                          menu={{ items: buildConversationItems(x.id) }}\r\n                        >\r\n                          <ChatAppCube\r\n                            className={styles.cubeIcon}\r\n                          ></ChatAppCube>\r\n                        </Dropdown>\r\n                      </section>\r\n                    )}\r\n                  </Flex>\r\n                </Card>\r\n              ))}\r\n            </Spin>\r\n          </Flex>\r\n        </Flex>\r\n      </Flex>\r\n      <Divider type={'vertical'} className={styles.divider}></Divider>\r\n      <ChatContainer></ChatContainer>\r\n      <ChatConfigurationModal\r\n        visible={dialogEditVisible}\r\n        initialDialog={initialDialog}\r\n        showModal={showDialogEditModal}\r\n        hideModal={hideDialogEditModal}\r\n        loading={dialogSettingLoading}\r\n        onOk={onDialogEditOk}\r\n        clearDialog={clearDialog}\r\n      ></ChatConfigurationModal>\r\n      <RenameModal\r\n        visible={conversationRenameVisible}\r\n        hideModal={hideConversationRenameModal}\r\n        onOk={onConversationRenameOk}\r\n        initialName={initialConversationName}\r\n        loading={conversationRenameLoading}\r\n      ></RenameModal>\r\n      <ChatOverviewModal\r\n        visible={overviewVisible}\r\n        hideModal={hideOverviewModal}\r\n        dialog={currentRecord}\r\n      ></ChatOverviewModal>\r\n    </Flex>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"errorWrapper\":\"errorWrapper___QfVXQ\"};","import { Alert, Flex } from 'antd';\n\nimport { useTranslate } from '@/hooks/commonHooks';\nimport React from 'react';\nimport styles from './index.less';\n\nconst FileError = ({ children }: React.PropsWithChildren) => {\n  const { t } = useTranslate('fileManager');\n  return (\n    <Flex align=\"center\" justify=\"center\" className={styles.errorWrapper}>\n      <Alert\n        type=\"error\"\n        message={<h2>{children || t('fileError')}</h2>}\n      ></Alert>\n    </Flex>\n  );\n};\n\nexport default FileError;\n","import dayjs from 'dayjs';\r\n\r\nexport function today() {\r\n  return formatDate(dayjs());\r\n}\r\n\r\nexport function lastDay() {\r\n  return formatDate(dayjs().subtract(1, 'days'));\r\n}\r\n\r\nexport function lastWeek() {\r\n  return formatDate(dayjs().subtract(1, 'weeks'));\r\n}\r\n\r\nexport function formatDate(date: any) {\r\n  if (!date) {\r\n    return '';\r\n  }\r\n  return dayjs(date).format('DD/MM/YYYY HH:mm:ss');\r\n}\r\n"],"names":["useCatchDocumentError","url","_useState","useState","_useState2","_slicedToArray","error","setError","fetchDocument","useCallback","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get","data","wrap","_context","prev","next","axios","get","sent","retcode","retmsg","stop","useEffect","RerankItem","_useTranslate","useTranslate","t","allOptions","useSelectLlmOptionsByModelType","_jsx","Form","Item","label","name","tooltip","children","Select","options","LlmModelType","Rerank","allowClear","placeholder","_useTranslate2","_jsxs","_Fragment","noStyle","dependencies","_ref","getFieldValue","rerankId","initialValue","Slider","max","min","SimilaritySlider","_ref$isTooltipShown","isTooltipShown","step","useFetchLlmList","modelType","isOnMountFetching","arguments","length","undefined","dispatch","useDispatch","fetchLlmList","type","payload","model_type","useSelectLlmInfo","llmInfo","useSelector","state","settingModel","useSelectLlmOptions","embeddingModelOptions","useMemo","Object","entries","map","_ref2","key","value","x","llm_name","disabled","available","groupOptionsByModelType","filter","_ref3","_ref4","some","includes","_ref5","_ref6","_defineProperty","Chat","Embedding","Image2text","Speech2text","useSelectLlmFactoryList","factoryList","useSelectMyLlmList","myLlmList","useFetchLlmFactoryListOnMount","list","currentList","keys","every","y","sortLLmFactoryListBySpecifiedOrder","fetchLlmFactoryList","useFetchMyLlmListOnMount","llmList","_ref8","_factoryList$find$log","_factoryList$find","_ref9","_objectSpread","logo","find","fetchMyLlmList","useSaveApiKey","saveApiKey","savingParams","useSaveTenantInfo","saveTenantInfo","useAddLlm","addLlm","requestBody","useDeleteLlm","deleteLlm","__defProp","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","obj","__spreadValues","a","b","prop","SvgChatAppCube","props","RenameModal","visible","hideModal","loading","initialName","onOk","_Form$useForm","useForm","_Form$useForm2","form","handleOk","ret","validateFields","abrupt","apply","handleCancel","onFinish","values","console","log","onFinishFailed","errorInfo","setFieldValue","Modal","title","open","onCancel","okButtonProps","confirmLoading","labelCol","span","wrapperCol","style","maxWidth","autoComplete","rules","required","message","Input","SvgChatConfigurationAtom","AssistantSetting","show","_useFetchKnowledgeLis","useFetchKnowledgeList","knowledgeList","knowledgeOptions","id","normFile","e","Array","isArray","fileList","uploadButtion","border","background","PlusOutlined","marginTop","keyPrefix","className","classNames","styles","segmentedHidden","valuePropName","getValueFromEvent","Upload","listType","maxCount","showUploadList","showPreviewIcon","showRemoveIcon","display","TextArea","autoSize","minRows","Switch","mode","useFetchModelId","_tenantInfo$llm_id","fetchTenantInfo","useFetchTenantInfo","tenantInfo","useSelectTenantInfo","llm_id","useFetchLlmModelOnVisible","ModelSetting","initialLlmSetting","parameterOptions","ModelVariableType","camelCase","modelOptions","handleParametersChange","variable","settledModelVariableMap","setFieldsValue","llm_setting","variableEnabledFieldMap","reduce","pre","field","showSearch","Divider","Precise","onChange","Flex","gap","align","size","flex","variableSlider","InputNumber","sliderInputNumber","EditableContext","React","EditableRow","index","_objectWithoutProperties","_excluded","component","Provider","EditableCell","editable","dataIndex","record","handleSave","restProps","_excluded2","editing","setEditing","inputRef","useRef","useContext","current","focus","toggleEdit","save","t0","childNode","margin","concat","ref","onPressEnter","onBlur","paddingRight","onClick","PromptEngine","dataSource","setDataSource","parameters","useSelectPromptConfigParameters","components","body","row","cell","handleRemove","newData","item","_toConsumableArray","findIndex","splice","handleAdd","uuid","optional","handleOptionalChange","checked","useImperativeHandle","trim","columns","onCell","width","render","text","_","DeleteOutlined","maxRows","variableContainer","Row","justify","Col","variableAlign","variableLabel","Tooltip","QuestionCircleOutlined","variableIcon","Button","Table","rowKey","variableTable","rowClassName","editableRow","forwardRef","layout","validateMessages","types","email","number","range","ConfigurationSegmented","segmentedMap","ChatConfigurationModal","initialDialog","clearDialog","setValue","promptEngineRef","modelId","_nextValues$prompt_co","_nextValues$prompt_co2","nextValues","emptyResponse","icon","finalValues","omit","excludeUnEnabledVariables","prompt_config","empty_response","thumbUrl","dialog_id","vector_similarity_weight","handleSegmentedChange","val","handleModalAfterClose","resetFields","ChatConfigurationAtom","chatConfigurationDescription","_initialDialog$llm_se","_initialDialog$llm_id","_initialDialog$vector","uid","status","destroyOnClose","afterClose","Segmented","block","colon","Element","HighlightPopup","comment","emoji","DocumentPreviewer","chunk","documentId","getDocumentUrl","useGetDocumentUrl","_useGetChunkHighlight","useGetChunkHighlights","highlights","setWidthAndHeight","loaded","setLoaded","resetHash","documentContainer","PdfLoader","beforeLoad","Skeleton","active","workerSrc","errorMessage","FileError","pdfDocument","getPage","then","page","viewport","getViewport","scale","height","PdfHighlighter","enableAreaSelection","event","altKey","onScrollChange","scrollRef","scrollTo","onSelectionFinished","highlightTransform","highlight","setTip","hideTip","viewportToScaled","screenshot","isScrolledTo","isTextHighlight","content","image","Highlight","position","AreaHighlight","Popup","popupContent","onMouseOver","onMouseOut","MessageItem","reference","_ref$loading","clickDocumentButton","userInfo","useSelectUserInfo","fileThumbnails","useSelectFileThumbnails","isAssistant","role","MessageType","Assistant","referenceDocumentList","_reference$doc_aggs","doc_aggs","_text","messageItem","messageItemLeft","messageItemRight","User","messageItemSection","messageItemSectionLeft","messageItemSectionRight","messageItemContent","messageItemContentReverse","Avatar","src","avatar","AssistantIcon","vertical","nickname","messageText","MarkdownContent","List","bordered","renderItem","fileThumbnail","doc_id","fileExtension","getExtension","doc_name","thumbnailImg","SvgIcon","NewDocumentLink","link","preventDefault","isPdf","ChatContainer","_conversation$message","_useFetchConversation","useFetchConversationOnMount","conversation","currentConversation","addNewestConversation","removeLatestMessage","addNewestAnswer","_useSendMessage","useSendMessage","handleInputChange","handlePressEnter","sendLoading","_useClickDrawer","useClickDrawer","selectedChunk","useGetSendButtonDisabled","useGetFileIcon","useSelectConversationLoading","chatContainer","messageContainer","Spin","spinning","i","buildMessageItemReference","suffix","Drawer","onClose","uv","pv","RagLineChart","_ref$showLegend","showLegend","ResponsiveContainer","LineChart","CartesianGrid","strokeDasharray","XAxis","dataKey","YAxis","Legend","Line","stroke","activeDot","r","CopyToClipboard","copied","setCopied","handleCopy","setTimeout","Clipboard","onCopy","CheckOutlined","CopyOutlined","ChatApiKeyModal","dialogId","_useOperateApiKey","useOperateApiKey","createToken","removeToken","tokenList","listLoading","creatingLoading","formatDate","Space","token","tenant_id","cancelButtonProps","top","HightLightMarkdown","Markdown","remarkPlugins","remarkGfm","code","node","rest","match","exec","SyntaxHighlighter","PreTag","language","String","replace","EmbedModal","_ref$token","location","origin","items","Card","extra","codeCard","Tabs","defaultActiveKey","Paragraph","Typography","RangePicker","DatePicker","StatsLineChart","_chartList$statsType$","_chartList$statsType","statsType","chartList","useSelectChartStatsList","xAxis","chartItem","chartLabel","ChatOverviewModal","dialog","_useSetModalState","useSetModalState","apiKeyVisible","hideApiKeyModal","showApiKeyModal","showModal","_useShowEmbedModal","useShowEmbedModal","embedVisible","hideEmbedModal","showEmbedModal","embedToken","errorContextHolder","_useFetchStatsOnMount","useFetchStatsOnMount","pickerValue","setPickerValue","disabledDate","dayjs","endOf","_usePreviewChat","usePreviewChat","handlePreview","contextHolder","okText","copyable","linkText","href","target","rel","chartWrapper","Text","dialogList","useSelectFirstDialogOnMount","_useDeleteDialog","useDeleteDialog","onRemoveDialog","_useDeleteConversatio","useDeleteConversation","onRemoveConversation","_useClickDialogCard","useClickDialogCard","handleClickDialog","_useClickConversation","useClickConversationCard","handleClickConversation","_useGetChatSearchPara","useGetChatSearchParams","conversationId","_useSelectDerivedConv","useSelectDerivedConversationList","conversationList","addTemporaryConversation","_useHandleItemHover","useHandleItemHover","activated","handleItemEnter","handleItemLeave","_useHandleItemHover2","conversationActivated","handleConversationItemEnter","handleConversationItemLeave","_useRenameConversatio","useRenameConversation","conversationRenameLoading","initialConversationName","onConversationRenameOk","conversationRenameVisible","hideConversationRenameModal","showConversationRenameModal","_useEditDialog","useEditDialog","dialogSettingLoading","onDialogEditOk","dialogEditVisible","hideDialogEditModal","showDialogEditModal","dialogLoading","useSelectDialogListLoading","conversationLoading","useSelectConversationListLoading","overviewVisible","hideOverviewModal","showOverviewModal","_useSetSelectedRecord","useSetSelectedRecord","currentRecord","setRecord","useFetchDialogOnMount","handleAppCardEnter","handleConversationCardEnter","handleShowChatConfigurationModal","info","_info$domEvent","_info$domEvent2","domEvent","stopPropagation","handleRemoveDialog","handleShowOverviewModal","_info$domEvent3","_info$domEvent4","handleRemoveConversation","handleShowConversationRenameModal","handleDialogCardClick","handleConversationCardClick","handleCreateTemporaryConversation","buildAppItems","appItems","EditOutlined","buildConversationItems","useFetchConversationListOnMount","chatWrapper","chatAppWrapper","chatAppContent","wrapperClassName","chatSpin","hoverable","chatAppCard","chatAppCardSelected","onMouseEnter","onMouseLeave","shape","ellipsis","description","Dropdown","menu","ChatAppCube","cubeIcon","divider","chatTitleWrapper","chatTitle","Tag","chatTitleContent","chatTitleCard","chatTitleCardSelected","errorWrapper","Alert","today","lastDay","subtract","lastWeek","date","format"],"sourceRoot":""}