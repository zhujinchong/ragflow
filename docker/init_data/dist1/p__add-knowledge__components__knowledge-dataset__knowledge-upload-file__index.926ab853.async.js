"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7903],{86548:function(re,G,e){e.d(G,{Z:function(){return C}});var M=e(87462),w=e(62435),F={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},T=F,j=e(84089),y=function(B,P){return w.createElement(j.Z,(0,M.Z)({},B,{ref:P,icon:T}))},C=w.forwardRef(y)},82182:function(re,G,e){e.d(G,{K2:function(){return m},MA:function(){return c},PX:function(){return v},SD:function(){return H},VJ:function(){return h},aX:function(){return A},l5:function(){return g},qH:function(){return u},tP:function(){return E},w9:function(){return P},wK:function(){return l}});var M=e(97857),w=e.n(M),F=e(5574),T=e.n(F),j=e(2039),y=e(62435),C=e(6589),O=e(65534),B=e(25194),P=function(){var a=(0,C.useSearchParams)(),o=T()(a,1),t=o[0],r=t.get("id");return r||""},l=function(){var a=(0,C.useDispatch)(),o=P(),t=(0,j.I3)(),r=function(I){return function(){return a({type:"kFModel/document_rm",payload:{doc_id:I,kb_id:o}})}},i=function(I){return t({onOk:r(I)})};return{removeDocument:i}},H=function(){var a=(0,C.useDispatch)(),o=(0,O.pE)(),t=o.knowledgeId,r=(0,y.useCallback)(function(i){a({type:"knowledgeModel/getKnowledgeDetail",payload:{kb_id:i}})},[a]);return(0,y.useEffect)(function(){r(t)},[r,t]),r},V=function(){var a=useSelector(function(o){return o.knowledgeModel.knowledge});return a},J=function(){var a,o,t=V();return{defaultParserId:(a=t==null?void 0:t.parser_id)!==null&&a!==void 0?a:"",parserConfig:(o=t==null?void 0:t.parser_config)!==null&&o!==void 0?o:""}},u=function(){var a=(0,C.useDispatch)(),o=(0,j.I3)(),t=(0,y.useCallback)(function(i,n){return function(){return a({type:"chunkModel/rm_chunk",payload:{chunk_ids:i,doc_id:n}})}},[a]),r=(0,y.useCallback)(function(i,n){return o({onOk:t(i,n)})},[t,o]);return{removeChunk:r}},v=function(){var a=(0,C.useDispatch)(),o=P(),t=(0,y.useCallback)(function(){a({type:"kSModel/getKbDetail",payload:{kb_id:o}})},[a,o]);(0,y.useEffect)(function(){t()},[t])},E=function(){var a=(0,C.useSelector)(function(r){return r.knowledgeModel}),o=a.data,t=o===void 0?[]:o;return t},h=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=(0,C.useDispatch)(),t=(0,B.q)("knowledgeModel",["getList"]),r=(0,C.useSelector)(function(D){return D.knowledgeModel}),i=r.data,n=i===void 0?[]:i,I=(0,y.useMemo)(function(){return a?n.filter(function(D){return D.chunk_num>0}):n},[n,a]),Z=(0,y.useCallback)(function(){o({type:"knowledgeModel/getList"})},[o]);return(0,y.useEffect)(function(){Z()},[Z]),{list:I,loading:t,fetchList:Z}},g=function(){var a=(0,C.useSelector)(function(o){return o.kFModel.fileThumbnails});return a},R=function(a){var o=useDispatch(),t=g(),r=useCallback(function(i){o({type:"kFModel/fetch_document_thumbnails",payload:{doc_ids:i.join(",")}})},[o]);return useEffect(function(){a&&r(a)},[a,r]),{fileThumbnails:t,fetchFileThumbnails:r}},c=function(){var a=(0,C.useDispatch)(),o=(0,y.useCallback)(function(t){a({type:"kSModel/updateKb",payload:t})},[a]);return o},m=function(){var a=(0,C.useSelector)(function(o){return o.kSModel.knowledgeDetails});return a},A=function(){var a=(0,C.useDispatch)(),o=P(),t=(0,y.useCallback)(function(r){a({type:"testingModel/testDocumentChunk",payload:w()(w()({},r),{},{kb_id:o})})},[a,o]);return t}},75166:function(re,G,e){e.r(G),e.d(G,{default:function(){return Re}});var M=e(97857),w=e.n(M),F=e(9783),T=e.n(F),j=e(5574),y=e.n(j),C=e(15009),O=e.n(C),B=e(99289),P=e.n(B),l=e(62435),H=Object.defineProperty,V=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,v=(x,d,p)=>d in x?H(x,d,{enumerable:!0,configurable:!0,writable:!0,value:p}):x[d]=p,E=(x,d)=>{for(var p in d||(d={}))J.call(d,p)&&v(x,p,d[p]);if(V)for(var p of V(d))u.call(d,p)&&v(x,p,d[p]);return x};const h=x=>l.createElement("svg",E({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},x),l.createElement("g",{clipPath:"url(#select-files-end_svg__a)"},l.createElement("path",{d:"M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z",fill:"#F9F5FF"}),l.createElement("path",{d:"M1 16C1 7.716 7.716 1 16 1c8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15-8.284 0-15-6.716-15-15Z",fill:"#7F56D9"}),l.createElement("path",{d:"M1 16C1 7.716 7.716 1 16 1c8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15-8.284 0-15-6.716-15-15Z",stroke:"#7F56D9",strokeWidth:2}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m22.795 9.853-9.547 9.214-2.533-2.707c-.467-.44-1.2-.467-1.733-.093-.52.386-.667 1.066-.347 1.613l3 4.88c.293.453.8.733 1.373.733a1.63 1.63 0 0 0 1.36-.733c.48-.627 9.64-11.547 9.64-11.547 1.2-1.226-.253-2.306-1.213-1.373v.013Z",fill:"#fff"})),l.createElement("defs",null,l.createElement("clipPath",{id:"select-files-end_svg__a"},l.createElement("path",{d:"M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z",fill:"#fff"}))));var g="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBkPSJNMCAxNkMwIDcuMTYzIDcuMTYzIDAgMTYgMHMxNiA3LjE2MyAxNiAxNi03LjE2MyAxNi0xNiAxNlMwIDI0LjgzNyAwIDE2WiIgZmlsbD0iI0Y5RjVGRiIvPjxwYXRoIGQ9Ik0xIDE2QzEgNy43MTYgNy43MTYgMSAxNiAxYzguMjg0IDAgMTUgNi43MTYgMTUgMTUgMCA4LjI4NC02LjcxNiAxNS0xNSAxNS04LjI4NCAwLTE1LTYuNzE2LTE1LTE1WiIgZmlsbD0iIzdGNTZEOSIvPjxwYXRoIGQ9Ik0xIDE2QzEgNy43MTYgNy43MTYgMSAxNiAxYzguMjg0IDAgMTUgNi43MTYgMTUgMTUgMCA4LjI4NC02LjcxNiAxNS0xNSAxNS04LjI4NCAwLTE1LTYuNzE2LTE1LTE1WiIgc3Ryb2tlPSIjN0Y1NkQ5IiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTIyLjc5NSA5Ljg1My05LjU0NyA5LjIxNC0yLjUzMy0yLjcwN2MtLjQ2Ny0uNDQtMS4yLS40NjctMS43MzMtLjA5My0uNTIuMzg2LS42NjcgMS4wNjYtLjM0NyAxLjYxM2wzIDQuODhjLjI5My40NTMuOC43MzMgMS4zNzMuNzMzYTEuNjMgMS42MyAwIDAgMCAxLjM2LS43MzNjLjQ4LS42MjcgOS42NC0xMS41NDcgOS42NC0xMS41NDcgMS4yLTEuMjI2LS4yNTMtMi4zMDYtMS4yMTMtMS4zNzN2LjAxM1oiIGZpbGw9IiNmZmYiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBkPSJNMCAxNkMwIDcuMTYzIDcuMTYzIDAgMTYgMHMxNiA3LjE2MyAxNiAxNi03LjE2MyAxNi0xNiAxNlMwIDI0LjgzNyAwIDE2WiIgZmlsbD0iI2ZmZiIvPjwvY2xpcFBhdGg+PC9kZWZzPjwvc3ZnPg==",R=Object.defineProperty,c=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,f=(x,d,p)=>d in x?R(x,d,{enumerable:!0,configurable:!0,writable:!0,value:p}):x[d]=p,a=(x,d)=>{for(var p in d||(d={}))m.call(d,p)&&f(x,p,d[p]);if(c)for(var p of c(d))A.call(d,p)&&f(x,p,d[p]);return x};const o=x=>l.createElement("svg",a({width:40,height:40,fill:"none",xmlns:"http://www.w3.org/2000/svg"},x),l.createElement("g",{filter:"url(#select-files-start_svg__a)"},l.createElement("g",{clipPath:"url(#select-files-start_svg__b)"},l.createElement("path",{d:"M4 20c0-8.837 7.163-16 16-16s16 7.163 16 16-7.163 16-16 16S4 28.837 4 20Z",fill:"#F9F5FF"}),l.createElement("path",{d:"M5 20c0-8.284 6.716-15 15-15 8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15-8.284 0-15-6.716-15-15Z",fill:"#7F56D9"}),l.createElement("path",{d:"M5 20c0-8.284 6.716-15 15-15 8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15-8.284 0-15-6.716-15-15Z",stroke:"#7F56D9",strokeWidth:2}),l.createElement("circle",{cx:20,cy:20,r:5,fill:"#fff"}))),l.createElement("defs",null,l.createElement("clipPath",{id:"select-files-start_svg__b"},l.createElement("path",{d:"M4 20c0-8.837 7.163-16 16-16s16 7.163 16 16-7.163 16-16 16S4 28.837 4 20Z",fill:"#fff"})),l.createElement("filter",{id:"select-files-start_svg__a",x:0,y:0,width:40,height:40,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},l.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),l.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),l.createElement("feMorphology",{radius:4,operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_304_382"}),l.createElement("feOffset",null),l.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),l.createElement("feColorMatrix",{values:"0 0 0 0 0.619152 0 0 0 0 0.465529 0 0 0 0 0.930549 0 0 0 0.24 0"}),l.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_304_382"}),l.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_304_382",result:"shape"}))));var t="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsdGVyPSJ1cmwoI2EpIj48ZyBjbGlwLXBhdGg9InVybCgjYikiPjxwYXRoIGQ9Ik00IDIwYzAtOC44MzcgNy4xNjMtMTYgMTYtMTZzMTYgNy4xNjMgMTYgMTYtNy4xNjMgMTYtMTYgMTZTNCAyOC44MzcgNCAyMFoiIGZpbGw9IiNGOUY1RkYiLz48cGF0aCBkPSJNNSAyMGMwLTguMjg0IDYuNzE2LTE1IDE1LTE1IDguMjg0IDAgMTUgNi43MTYgMTUgMTUgMCA4LjI4NC02LjcxNiAxNS0xNSAxNS04LjI4NCAwLTE1LTYuNzE2LTE1LTE1WiIgZmlsbD0iIzdGNTZEOSIvPjxwYXRoIGQ9Ik01IDIwYzAtOC4yODQgNi43MTYtMTUgMTUtMTUgOC4yODQgMCAxNSA2LjcxNiAxNSAxNSAwIDguMjg0LTYuNzE2IDE1LTE1IDE1LTguMjg0IDAtMTUtNi43MTYtMTUtMTVaIiBzdHJva2U9IiM3RjU2RDkiIHN0cm9rZS13aWR0aD0iMiIvPjxjaXJjbGUgY3g9IjIwIiBjeT0iMjAiIHI9IjUiIGZpbGw9IiNmZmYiLz48L2c+PC9nPjxkZWZzPjxjbGlwUGF0aCBpZD0iYiI+PHBhdGggZD0iTTQgMjBjMC04LjgzNyA3LjE2My0xNiAxNi0xNnMxNiA3LjE2MyAxNiAxNi03LjE2MyAxNi0xNiAxNlM0IDI4LjgzNyA0IDIwWiIgZmlsbD0iI2ZmZiIvPjwvY2xpcFBhdGg+PGZpbHRlciBpZD0iYSIgeD0iMCIgeT0iMCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiI+PGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz48ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlQWxwaGEiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiIHJlc3VsdD0iaGFyZEFscGhhIi8+PGZlTW9ycGhvbG9neSByYWRpdXM9IjQiIG9wZXJhdG9yPSJkaWxhdGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3dfMzA0XzM4MiIvPjxmZU9mZnNldC8+PGZlQ29tcG9zaXRlIGluMj0iaGFyZEFscGhhIiBvcGVyYXRvcj0ib3V0Ii8+PGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuNjE5MTUyIDAgMCAwIDAgMC40NjU1MjkgMCAwIDAgMCAwLjkzMDU0OSAwIDAgMCAwLjI0IDAiLz48ZmVCbGVuZCBpbjI9IkJhY2tncm91bmRJbWFnZUZpeCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3dfMzA0XzM4MiIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImVmZmVjdDFfZHJvcFNoYWRvd18zMDRfMzgyIiByZXN1bHQ9InNoYXBlIi8+PC9maWx0ZXI+PC9kZWZzPjwvc3ZnPg==",r=e(82897),i=e(96330),n=e(49468),I=e(82182),Z=e(38725),D=e(79495),b=e(65400),K=e(87462),W={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm376 116c-119.3 0-216 96.7-216 216s96.7 216 216 216 216-96.7 216-216-96.7-216-216-216zm107.5 323.5C750.8 868.2 712.6 884 672 884s-78.8-15.8-107.5-44.5C535.8 810.8 520 772.6 520 732s15.8-78.8 44.5-107.5C593.2 595.8 631.4 580 672 580s78.8 15.8 107.5 44.5C808.2 653.2 824 691.4 824 732s-15.8 78.8-44.5 107.5zM761 656h-44.3c-2.6 0-5 1.2-6.5 3.3l-63.5 87.8-23.1-31.9a7.92 7.92 0 00-6.5-3.3H573c-6.5 0-10.3 7.4-6.5 12.7l73.8 102.1c3.2 4.4 9.7 4.4 12.9 0l114.2-158c3.9-5.3.1-12.7-6.4-12.7zM440 852H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"file-done",theme:"outlined"},Q=W,Y=e(84089),S=function(d,p){return l.createElement(Y.Z,(0,K.Z)({},d,{ref:p,icon:Q}))},le=l.forwardRef(S),Ie=e(48689),_=e(86548),Me=e(82826),xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"},ye=xe,Ce=function(d,p){return l.createElement(Y.Z,(0,K.Z)({},d,{ref:p,icon:ye}))},je=l.forwardRef(Ce),oe=e(31365),Oe=e(4393),ve=e(86250),Pe=e(38703),Ae=e(42075),Ee=e(15867),Ze=e(93967),Le=e.n(Ze),we=e(6589),ze=e(2039),N={uploadWrapper:"uploadWrapper___lI_Uj",backToList:"backToList___OSBoP",footer:"footer___mu5Ql",nextButton:"nextButton___H_c7u",uploadContent:"uploadContent___H2UOT",uploader:"uploader___J_kY5",hiddenUploader:"hiddenUploader___eVP6R",fileIcon:"fileIcon___MNG5b",uploaderButton:"uploaderButton___nrZBj",uploaderIcon:"uploaderIcon___pon6k",deleteIcon:"deleteIcon___RARFL",uploaderItem:"uploaderItem___wWr9h",uploaderItemProgress:"uploaderItemProgress___FUj_L",uploaderItemTextWrapper:"uploaderItemTextWrapper___bTzTB",progressWrapper:"progressWrapper___j7RXP",progress:"progress___zSrYV",selectFilesText:"selectFilesText___Wvg63",changeSpecificCategoryText:"changeSpecificCategoryText___vAhN8"},s=e(86074),Ge=oe.Z.Dragger,Fe=function(d){var p,$=d.file,ee=d.isUpload,he=d.remove,Se=d.handleEdit,pe=(0,I.wK)(),ie=pe.removeDocument,te=$==null||(p=$.response)===null||p===void 0?void 0:p.id,se=function(){var ce=P()(O()().mark(function q(){var ne;return O()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if($.status!=="error"){X.next=4;break}he(te),X.next=8;break;case 4:return X.next=6,ie(te);case 6:ne=X.sent,ne===0&&he(te);case 8:case"end":return X.stop()}},q)}));return function(){return ce.apply(this,arguments)}}(),Ne=function(){$.status==="done"&&Se(te)};return(0,s.jsxs)(Oe.Z,{className:N.uploaderItem,children:[(0,s.jsxs)(ve.Z,{justify:"space-between",children:[(0,s.jsx)(le,{className:N.fileIcon}),(0,s.jsxs)("section",{className:N.uploaderItemTextWrapper,children:[(0,s.jsx)("div",{children:(0,s.jsx)("b",{children:$.name})}),(0,s.jsx)("span",{children:$.size})]}),ee?(0,s.jsx)(Ie.Z,{className:N.deleteIcon,onClick:se}):(0,s.jsx)(_.Z,{onClick:Ne})]}),(0,s.jsxs)(ve.Z,{children:[(0,s.jsx)(Pe.Z,{showInfo:!1,percent:100,className:N.uploaderItemProgress,strokeColor:" rgba(127, 86, 217, 1) "}),(0,s.jsx)("span",{children:"100%"})]})]})},Be=function(){var d=(0,I.w9)(),p=(0,l.useState)(!0),$=y()(p,2),ee=$[0],he=$[1],Se=(0,l.useState)([]),pe=y()(Se,2),ie=pe[0],te=pe[1],se=(0,l.useRef)([]),Ne=(0,we.useNavigate)(),ce=(0,Z.cE)(),q=ce.currentRecord,ne=ce.setRecord,ae=(0,Z.$0)(q.id),X=ae.changeParserLoading,Ue=ae.onChangeParserOk,We=ae.changeParserVisible,Ye=ae.hideChangeParserModal,De=ae.showChangeParserModal,Te=(0,n.OB)(),$e=(0,n.cG)(),ke=(0,n.TO)(),He=(0,ze.qM)("knowledgeDetails"),de=He.t,Ve=(0,l.useMemo)(function(){return ee?ie.length>0&&se.current.filter(function(U){return(0,b.Re)(U)}).length===ie.length:!0},[ie,ee]),Ke=function(){var U=P()(O()().mark(function L(z){var ue,fe,ge,k;return O()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return ue=z.file,fe=z.onSuccess,ge=z.onError,me.next=3,ke(ue);case 3:k=me.sent,(k==null?void 0:k.retcode)===0?(te(function(et){return et.concat(k.data.id)}),fe&&fe(k.data)):ge&&ge(k==null?void 0:k.data);case 5:case"end":return me.stop()}},L)}));return function(z){return U.apply(this,arguments)}}(),Xe=(0,l.useCallback)(function(U){te(function(L){return L.filter(function(z){return z!==U})})},[]),Je=(0,l.useCallback)(function(U){var L=Te.find(function(z){return z.id===U});L&&ne(L),De()},[Te,De,ne]),Qe={name:"file",multiple:!0,itemRender:function(L,z,ue,fe){se.current=ue;var ge=function(be){(0,b.Re)(z)&&Xe(be),fe.remove()};return(0,s.jsx)(Fe,{isUpload:ee,file:z,fileList:ue,originNode:L,remove:ge,showModal:De,setRecord:ne,handleEdit:Je})},customRequest:Ke,onDrop:function(L){console.log("Dropped files",L.dataTransfer.files)}},_e=function(){var L=se.current.map(function(z){return z.response.id});$e({doc_ids:L,run:1})},qe=function(){ee?he(!1):(_e(),Ne("/knowledge/".concat(i.Rx.Dataset,"?id=").concat(d)))};return(0,D.fS)(),(0,I.SD)(),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:N.uploadWrapper,children:[(0,s.jsxs)("section",{children:[(0,s.jsxs)(Ae.Z,{className:N.backToList,children:[(0,s.jsx)(Me.Z,{}),(0,s.jsx)(we.Link,{to:"/knowledge/dataset?id=".concat(d),children:"Back to select files"})]}),(0,s.jsxs)("div",{className:N.progressWrapper,children:[(0,s.jsxs)(ve.Z,{align:"center",justify:"center",children:[(0,s.jsx)(o,{}),(0,s.jsx)(Pe.Z,{percent:100,showInfo:!1,className:N.progress,strokeColor:" rgba(127, 86, 217, 1) "}),(0,s.jsx)(h,{})]}),(0,s.jsxs)(ve.Z,{justify:"space-around",children:[(0,s.jsx)("p",{className:N.selectFilesText,children:(0,s.jsx)("b",{children:de("selectFiles")})}),(0,s.jsx)("p",{className:N.changeSpecificCategoryText,children:(0,s.jsx)("b",{children:de("changeSpecificCategory")})})]})]})]}),(0,s.jsx)("section",{className:N.uploadContent,children:(0,s.jsxs)(Ge,w()(w()({},Qe),{},{className:Le()(N.uploader,T()({},N.hiddenUploader,!ee)),children:[(0,s.jsx)(Ee.ZP,{className:N.uploaderButton,children:(0,s.jsx)(je,{className:N.uploaderIcon})}),(0,s.jsx)("p",{className:"ant-upload-text",children:de("uploadTitle")}),(0,s.jsx)("p",{className:"ant-upload-hint",children:de("uploadDescription")})]}))}),(0,s.jsx)("section",{className:N.footer,children:(0,s.jsx)(Ee.ZP,{type:"primary",className:N.nextButton,onClick:qe,disabled:!Ve,size:"large",children:de("next",{keyPrefix:"common"})})})]}),(0,s.jsx)(r.Z,{documentId:q.id,parserId:q.parser_id,parserConfig:q.parser_config,documentExtension:(0,b.RT)(q.name),onOk:Ue,visible:We,hideModal:Ye,loading:X})]})},Re=Be},96074:function(re,G,e){e.d(G,{Z:function(){return J}});var M=e(62435),w=e(93967),F=e.n(w),T=e(53124),j=e(54548),y=e(14747),C=e(91945),O=e(45503);const B=u=>{const{componentCls:v,sizePaddingEdgeHorizontal:E,colorSplit:h,lineWidth:g,textPaddingInline:R,orientationMargin:c,verticalMarginInline:m}=u;return{[v]:Object.assign(Object.assign({},(0,y.Wf)(u)),{borderBlockStart:`${(0,j.bf)(g)} solid ${h}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:m,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${(0,j.bf)(g)} solid ${h}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${(0,j.bf)(u.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${v}-with-text`]:{display:"flex",alignItems:"center",margin:`${(0,j.bf)(u.dividerHorizontalWithTextGutterMargin)} 0`,color:u.colorTextHeading,fontWeight:500,fontSize:u.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${h}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${(0,j.bf)(g)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${v}-with-text-left`]:{"&::before":{width:`calc(${c} * 100%)`},"&::after":{width:`calc(100% - ${c} * 100%)`}},[`&-horizontal${v}-with-text-right`]:{"&::before":{width:`calc(100% - ${c} * 100%)`},"&::after":{width:`calc(${c} * 100%)`}},[`${v}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:R},"&-dashed":{background:"none",borderColor:h,borderStyle:"dashed",borderWidth:`${(0,j.bf)(g)} 0 0`},[`&-horizontal${v}-with-text${v}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${v}-dashed`]:{borderInlineStartWidth:g,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${v}-with-text`]:{color:u.colorText,fontWeight:"normal",fontSize:u.fontSize},[`&-horizontal${v}-with-text-left${v}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${v}-inner-text`]:{paddingInlineStart:E}},[`&-horizontal${v}-with-text-right${v}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${v}-inner-text`]:{paddingInlineEnd:E}}})}},P=u=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:u.marginXS});var l=(0,C.I$)("Divider",u=>{const v=(0,O.TS)(u,{dividerHorizontalWithTextGutterMargin:u.margin,dividerHorizontalGutterMargin:u.marginLG,sizePaddingEdgeHorizontal:0});return[B(v)]},P,{unitless:{orientationMargin:!0}}),H=function(u,v){var E={};for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&v.indexOf(h)<0&&(E[h]=u[h]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,h=Object.getOwnPropertySymbols(u);g<h.length;g++)v.indexOf(h[g])<0&&Object.prototype.propertyIsEnumerable.call(u,h[g])&&(E[h[g]]=u[h[g]]);return E},J=u=>{const{getPrefixCls:v,direction:E,divider:h}=M.useContext(T.E_),{prefixCls:g,type:R="horizontal",orientation:c="center",orientationMargin:m,className:A,rootClassName:f,children:a,dashed:o,plain:t,style:r}=u,i=H(u,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),n=v("divider",g),[I,Z,D]=l(n),b=c.length>0?`-${c}`:c,K=!!a,W=c==="left"&&m!=null,Q=c==="right"&&m!=null,Y=F()(n,h==null?void 0:h.className,Z,D,`${n}-${R}`,{[`${n}-with-text`]:K,[`${n}-with-text${b}`]:K,[`${n}-dashed`]:!!o,[`${n}-plain`]:!!t,[`${n}-rtl`]:E==="rtl",[`${n}-no-default-orientation-margin-left`]:W,[`${n}-no-default-orientation-margin-right`]:Q},A,f),S=M.useMemo(()=>typeof m=="number"?m:/^\d+$/.test(m)?Number(m):m,[m]),le=Object.assign(Object.assign({},W&&{marginLeft:S}),Q&&{marginRight:S});return I(M.createElement("div",Object.assign({className:Y,style:Object.assign(Object.assign({},h==null?void 0:h.style),r)},i,{role:"separator"}),a&&R!=="vertical"&&M.createElement("span",{className:`${n}-inner-text`,style:le},a)))}},86250:function(re,G,e){e.d(G,{Z:function(){return o}});var M=e(62435),w=e(93967),F=e.n(w),T=e(98423),j=e(98065),y=e(53124),C=e(91945),O=e(45503);const B=["wrap","nowrap","wrap-reverse"],P=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],l=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],H=(t,r)=>{const i={};return B.forEach(n=>{i[`${t}-wrap-${n}`]=r.wrap===n}),i},V=(t,r)=>{const i={};return l.forEach(n=>{i[`${t}-align-${n}`]=r.align===n}),i[`${t}-align-stretch`]=!r.align&&!!r.vertical,i},J=(t,r)=>{const i={};return P.forEach(n=>{i[`${t}-justify-${n}`]=r.justify===n}),i};function u(t,r){return F()(Object.assign(Object.assign(Object.assign({},H(t,r)),V(t,r)),J(t,r)))}var v=u;const E=t=>{const{componentCls:r}=t;return{[r]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},h=t=>{const{componentCls:r}=t;return{[r]:{"&-gap-small":{gap:t.flexGapSM},"&-gap-middle":{gap:t.flexGap},"&-gap-large":{gap:t.flexGapLG}}}},g=t=>{const{componentCls:r}=t,i={};return B.forEach(n=>{i[`${r}-wrap-${n}`]={flexWrap:n}}),i},R=t=>{const{componentCls:r}=t,i={};return l.forEach(n=>{i[`${r}-align-${n}`]={alignItems:n}}),i},c=t=>{const{componentCls:r}=t,i={};return P.forEach(n=>{i[`${r}-justify-${n}`]={justifyContent:n}}),i},m=()=>({});var A=(0,C.I$)("Flex",t=>{const{paddingXS:r,padding:i,paddingLG:n}=t,I=(0,O.TS)(t,{flexGapSM:r,flexGap:i,flexGapLG:n});return[E(I),h(I),g(I),R(I),c(I)]},m,{resetStyle:!1}),f=function(t,r){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var I=0,n=Object.getOwnPropertySymbols(t);I<n.length;I++)r.indexOf(n[I])<0&&Object.prototype.propertyIsEnumerable.call(t,n[I])&&(i[n[I]]=t[n[I]]);return i},o=M.forwardRef((t,r)=>{const{prefixCls:i,rootClassName:n,className:I,style:Z,flex:D,gap:b,children:K,vertical:W=!1,component:Q="div"}=t,Y=f(t,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:S,direction:le,getPrefixCls:Ie}=M.useContext(y.E_),_=Ie("flex",i),[Me,xe,ye]=A(_),Ce=W!=null?W:S==null?void 0:S.vertical,je=F()(I,n,S==null?void 0:S.className,_,xe,ye,v(_,t),{[`${_}-rtl`]:le==="rtl",[`${_}-gap-${b}`]:(0,j.n)(b),[`${_}-vertical`]:Ce}),oe=Object.assign(Object.assign({},S==null?void 0:S.style),Z);return D&&(oe.flex=D),b&&!(0,j.n)(b)&&(oe.gap=b),Me(M.createElement(Q,Object.assign({ref:r,className:je,style:oe},(0,T.Z)(Y,["justify","wrap","align"])),K))})},85576:function(re,G,e){e.d(G,{Z:function(){return R}});var M=e(56080),w=e(38657),F=e(56745),T=e(62435),j=e(93967),y=e.n(j),C=e(40974),O=e(8745),B=e(53124),P=e(57134),l=e(4941),H=e(71194),V=e(35792),J=function(c,m){var A={};for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&m.indexOf(f)<0&&(A[f]=c[f]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,f=Object.getOwnPropertySymbols(c);a<f.length;a++)m.indexOf(f[a])<0&&Object.prototype.propertyIsEnumerable.call(c,f[a])&&(A[f[a]]=c[f[a]]);return A};const u=c=>{const{prefixCls:m,className:A,closeIcon:f,closable:a,type:o,title:t,children:r,footer:i}=c,n=J(c,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:I}=T.useContext(B.E_),Z=I(),D=m||I("modal"),b=(0,V.Z)(Z),[K,W,Q]=(0,H.ZP)(D,b),Y=`${D}-confirm`;let S={};return o?S={closable:a!=null?a:!1,title:"",footer:"",children:T.createElement(P.O,Object.assign({},c,{prefixCls:D,confirmPrefixCls:Y,rootPrefixCls:Z,content:r}))}:S={closable:a!=null?a:!0,title:t,footer:i!==null&&T.createElement(l.$,Object.assign({},c)),children:r},K(T.createElement(C.s,Object.assign({prefixCls:D,className:y()(W,`${D}-pure-panel`,o&&Y,o&&`${Y}-${o}`,A,Q,b)},n,{closeIcon:(0,l.b)(D,f),closable:a},S)))};var v=(0,O.i)(u),E=e(94423);function h(c){return(0,M.ZP)((0,M.uW)(c))}const g=F.Z;g.useModal=E.Z,g.info=function(m){return(0,M.ZP)((0,M.cw)(m))},g.success=function(m){return(0,M.ZP)((0,M.vq)(m))},g.error=function(m){return(0,M.ZP)((0,M.AQ)(m))},g.warning=h,g.warn=h,g.confirm=function(m){return(0,M.ZP)((0,M.Au)(m))},g.destroyAll=function(){for(;w.Z.length;){const m=w.Z.pop();m&&m()}},g.config=M.ai,g._InternalPanelDoNotUseOrYouWillBeFired=v;var R=g}}]);

//# sourceMappingURL=p__add-knowledge__components__knowledge-dataset__knowledge-upload-file__index.926ab853.async.js.map